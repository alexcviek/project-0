"use strict";var playerName=void 0,playerChosen=void 0,villianChosen=void 0,playerLife=20,villianLife=20,turn=!0,roundText=void 0,round=1,score=0,characters={one:{name:"Nick",image:"public/assets/images/player1.gif",attack:4,warCry:2,defend:4,accuracy:.4},two:{name:"Ellen",image:"public/assets/images/player2.gif",attack:1,warCry:2,defend:5,accuracy:.7},three:{name:"Mutant Nick",image:"public/assets/images/player3.gif",attack:6,warCry:1,defend:2,accuracy:.5}},villians={one:{name:"Henry",image:"public/assets/images/villian3.jpg",attack:5,accuracy:.5},two:{name:"Xenomorph",image:"public/assets/images/villian2.gif",attack:10,accuracy:.6},three:{name:"Medusa",image:"public/assets/images/villian3.gif",attack:4,accuracy:.56}};$(function(){function e(){$(".instructions").removeClass("hidden"),$(".welcome").addClass("hidden")}function a(){$(".instructions").addClass("hidden"),$(".welcome").removeClass("hidden")}function n(){$(".welcome").addClass("hidden"),$(".character").removeClass("hidden")}function t(){$(".character").addClass("hidden"),$(".chosen-character").removeClass("hidden")}function i(){$(".chosen-character").addClass("hidden"),$(".game-window").removeClass("hidden"),l(),s(),c()}function o(){playerName=$(this).val(),0===playerName.length&&(playerName=playerChosen.name),$("#name").text("Hello "+playerName+"!"),$(".player1-name").text(playerName)}function r(){$(this).addClass("active").siblings().removeClass("active");var e=$(this).attr("id");e&&$("#start").attr("disabled",!1),playerChosen=characters[e],villianChosen=villians[e],$(".chosen-character img, .player1").attr("src",playerChosen.image),$(".villian").attr("src",villianChosen.image),$(".villian-name").text(villianChosen.name)}function l(){setInterval(function(){$("#player-health").html(playerLife),$("#villian-score").html(villianLife),$("h1").text("Round "+round)},500)}function c(){setInterval(function(){$("h1").text("Round "+round)},500)}function s(){setInterval(function(){$("#player-score").html(score)},500)}function d(){!0===turn&&(Math.random()<playerChosen.accuracy?(villianLife-=playerChosen.attack,score+=5,roundText="You have hit him!"):roundText="Whooops! A miss...",$("#battle-text").text(""+roundText),turn=!1,f(),y(),setTimeout(function(){u()},3e3))}function u(){!1===turn&&(Math.random()<villianChosen.accuracy?(playerLife-=villianChosen.attack,roundText="Crap! He hit you!"):roundText="Lucky u! This time it is a miss and you are safe!",$("#battle-text").text(""+roundText),y(),turn=!0,f())}function h(){turn=!1,villianChosen.attack-=playerChosen.defend,setTimeout(function(){u(),villianChosen.attack+=playerChosen.defend},2e3)}function m(){turn=!1,console.log(playerChosen.attack),playerChosen.attack+=playerChosen.warCry,console.log(playerChosen.attack),setTimeout(function(){u()},2e3),setTimeout(function(){d(),playerChosen.attack-=playerChosen.warCry,console.log(playerChosen.attack)},3e3)}function y(){playerLife<=0&&(v(),turn=!0),villianLife<=0&&($("#winner").text("You won this round!!! Ta-da!!").css({color:"red","font-size":"30px"}),turn=!0,setTimeout(function(){p()},2e3))}function f(){!1===turn&&(console.log("not your turn"),$(".player-corner img").removeClass("img-active")),!0===turn&&(console.log("your turn"),$(".player-corner img").addClass("img-active"))}function p(){console.log("Round 2!"),round+=1,villianLife=25*round,playerLife=20*round,roundText="",$("#winner").text(""),$("#battle-text").text(""+roundText)}function v(){$(".game-window").addClass("hidden"),$(".game-over").removeClass("hidden")}function C(){roundText="",playerLife=20,villianLife=20,round=1,score=0}function g(){$(".game-over").addClass("hidden"),C(),i()}function k(){$(".game-over").addClass("hidden"),$(".welcome").removeClass("hidden"),C()}$("#instructions").on("click",e),$("#back").on("click",a),$("#play").on("click",n),$("#start").on("click",t),$(".name").on("keyup",o),$(".person").on("click",r),$("#kick-off").on("click",i),$("#attack").on("click",d),$("#warcry").on("click",m),$("#defend").on("click",h),$("#yes").on("click",g),$("#no").on("click",k)});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC5qcyJdLCJuYW1lcyI6WyJwbGF5ZXJOYW1lIiwicGxheWVyQ2hvc2VuIiwidmlsbGlhbkNob3NlbiIsInBsYXllckxpZmUiLCJ2aWxsaWFuTGlmZSIsInR1cm4iLCJyb3VuZFRleHQiLCJjaGFyYWN0ZXJzIiwib25lIiwibmFtZSIsImltYWdlIiwiYXR0YWNrIiwid2FyQ3J5IiwiYWNjdXJhY3kiLCJ0d28iLCJ0aHJlZSIsInZpbGxpYW5zIiwiJCIsImhpZGVXaW5kb3cxIiwicmVtb3ZlQ2xhc3MiLCJoaWRlV2luZG93MiIsImFkZENsYXNzIiwiZ29Ub1BsYXlTY3JlZW4iLCJ0b1RoZUdhbWUiLCJzdGFydFRoZUdhbWUiLCJkaXNwbGF5SGVhbHRoIiwiZGlzcGxheVJvdW5kIiwidGhpcyIsInZhbCIsImdldFRoZU5hbWUiLCJ0ZXh0Iiwic2VsZWN0Q2hhcmFjdGVyIiwic2libGluZ3MiLCJpZCIsImF0dHIiLCJzZXRJbnRlcnZhbCIsImh0bWwiLCJyb3VuZCIsImRpc3BsYXlTY29yZSIsInNjb3JlIiwiYXR0YWNrVmlsbGlhbiIsIk1hdGgiLCJyYW5kb20iLCJ3aG9zZVR1cm4iLCJjaGVja0Zvcldpbm5lciIsInNldFRpbWVvdXQiLCJhdHRhY2tQbGF5ZXIiLCJkZWZlbmQiLCJjb25zb2xlIiwibG9nIiwiZ2FtZU92ZXIiLCJjc3MiLCJjb2xvciIsImZvbnQtc2l6ZSIsIm5leHRSb3VuZCIsInJlc2V0RGF0YSIsImJhY2tUb01lbnUiLCJvbiIsIm5ld0dhbWUiXSwibWFwcGluZ3MiOiJZQUFBLElBQUlBLGdCQUFBQSxHQUNBQyxpQkFBQUEsR0FEQUQsa0JBQUFBLEdBQ0FDLFdBQUFBLEdBQ0FDLFlBQUFBLEdBQ0FDLE1BQUFBLEVBQ0FDLGNBQUFBLEdBQ0FDLE1BQU8sRUFDUEMsTUFBQUEsRUFLSkMsWUFHRUMsS0FESUQsS0FBQUEsT0FDSkMsTUFBSyxtQ0FDSEMsT0FBTSxFQUNOQyxPQUFPLEVBQ1BDLE9BQVEsRUFDUkMsU0FKRyxJQU1IQyxLQVBl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d0MsR0FBRyxRQUFTckMsR0FDdkJILEVBQUUsU0FBU3dDLEdBQUcsUUFBU25DLEdBQ3ZCTCxFQUFFLFdBQVV3QyxHQUFHLFFBQVNsQyxHQUN4Qk4sRUFBRSxhQUFZd0MsR0FBQSxRQUFTNUIsR0FDdkJaLEVBQUUsV0FBV3dDLEdBQUcsUUFBUzFCLEdBQ3pCZCxFQUFFLFdBQUZ3QyxHQUFlQSxRQUFmN0MsR0FDQUssRUFBRSxXQUFXd0MsR0FBRyxRQUFTakIsR0FDekJ2QixFQUFFLFFBQUF3QyxHQUFXQSxRQUFHQyxHQUNoQnpDLEVBQUUsT0FBQXdDLEdBQUYsUUFBZ0JEIiwiZmlsZSI6ImFwcC5qcyIsInNvdXJjZXNDb250ZW50IjpbImxldCBwbGF5ZXJOYW1lO1xubGV0IHBsYXllckNob3NlbjtcbmxldCB2aWxsaWFuQ2hvc2VuO1xubGV0IHBsYXllckxpZmUgPSAyMDtcbmxldCB2aWxsaWFuTGlmZSA9IDIwO1xubGV0IHR1cm4gPSB0cnVlO1xubGV0IHJvdW5kVGV4dDtcbmxldCByb3VuZCA9IDE7XG5sZXQgc2NvcmUgPSAwO1xuLy8gY29uc3QgJGhpZ2hTY29yZSA9ICQoJy5oaWdoLXNjb3JlJyk7XG4vLyBsZXQgaGlnaFNjb3JlID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2hpZ2hTY29yZScpIHx8IDA7XG4vLyAkaGlnaFNjb3JlLnRleHQoaGlnaFNjb3JlKTtcblxuY29uc3QgY2hhcmFjdGVycyA9IHtcbiAgb25lOiB7XG4gICAgbmFtZTogJ05pY2snLFxuICAgIGltYWdlOiAncHVibGljL2Fzc2V0cy9pbWFnZXMvcGxheWVyMS5naWYnLFxuICAgIGF0dGFjazogNCxcbiAgICB3YXJDcnk6IDIsXG4gICAgZGVmZW5kOiA0LFxuICAgIGFjY3VyYWN5OiAwLjRcbiAgfSxcbiAgdHdvOiB7XG4gICAgbmFtZTogJ0VsbGVuJyxcbiAgICBpbWFnZTogJ3B1YmxpYy9hc3NldHMvaW1hZ2VzL3BsYXllcjIuZ2lmJyxcbiAgICBhdHRhY2s6IDEsXG4gICAgd2FyQ3J5OiAyLFxuICAgIGRlZmVuZDogNSxcbiAgICBhY2N1cmFjeTogMC43XG4gIH0sXG4gIHRocmVlOiB7XG4gICAgbmFtZTogJ011dGFudCBOaWNrJyxcbiAgICBpbWFnZTogJ3B1YmxpYy9hc3NldHMvaW1hZ2VzL3BsYXllcjMuZ2lmJyxcbiAgICBhdHRhY2s6IDYsXG4gICAgd2FyQ3J5OiAxLFxuICAgIGRlZmVuZDogMixcbiAgICBhY2N1cmFjeTogMC41XG4gIH1cbn07XG5jb25zdCB2aWxsaWFucyA9IHtcbiAgb25lOiB7XG4gICAgbmFtZTogJ0hlbnJ5JyxcbiAgICBpbWFnZTogJ3B1YmxpYy9hc3NldHMvaW1hZ2VzL3ZpbGxpYW4zLmpwZycsXG4gICAgYXR0YWNrOiA1LFxuICAgIGFjY3VyYWN5OiAwLjVcbiAgfSxcbiAgdHdvOiB7XG4gICAgbmFtZTogJ1hlbm9tb3JwaCcsXG4gICAgaW1hZ2U6ICdwdWJsaWMvYXNzZXRzL2ltYWdlcy92aWxsaWFuMi5naWYnLFxuICAgIGF0dGFjazogMTAsXG4gICAgYWNjdXJhY3k6IDAuNlxuICB9LFxuICB0aHJlZToge1xuICAgIG5hbWU6ICdNZWR1c2EnLFxuICAgIGltYWdlOiAncHVibGljL2Fzc2V0cy9pbWFnZXMvdmlsbGlhbjMuZ2lmJyxcbiAgICBhdHRhY2s6IDQsXG4gICAgYWNjdXJhY3k6IDAuNTZcbiAgfVxufTtcbiQoKCkgPT4ge1xuICBmdW5jdGlvbiBoaWRlV2luZG93MSgpe1xuICAgICQoJy5pbnN0cnVjdGlvbnMnKS5yZW1vdmVDbGFzcygnaGlkZGVuJyk7XG4gICAgJCgnLndlbGNvbWUnKS5hZGRDbGFzcygnaGlkZGVuJyk7XG4gIH1cbiAgZnVuY3Rpb24gaGlkZVdpbmRvdzIoKXtcbiAgICAkKCcuaW5zdHJ1Y3Rpb25zJykuYWRkQ2xhc3MoJ2hpZGRlbicpO1xuICAgICQoJy53ZWxjb21lJykucmVtb3ZlQ2xhc3MoJ2hpZGRlbicpO1xuICB9XG4gIGZ1bmN0aW9uIGdvVG9QbGF5U2NyZWVuKCl7XG4gICAgJCgnLndlbGNvbWUnKS5hZGRDbGFzcygnaGlkZGVuJyk7XG4gICAgJCgnLmNoYXJhY3RlcicpLnJlbW92ZUNsYXNzKCdoaWRkZW4nKTtcbiAgfVxuICBmdW5jdGlvbiB0b1RoZUdhbWUoKXtcbiAgICAkKCcuY2hhcmFjdGVyJykuYWRkQ2xhc3MoJ2hpZGRlbicpO1xuICAgICQoJy5jaG9zZW4tY2hhcmFjdGVyJykucmVtb3ZlQ2xhc3MoJ2hpZGRlbicpO1xuICB9XG4gIGZ1bmN0aW9uIHN0YXJ0VGhlR2FtZSgpe1xuICAgICQoJy5jaG9zZW4tY2hhcmFjdGVyJykuYWRkQ2xhc3MoJ2hpZGRlbicpO1xuICAgICQoJy5nYW1lLXdpbmRvdycpLnJlbW92ZUNsYXNzKCdoaWRkZW4nKTtcbiAgICBkaXNwbGF5SGVhbHRoKCk7XG4gICAgZGlzcGxheVNjb3JlKCk7XG4gICAgZGlzcGxheVJvdW5kKCk7XG4gIH1cbiAgZnVuY3Rpb24gZ2V0VGhlTmFtZSgpe1xuICAgIHBsYXllck5hbWUgPSAkKHRoaXMpLnZhbCgpO1xuICAgIGlmIChwbGF5ZXJOYW1lLmxlbmd0aCA9PT0gMCl7XG4gICAgICBwbGF5ZXJOYW1lID0gcGxheWVyQ2hvc2VuLm5hbWU7XG4gICAgfVxuICAgICQoJyNuYW1lJykudGV4dChgSGVsbG8gJHtwbGF5ZXJOYW1lfSFgKTtcbiAgICAkKCcucGxheWVyMS1uYW1lJykudGV4dChwbGF5ZXJOYW1lKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHNlbGVjdENoYXJhY3Rlcigpe1xuICAgICQodGhpcykuYWRkQ2xhc3MoJ2FjdGl2ZScpLnNpYmxpbmdzKCkucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpO1xuICAgIGNvbnN0IGlkID0gJCh0aGlzKS5hdHRyKCdpZCcpO1xuICAgIGlmKGlkKXtcbiAgICAgICQoJyNzdGFydCcpLmF0dHIoJ2Rpc2FibGVkJywgZmFsc2UpO1xuICAgIH1cbiAgICBwbGF5ZXJDaG9zZW4gPSBjaGFyYWN0ZXJzW2lkXTtcbiAgICB2aWxsaWFuQ2hvc2VuID0gdmlsbGlhbnNbaWRdO1xuICAgICQoJy5jaG9zZW4tY2hhcmFjdGVyIGltZywgLnBsYXllcjEnKS5hdHRyKCdzcmMnLCBwbGF5ZXJDaG9zZW4uaW1hZ2UpO1xuICAgICQoJy52aWxsaWFuJykuYXR0cignc3JjJywgdmlsbGlhbkNob3Nlbi5pbWFnZSk7XG4gICAgJCgnLnZpbGxpYW4tbmFtZScpLnRleHQodmlsbGlhbkNob3Nlbi5uYW1lKTtcbiAgfVxuICBmdW5jdGlvbiBkaXNwbGF5SGVhbHRoKCl7XG4gICAgc2V0SW50ZXJ2YWwoKCkgPT4ge1xuICAgICAgJCgnI3BsYXllci1oZWFsdGgnKS5odG1sKHBsYXllckxpZmUpO1xuICAgICAgJCgnI3ZpbGxpYW4tc2NvcmUnKS5odG1sKHZpbGxpYW5MaWZlKTtcbiAgICAgICQoJ2gxJykudGV4dChgUm91bmQgJHtyb3VuZH1gKTtcbiAgICB9LCA1MDApO1xuICB9XG4gIGZ1bmN0aW9uIGRpc3BsYXlSb3VuZCgpe1xuICAgIHNldEludGVydmFsKCgpID0+IHtcbiAgICAgICQoJ2gxJykudGV4dChgUm91bmQgJHtyb3VuZH1gKTtcbiAgICB9LCA1MDApO1xuICB9XG4gIGZ1bmN0aW9uIGRpc3BsYXlTY29yZSgpe1xuICAgIHNldEludGVydmFsKCgpID0+IHtcbiAgICAgICQoJyNwbGF5ZXItc2NvcmUnKS5odG1sKHNjb3JlKTtcbiAgICB9LCA1MDApO1xuICB9XG5cbiAgZnVuY3Rpb24gYXR0YWNrVmlsbGlhbigpe1xuICAgIGlmKHR1cm4gPT09IHRydWUpe1xuICAgICAgaWYoTWF0aC5yYW5kb20oKSA8IHBsYXllckNob3Nlbi5hY2N1cmFjeSl7XG4gICAgICAgIHZpbGxpYW5MaWZlIC09IHBsYXllckNob3Nlbi5hdHRhY2s7XG4gICAgICAgIHNjb3JlICs9IDU7XG4gICAgICAgIHJvdW5kVGV4dCA9ICdZb3UgaGF2ZSBoaXQgaGltISc7XG4gICAgICB9IGVsc2V7XG4gICAgICAgIHJvdW5kVGV4dCA9ICdXaG9vb3BzISBBIG1pc3MuLi4nO1xuICAgICAgfVxuICAgICAgJCgnI2JhdHRsZS10ZXh0JykudGV4dChgJHtyb3VuZFRleHR9YCk7XG4gICAgICB0dXJuID0gZmFsc2U7XG4gICAgICB3aG9zZVR1cm4oKTtcbiAgICAgIGNoZWNrRm9yV2lubmVyKCk7XG4gICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgYXR0YWNrUGxheWVyKCk7XG4gICAgICB9LCAzMDAwKTtcbiAgICB9XG4gIH1cbiAgZnVuY3Rpb24gYXR0YWNrUGxheWVyKCl7XG4gICAgaWYodHVybiA9PT0gZmFsc2Upe1xuICAgICAgaWYoTWF0aC5yYW5kb20oKSA8IHZpbGxpYW5DaG9zZW4uYWNjdXJhY3kpe1xuICAgICAgICBwbGF5ZXJMaWZlIC09IHZpbGxpYW5DaG9zZW4uYXR0YWNrO1xuICAgICAgICByb3VuZFRleHQgPSAnQ3JhcCEgSGUgaGl0IHlvdSEnO1xuICAgICAgfSBlbHNle1xuICAgICAgICByb3VuZFRleHQgPSAnTHVja3kgdSEgVGhpcyB0aW1lIGl0IGlzIGEgbWlzcyBhbmQgeW91IGFyZSBzYWZlISc7XG4gICAgICB9XG4gICAgICAkKCcjYmF0dGxlLXRleHQnKS50ZXh0KGAke3JvdW5kVGV4dH1gKTtcbiAgICAgIGNoZWNrRm9yV2lubmVyKCk7XG4gICAgICB0dXJuID0gdHJ1ZTtcbiAgICAgIHdob3NlVHVybigpO1xuICAgIH1cbiAgfVxuICBmdW5jdGlvbiBkZWZlbmQoKXtcbiAgICB0dXJuID0gZmFsc2U7XG4gICAgdmlsbGlhbkNob3Nlbi5hdHRhY2sgLT0gcGxheWVyQ2hvc2VuLmRlZmVuZDtcbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgIGF0dGFja1BsYXllcigpO1xuICAgICAgdmlsbGlhbkNob3Nlbi5hdHRhY2sgKz0gcGxheWVyQ2hvc2VuLmRlZmVuZDtcbiAgICB9LCAyMDAwKTtcbiAgfVxuICBmdW5jdGlvbiB3YXJDcnkoKXtcbiAgICB0dXJuID0gZmFsc2U7XG4gICAgY29uc29sZS5sb2cocGxheWVyQ2hvc2VuLmF0dGFjayk7XG4gICAgcGxheWVyQ2hvc2VuLmF0dGFjayArPSBwbGF5ZXJDaG9zZW4ud2FyQ3J5O1xuICAgIGNvbnNvbGUubG9nKHBsYXllckNob3Nlbi5hdHRhY2spO1xuICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgYXR0YWNrUGxheWVyKCk7XG4gICAgfSwgMjAwMCk7XG4gICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICBhdHRhY2tWaWxsaWFuKCk7XG4gICAgICBwbGF5ZXJDaG9zZW4uYXR0YWNrIC09IHBsYXllckNob3Nlbi53YXJDcnk7XG4gICAgICBjb25zb2xlLmxvZyhwbGF5ZXJDaG9zZW4uYXR0YWNrKTtcbiAgICB9LCAzMDAwKTtcbiAgfVxuICBmdW5jdGlvbiBjaGVja0Zvcldpbm5lcigpe1xuICAgIGlmIChwbGF5ZXJMaWZlIDw9IDApe1xuICAgICAgZ2FtZU92ZXIoKTtcbiAgICAgIHR1cm4gPSB0cnVlO1xuICAgIH1cbiAgICBpZih2aWxsaWFuTGlmZSA8PSAwKXtcbiAgICAgICQoJyN3aW5uZXInKS50ZXh0KCdZb3Ugd29uIHRoaXMgcm91bmQhISEgVGEtZGEhIScpLmNzcyh7J2NvbG9yJzogJ3JlZCcsICdmb250LXNpemUnOiAnMzBweCd9KTtcbiAgICAgIHR1cm4gPSB0cnVlO1xuICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgIG5leHRSb3VuZCgpO1xuICAgICAgfSwgMjAwMCk7XG4gICAgfVxuICB9XG4gIGZ1bmN0aW9uIHdob3NlVHVybigpe1xuICAgIGlmICh0dXJuID09PSBmYWxzZSl7XG4gICAgICBjb25zb2xlLmxvZygnbm90IHlvdXIgdHVybicpO1xuICAgICAgJCgnLnBsYXllci1jb3JuZXIgaW1nJykucmVtb3ZlQ2xhc3MoJ2ltZy1hY3RpdmUnKTtcbiAgICB9XG4gICAgaWYgKHR1cm4gPT09IHRydWUpe1xuICAgICAgY29uc29sZS5sb2coJ3lvdXIgdHVybicpO1xuICAgICAgJCgnLnBsYXllci1jb3JuZXIgaW1nJykuYWRkQ2xhc3MoJ2ltZy1hY3RpdmUnKTtcbiAgICB9XG4gIH1cbiAgZnVuY3Rpb24gbmV4dFJvdW5kKCl7XG4gICAgY29uc29sZS5sb2coJ1JvdW5kIDIhJyk7XG4gICAgcm91bmQgKz0gMTtcbiAgICB2aWxsaWFuTGlmZSA9IDI1ICogcm91bmQ7XG4gICAgcGxheWVyTGlmZSA9IDIwICAqIHJvdW5kO1xuICAgIHJvdW5kVGV4dCA9ICcnO1xuICAgICQoJyN3aW5uZXInKS50ZXh0KCcnKTtcbiAgICAkKCcjYmF0dGxlLXRleHQnKS50ZXh0KGAke3JvdW5kVGV4dH1gKTtcbiAgfVxuICBmdW5jdGlvbiBnYW1lT3Zlcigpe1xuICAgICQoJy5nYW1lLXdpbmRvdycpLmFkZENsYXNzKCdoaWRkZW4nKTtcbiAgICAkKCcuZ2FtZS1vdmVyJykucmVtb3ZlQ2xhc3MoJ2hpZGRlbicpO1xuICB9XG4gIGZ1bmN0aW9uIHJlc2V0RGF0YSgpe1xuICAgIHJvdW5kVGV4dCA9ICcnO1xuICAgIHBsYXllckxpZmUgPSAyMDtcbiAgICB2aWxsaWFuTGlmZSA9IDIwO1xuICAgIHJvdW5kID0gMTtcbiAgICBzY29yZSA9IDA7XG4gIH1cbiAgZnVuY3Rpb24gbmV3R2FtZSgpe1xuICAgICQoJy5nYW1lLW92ZXInKS5hZGRDbGFzcygnaGlkZGVuJyk7XG4gICAgcmVzZXREYXRhKCk7XG4gICAgc3RhcnRUaGVHYW1lKCk7XG4gIH1cbiAgZnVuY3Rpb24gYmFja1RvTWVudSgpe1xuICAgICQoJy5nYW1lLW92ZXInKS5hZGRDbGFzcygnaGlkZGVuJyk7XG4gICAgJCgnLndlbGNvbWUnKS5yZW1vdmVDbGFzcygnaGlkZGVuJyk7XG4gICAgcmVzZXREYXRhKCk7XG4gIH1cbiAgJCgnI2luc3RydWN0aW9ucycpLm9uKCdjbGljaycsIGhpZGVXaW5kb3cxKTtcbiAgJCgnI2JhY2snKS5vbignY2xpY2snLCBoaWRlV2luZG93Mik7XG4gICQoJyNwbGF5Jykub24oJ2NsaWNrJywgZ29Ub1BsYXlTY3JlZW4pO1xuICAkKCcjc3RhcnQnKS5vbignY2xpY2snLCB0b1RoZUdhbWUpO1xuICAkKCcubmFtZScpLm9uKCdrZXl1cCcsIGdldFRoZU5hbWUpO1xuICAkKCcucGVyc29uJykub24oJ2NsaWNrJywgc2VsZWN0Q2hhcmFjdGVyKTtcbiAgJCgnI2tpY2stb2ZmJykub24oJ2NsaWNrJywgc3RhcnRUaGVHYW1lKTtcbiAgJCgnI2F0dGFjaycpLm9uKCdjbGljaycsIGF0dGFja1ZpbGxpYW4pO1xuICAkKCcjd2FyY3J5Jykub24oJ2NsaWNrJywgd2FyQ3J5KTtcbiAgJCgnI2RlZmVuZCcpLm9uKCdjbGljaycsIGRlZmVuZCk7XG4gICQoJyN5ZXMnKS5vbignY2xpY2snLCBuZXdHYW1lKTtcbiAgJCgnI25vJykub24oJ2NsaWNrJywgYmFja1RvTWVudSk7XG59KTtcbiJdfQ==
