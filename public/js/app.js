"use strict";var playerName=void 0,playerChosen=void 0,villianChosen=void 0,playerLife=20,villianLife=20,turn=!0,roundResultText=void 0,characters={one:{name:"Nick",image:"public/assets/images/player1.gif",attack:4,warCry:2,defend:4,accuracy:.4},two:{name:"Ellen",image:"public/assets/images/player2.gif",attack:5,warCry:2,defend:5,accuracy:.5},three:{name:"No3",image:"public/assets/images/player3.jpg",attack:6,warCry:1,defend:2,accuracy:.5}},villians={one:{name:"Henry",image:"public/assets/images/villian3.jpg",attack:5,accuracy:.5},two:{name:"Xenomorph",image:"public/assets/images/villian2.gif",attack:6,accuracy:.6},three:{name:"Henry",image:"public/assets/images/villian3.jpg",attack:4,accuracy:.56}};$(function(){function e(){$(".instructions").removeClass("hidden"),$(".welcome").addClass("hidden")}function a(){$(".instructions").addClass("hidden"),$(".welcome").removeClass("hidden")}function n(){$(".welcome").addClass("hidden"),$(".character").removeClass("hidden")}function t(){$(".character").addClass("hidden"),$(".chosen-character").removeClass("hidden")}function i(){$(".chosen-character").fadeOut("slow").addClass("hidden"),$(".game-window").fadeIn("slow").removeClass("hidden"),s()}function l(){playerName=$(this).val(),0===playerName.length&&(playerName=playerChosen.name),$("#name").text("Hello "+playerName+"!"),$(".player1-name").text(playerName)}function o(){$(this).addClass("active").siblings().removeClass("active");var e=$(this).attr("id");e&&$("#start").attr("disabled",!1),playerChosen=characters[e],villianChosen=villians[e],$(".chosen-character img, .player1").attr("src",playerChosen.image),$(".villian").attr("src",villianChosen.image),$(".villian-name").text(villianChosen.name)}function s(){setInterval(function(){$("#player1-score").html(playerLife),$("#villian-score").html(villianLife)},500)}function c(){!0===turn&&(Math.random()<playerChosen.accuracy?(villianLife-=playerChosen.attack,roundResultText="You have hit him!"):roundResultText="Whooops! A miss...",$("#battle-text").text(""+roundResultText),turn=!1,console.log(turn),u(),setTimeout(function(){r()},2e3))}function r(){d(),!1===turn&&(Math.random()<villianChosen.accuracy?(playerLife-=villianChosen.attack,roundResultText="Crap! He hit you!"):roundResultText="Lucky u! This time it is a miss and you are safe!",$("#battle-text").text(""+roundResultText),u(),turn=!0,console.log(turn),d())}function u(){playerLife<=0&&($("#winner").text("GAME OVER. He killed you :(").css({color:"red","font-size":"30px"}),$("#attack, #warcry, #defend").attr("disabled",!0),turn=!0),villianLife<=0&&($("#winner").text("You won!!! Ta-da!!").css({color:"red","font-size":"30px"}),turn=!0)}function d(){!1===turn?console.log("not your turn"):console.log("your turn babe")}function h(){turn=!1,console.log(villianChosen.attack),villianChosen.attack-=playerChosen.defend,console.log(villianChosen.attack),setTimeout(function(){r(),villianChosen.attack+=playerChosen.defend,console.log(villianChosen.attack)},2e3)}function m(){turn=!1,console.log(playerChosen.attack),playerChosen.attack+=playerChosen.warCry,console.log(playerChosen.attack),setTimeout(function(){r()},2e3),setTimeout(function(){c(),playerChosen.attack-=playerChosen.warCry,console.log(playerChosen.attack)},3e3)}$("#instructions").on("click",e),$("#back").on("click",a),$("#play").on("click",n),$("#start").on("click",t),$(".name").on("keyup",l),$(".person").on("click",o),$("#kick-off").on("click",i),$("#attack").on("click",c),$("#warcry").on("click",m),$("#defend").on("click",h)});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC5qcyJdLCJuYW1lcyI6WyJwbGF5ZXJOYW1lIiwicGxheWVyQ2hvc2VuIiwidmlsbGlhbkNob3NlbiIsInBsYXllckxpZmUiLCJ2aWxsaWFuTGlmZSIsInJvdW5kUmVzdWx0VGV4dCIsIm9uZSIsImNoYXJhY3RlcnMiLCJuYW1lIiwiaW1hZ2UiLCJhdHRhY2siLCJ3YXJDcnkiLCJhY2N1cmFjeSIsInR3byIsInRocmVlIiwidmlsbGlhbnMiLCIkIiwiaGlkZVdpbmRvdzEiLCJyZW1vdmVDbGFzcyIsImhpZGVXaW5kb3cyIiwiYWRkQ2xhc3MiLCJnb1RvUGxheVNjcmVlbiIsInRvVGhlR2FtZSIsInN0YXJ0VGhlR2FtZSIsImZhZGVPdXQiLCJkaXNwbGF5SGVhbHRoIiwidGhpcyIsInZhbCIsImdldFRoZU5hbWUiLCJ0ZXh0Iiwic2VsZWN0Q2hhcmFjdGVyIiwic2libGluZ3MiLCJpZCIsImF0dHIiLCJzZXRJbnRlcnZhbCIsImh0bWwiLCJhdHRhY2tWaWxsaWFuIiwidHVybiIsIk1hdGgiLCJsb2ciLCJjb25zb2xlIiwiY2hlY2tGb3JXaW5uZXIiLCJzZXRUaW1lb3V0IiwiYXR0YWNrUGxheWVyIiwid2hvc2VUdXJuIiwiY3NzIiwiY29sb3IiLCJmb250LXNpemUiLCJkZWZlbmQiLCJvbiJdLCJtYXBwaW5ncyI6IllBQUEsSUFBSUEsZ0JBQUFBLEdBQ0FDLGlCQUFBQSxHQURBRCxrQkFBQUEsR0FDQUMsV0FBQUEsR0FDQUMsWUFBQUEsR0FDQUMsTUFBQUEsRUFDQUMsb0JBQUFBLEdBRUFDLFlBR0ZDLEtBRElDLEtBQUFBLE9BQ0pELE1BQUssbUNBQ0hFLE9BQU0sRUFDTkMsT0FBTyxFQUNQQyxPQUFRLEVBQ1JDLFNBSkcsSUFNSEMsS0FQZUosS0FBQSxRQVNqQkssTUFBSyxtQ0FDSEwsT0FBTSxFQUNOQyxPQUFPLEVBQ1BDLE9BQVEsRUFDUkMsU0FKRyxJQU1IQyxPQWZlSixLQUFBLE1BaUJqQk0sTUFBTyxtQ0FDTE4sT0FBTSxFQUNOQyxPQUFPLEVB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K0MsT0FDckNSLFFBQVFELElBQUlyQyxjQUFjUSxTQUN6QixLQUVMLFFBQVNDLEtBQ1AwQixNQUFPLEVBQ1BHLFFBQVFELElBQUl0QyxhQUFhUyxRQUN6QlQsYUFBYVMsUUFBVVQsYUFBYVUsT0FDcEM2QixRQUFRRCxJQUFJdEMsYUFBYVMsUUFDekJnQyxXQUFXLFdBQ1RDLEtBQ0MsS0FDSEQsV0FBVyxXQUNUTixJQUNBbkMsYUFBYVMsUUFBVVQsYUFBYVUsT0FDcEM2QixRQUFRRCxJQUFJdEMsYUFBYVMsU0FDeEIsS0FFTE0sRUFBRSxpQkFBaUJpQyxHQUFHLFFBQVNoQyxHQUMvQkQsRUFBRSxTQUFTaUMsR0FBRyxRQUFTOUIsR0FDdkJILEVBQUUsU0FBU2lDLEdBQUcsUUFBUzVCLEdBQ3ZCTCxFQUFFLFVBQVVpQyxHQUFHLFFBQVMzQixHQUN4Qk4sRUFBRSxTQUFTaUMsR0FBRyxRQUFTckIsR0FDdkJaLEVBQUUsV0FBV2lDLEdBQUcsUUFBU25CLEdBQ3pCZCxFQUFFLGFBQWFpQyxHQUFHLFFBQVMxQixHQUMzQlAsRUFBRSxXQUFXaUMsR0FBRyxRQUFTYixHQUN6QnBCLEVBQUUsV0FBV2lDLEdBQUcsUUFBU3RDLEdBQ3pCSyxFQUFFLFdBQVdpQyxHQUFHLFFBQVNEIiwiZmlsZSI6ImFwcC5qcyIsInNvdXJjZXNDb250ZW50IjpbImxldCBwbGF5ZXJOYW1lO1xubGV0IHBsYXllckNob3NlbjtcbmxldCB2aWxsaWFuQ2hvc2VuO1xubGV0IHBsYXllckxpZmUgPSAyMDtcbmxldCB2aWxsaWFuTGlmZSA9IDIwO1xubGV0IHR1cm4gPSB0cnVlO1xubGV0IHJvdW5kUmVzdWx0VGV4dDtcblxuY29uc3QgY2hhcmFjdGVycyA9IHtcbiAgb25lOiB7XG4gICAgbmFtZTogJ05pY2snLFxuICAgIGltYWdlOiAncHVibGljL2Fzc2V0cy9pbWFnZXMvcGxheWVyMS5naWYnLFxuICAgIGF0dGFjazogNCxcbiAgICB3YXJDcnk6IDIsXG4gICAgZGVmZW5kOiA0LFxuICAgIGFjY3VyYWN5OiAwLjRcbiAgfSxcbiAgdHdvOiB7XG4gICAgbmFtZTogJ0VsbGVuJyxcbiAgICBpbWFnZTogJ3B1YmxpYy9hc3NldHMvaW1hZ2VzL3BsYXllcjIuZ2lmJyxcbiAgICBhdHRhY2s6IDUsXG4gICAgd2FyQ3J5OiAyLFxuICAgIGRlZmVuZDogNSxcbiAgICBhY2N1cmFjeTogMC41XG4gIH0sXG4gIHRocmVlOiB7XG4gICAgbmFtZTogJ05vMycsXG4gICAgaW1hZ2U6ICdwdWJsaWMvYXNzZXRzL2ltYWdlcy9wbGF5ZXIzLmpwZycsXG4gICAgYXR0YWNrOiA2LFxuICAgIHdhckNyeTogMSxcbiAgICBkZWZlbmQ6IDIsXG4gICAgYWNjdXJhY3k6IDAuNVxuICB9XG59O1xuY29uc3QgdmlsbGlhbnMgPSB7XG4gIG9uZToge1xuICAgIG5hbWU6ICdIZW5yeScsXG4gICAgaW1hZ2U6ICdwdWJsaWMvYXNzZXRzL2ltYWdlcy92aWxsaWFuMy5qcGcnLFxuICAgIGF0dGFjazogNSxcbiAgICBhY2N1cmFjeTogMC41XG4gIH0sXG4gIHR3bzoge1xuICAgIG5hbWU6ICdYZW5vbW9ycGgnLFxuICAgIGltYWdlOiAncHVibGljL2Fzc2V0cy9pbWFnZXMvdmlsbGlhbjIuZ2lmJyxcbiAgICBhdHRhY2s6IDYsXG4gICAgYWNjdXJhY3k6IDAuNlxuICB9LFxuICB0aHJlZToge1xuICAgIG5hbWU6ICdIZW5yeScsXG4gICAgaW1hZ2U6ICdwdWJsaWMvYXNzZXRzL2ltYWdlcy92aWxsaWFuMy5qcGcnLFxuICAgIGF0dGFjazogNCxcbiAgICBhY2N1cmFjeTogMC41NlxuICB9XG59O1xuJCgoKSA9PiB7XG4gIGZ1bmN0aW9uIGhpZGVXaW5kb3cxKCl7XG4gICAgJCgnLmluc3RydWN0aW9ucycpLnJlbW92ZUNsYXNzKCdoaWRkZW4nKTtcbiAgICAkKCcud2VsY29tZScpLmFkZENsYXNzKCdoaWRkZW4nKTtcbiAgfVxuICBmdW5jdGlvbiBoaWRlV2luZG93Migpe1xuICAgICQoJy5pbnN0cnVjdGlvbnMnKS5hZGRDbGFzcygnaGlkZGVuJyk7XG4gICAgJCgnLndlbGNvbWUnKS5yZW1vdmVDbGFzcygnaGlkZGVuJyk7XG4gIH1cbiAgZnVuY3Rpb24gZ29Ub1BsYXlTY3JlZW4oKXtcbiAgICAkKCcud2VsY29tZScpLmFkZENsYXNzKCdoaWRkZW4nKTtcbiAgICAkKCcuY2hhcmFjdGVyJykucmVtb3ZlQ2xhc3MoJ2hpZGRlbicpO1xuICB9XG4gIGZ1bmN0aW9uIHRvVGhlR2FtZSgpe1xuICAgICQoJy5jaGFyYWN0ZXInKS5hZGRDbGFzcygnaGlkZGVuJyk7XG4gICAgJCgnLmNob3Nlbi1jaGFyYWN0ZXInKS5yZW1vdmVDbGFzcygnaGlkZGVuJyk7XG4gIH1cbiAgZnVuY3Rpb24gc3RhcnRUaGVHYW1lKCl7XG4gICAgJCgnLmNob3Nlbi1jaGFyYWN0ZXInKS5mYWRlT3V0KCdzbG93JykuYWRkQ2xhc3MoJ2hpZGRlbicpO1xuICAgICQoJy5nYW1lLXdpbmRvdycpLmZhZGVJbignc2xvdycpLnJlbW92ZUNsYXNzKCdoaWRkZW4nKTtcbiAgICBkaXNwbGF5SGVhbHRoKCk7XG4gIH1cbiAgZnVuY3Rpb24gZ2V0VGhlTmFtZSgpe1xuICAgIHBsYXllck5hbWUgPSAkKHRoaXMpLnZhbCgpO1xuICAgIGlmIChwbGF5ZXJOYW1lLmxlbmd0aCA9PT0gMCl7XG4gICAgICBwbGF5ZXJOYW1lID0gcGxheWVyQ2hvc2VuLm5hbWU7XG4gICAgfVxuICAgICQoJyNuYW1lJykudGV4dChgSGVsbG8gJHtwbGF5ZXJOYW1lfSFgKTtcbiAgICAkKCcucGxheWVyMS1uYW1lJykudGV4dChwbGF5ZXJOYW1lKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHNlbGVjdENoYXJhY3Rlcigpe1xuICAgICQodGhpcykuYWRkQ2xhc3MoJ2FjdGl2ZScpLnNpYmxpbmdzKCkucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpO1xuICAgIGNvbnN0IGlkID0gJCh0aGlzKS5hdHRyKCdpZCcpO1xuICAgIGlmKGlkKXtcbiAgICAgICQoJyNzdGFydCcpLmF0dHIoJ2Rpc2FibGVkJywgZmFsc2UpO1xuICAgIH1cbiAgICBwbGF5ZXJDaG9zZW4gPSBjaGFyYWN0ZXJzW2lkXTtcbiAgICB2aWxsaWFuQ2hvc2VuID0gdmlsbGlhbnNbaWRdO1xuICAgICQoJy5jaG9zZW4tY2hhcmFjdGVyIGltZywgLnBsYXllcjEnKS5hdHRyKCdzcmMnLCBwbGF5ZXJDaG9zZW4uaW1hZ2UpO1xuICAgICQoJy52aWxsaWFuJykuYXR0cignc3JjJywgdmlsbGlhbkNob3Nlbi5pbWFnZSk7XG4gICAgJCgnLnZpbGxpYW4tbmFtZScpLnRleHQodmlsbGlhbkNob3Nlbi5uYW1lKTtcbiAgfVxuICBmdW5jdGlvbiBkaXNwbGF5SGVhbHRoKCl7XG4gICAgc2V0SW50ZXJ2YWwoKCkgPT4ge1xuICAgICAgJCgnI3BsYXllcjEtc2NvcmUnKS5odG1sKHBsYXllckxpZmUpO1xuICAgICAgJCgnI3ZpbGxpYW4tc2NvcmUnKS5odG1sKHZpbGxpYW5MaWZlKTtcbiAgICB9LCA1MDApO1xuICB9XG5cbiAgZnVuY3Rpb24gYXR0YWNrVmlsbGlhbigpe1xuICAgIGlmKHR1cm4gPT09IHRydWUpe1xuICAgICAgaWYoTWF0aC5yYW5kb20oKSA8IHBsYXllckNob3Nlbi5hY2N1cmFjeSl7XG4gICAgICAgIHZpbGxpYW5MaWZlIC09IHBsYXllckNob3Nlbi5hdHRhY2s7XG4gICAgICAgIHJvdW5kUmVzdWx0VGV4dCA9ICdZb3UgaGF2ZSBoaXQgaGltISc7XG4gICAgICB9IGVsc2V7XG4gICAgICAgIHJvdW5kUmVzdWx0VGV4dCA9ICdXaG9vb3BzISBBIG1pc3MuLi4nO1xuICAgICAgfVxuICAgICAgJCgnI2JhdHRsZS10ZXh0JykudGV4dChgJHtyb3VuZFJlc3VsdFRleHR9YCk7XG4gICAgICB0dXJuID0gZmFsc2U7XG4gICAgICBjb25zb2xlLmxvZyh0dXJuKTtcbiAgICAgIGNoZWNrRm9yV2lubmVyKCk7XG4gICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgYXR0YWNrUGxheWVyKCk7XG4gICAgICB9LCAyMDAwKTtcbiAgICB9XG4gIH1cbiAgZnVuY3Rpb24gYXR0YWNrUGxheWVyKCl7XG4gICAgd2hvc2VUdXJuKCk7XG4gICAgaWYodHVybiA9PT0gZmFsc2Upe1xuICAgICAgaWYoTWF0aC5yYW5kb20oKSA8IHZpbGxpYW5DaG9zZW4uYWNjdXJhY3kpe1xuICAgICAgICBwbGF5ZXJMaWZlIC09IHZpbGxpYW5DaG9zZW4uYXR0YWNrO1xuICAgICAgICByb3VuZFJlc3VsdFRleHQgPSAnQ3JhcCEgSGUgaGl0IHlvdSEnO1xuICAgICAgfSBlbHNle1xuICAgICAgICByb3VuZFJlc3VsdFRleHQgPSAnTHVja3kgdSEgVGhpcyB0aW1lIGl0IGlzIGEgbWlzcyBhbmQgeW91IGFyZSBzYWZlISc7XG4gICAgICB9XG4gICAgICAkKCcjYmF0dGxlLXRleHQnKS50ZXh0KGAke3JvdW5kUmVzdWx0VGV4dH1gKTtcbiAgICAgIGNoZWNrRm9yV2lubmVyKCk7XG4gICAgICB0dXJuID0gdHJ1ZTtcbiAgICAgIGNvbnNvbGUubG9nKHR1cm4pO1xuICAgICAgd2hvc2VUdXJuKCk7XG4gICAgfVxuICB9XG4gIGZ1bmN0aW9uIGNoZWNrRm9yV2lubmVyKCl7XG4gICAgaWYgKHBsYXllckxpZmUgPD0gMCl7XG4gICAgICAkKCcjd2lubmVyJykudGV4dCgnR0FNRSBPVkVSLiBIZSBraWxsZWQgeW91IDooJykuY3NzKHsnY29sb3InOiAncmVkJywgJ2ZvbnQtc2l6ZSc6ICczMHB4J30pO1xuICAgICAgJCgnI2F0dGFjaywgI3dhcmNyeSwgI2RlZmVuZCcpLmF0dHIoJ2Rpc2FibGVkJywgdHJ1ZSk7XG4gICAgICB0dXJuID0gdHJ1ZTtcbiAgICB9XG4gICAgaWYodmlsbGlhbkxpZmUgPD0gMCl7XG4gICAgICAkKCcjd2lubmVyJykudGV4dCgnWW91IHdvbiEhISBUYS1kYSEhJykuY3NzKHsnY29sb3InOiAncmVkJywgJ2ZvbnQtc2l6ZSc6ICczMHB4J30pO1xuICAgICAgdHVybiA9IHRydWU7XG4gICAgfVxuICB9XG4gIGZ1bmN0aW9uIHdob3NlVHVybigpe1xuICAgIGlmICh0dXJuID09PSBmYWxzZSl7XG4gICAgICBjb25zb2xlLmxvZygnbm90IHlvdXIgdHVybicpO1xuICAgICAgLy8gJCgnLnBsYXllci1jb3JuZXIgaW1nJykucmVtb3ZlQ2xhc3MoJ2ltZy1hY3RpdmUnKTtcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc29sZS5sb2coJ3lvdXIgdHVybiBiYWJlJyk7XG4gICAgICAvLyAkKCcucGxheWVyLWNvcm5lcicpLmFwcGVuZCgnPHA+WW91ciB0dXJuPC9wPicpO1xuICAgICAgLy8gJCgnLnBsYXllci1jb3JuZXIgaW1nJykuYWRkQ2xhc3MoJ2ltZy1hY3RpdmUnKTtcbiAgICB9XG4gIH1cbiAgZnVuY3Rpb24gbmV4dFJvdW5kKCl7XG5cbiAgfVxuICBmdW5jdGlvbiBkZWZlbmQoKXtcbiAgICB0dXJuID0gZmFsc2U7XG4gICAgY29uc29sZS5sb2codmlsbGlhbkNob3Nlbi5hdHRhY2spO1xuICAgIHZpbGxpYW5DaG9zZW4uYXR0YWNrIC09IHBsYXllckNob3Nlbi5kZWZlbmQ7XG4gICAgY29uc29sZS5sb2codmlsbGlhbkNob3Nlbi5hdHRhY2spO1xuICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgYXR0YWNrUGxheWVyKCk7XG4gICAgICB2aWxsaWFuQ2hvc2VuLmF0dGFjayArPSBwbGF5ZXJDaG9zZW4uZGVmZW5kO1xuICAgICAgY29uc29sZS5sb2codmlsbGlhbkNob3Nlbi5hdHRhY2spO1xuICAgIH0sIDIwMDApO1xuICB9XG4gIGZ1bmN0aW9uIHdhckNyeSgpe1xuICAgIHR1cm4gPSBmYWxzZTtcbiAgICBjb25zb2xlLmxvZyhwbGF5ZXJDaG9zZW4uYXR0YWNrKTtcbiAgICBwbGF5ZXJDaG9zZW4uYXR0YWNrICs9IHBsYXllckNob3Nlbi53YXJDcnk7XG4gICAgY29uc29sZS5sb2cocGxheWVyQ2hvc2VuLmF0dGFjayk7XG4gICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICBhdHRhY2tQbGF5ZXIoKTtcbiAgICB9LCAyMDAwKTtcbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgIGF0dGFja1ZpbGxpYW4oKTtcbiAgICAgIHBsYXllckNob3Nlbi5hdHRhY2sgLT0gcGxheWVyQ2hvc2VuLndhckNyeTtcbiAgICAgIGNvbnNvbGUubG9nKHBsYXllckNob3Nlbi5hdHRhY2spO1xuICAgIH0sIDMwMDApO1xuICB9XG4gICQoJyNpbnN0cnVjdGlvbnMnKS5vbignY2xpY2snLCBoaWRlV2luZG93MSk7XG4gICQoJyNiYWNrJykub24oJ2NsaWNrJywgaGlkZVdpbmRvdzIpO1xuICAkKCcjcGxheScpLm9uKCdjbGljaycsIGdvVG9QbGF5U2NyZWVuKTtcbiAgJCgnI3N0YXJ0Jykub24oJ2NsaWNrJywgdG9UaGVHYW1lKTtcbiAgJCgnLm5hbWUnKS5vbigna2V5dXAnLCBnZXRUaGVOYW1lKTtcbiAgJCgnLnBlcnNvbicpLm9uKCdjbGljaycsIHNlbGVjdENoYXJhY3Rlcik7XG4gICQoJyNraWNrLW9mZicpLm9uKCdjbGljaycsIHN0YXJ0VGhlR2FtZSk7XG4gICQoJyNhdHRhY2snKS5vbignY2xpY2snLCBhdHRhY2tWaWxsaWFuKTtcbiAgJCgnI3dhcmNyeScpLm9uKCdjbGljaycsIHdhckNyeSk7XG4gICQoJyNkZWZlbmQnKS5vbignY2xpY2snLCBkZWZlbmQpO1xufSk7XG4iXX0=
