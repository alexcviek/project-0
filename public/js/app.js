"use strict";$(function(){function t(){E.removeClass("hidden"),W.addClass("hidden")}function e(){E.addClass("hidden"),W.removeClass("hidden")}function a(){W.addClass("hidden"),B.removeClass("hidden")}function n(){B.addClass("hidden"),K.removeClass("hidden")}function c(){K.addClass("hidden"),L.removeClass("hidden"),et.text(j),r(),u(),l(),d()}function i(){j=N>j?N:j,et.text(j)}function o(){w=$(this).val(),0===w.length&&alert("You must provide your name"),$(".player-name").text(w)}function s(){$(this).addClass("active").siblings().removeClass("active");var t=$(this).attr("id");t&&J.attr("disabled",!1),A=z[t],I=D[t],$(".chosen-character img, .player").attr("src",A.image),$(".villian").attr("src",I.image),$(".villian-name").text(I.name)}function r(){setInterval(function(){$("#player-health").html(T),$("#villian-health").html(M)},500)}function l(){setInterval(function(){$("#round-no").text("Round "+H)},500)}function d(){setInterval(function(){$("#current-attack").text(A.currentAttack)},500)}function u(){setInterval(function(){tt.html(N)},500)}function m(){!0===S&&(Math.random()<A.accuracy?(M-=A.currentAttack,N+=A.currentAttack,Y="You have hit him!"):Y="Whooops! A miss...",A.currentAttack=A.attack,$("#battle-text").text(""+Y),S=!1,v(),g(),i(),setTimeout(function(){h()},3e3))}function h(){!1===S&&(Math.random()<I.accuracy?(T-=I.attack,Y="He hit you!"):Y="You are safe!",$("#battle-text").text(""+Y),g(),S=!0,v())}function f(){$("#battle-text").text(""),S=!1,v(),I.attack-=A.defend,setTimeout(function(){h(),I.attack+=A.defend},2e3)}function k(){$("#battle-text").text(""),S=!1,v(),A.currentAttack+=A.warCry,setTimeout(function(){h()},2e3)}function g(){T<=0&&C(),M<=0&&($("#winner").text("You won this round!!! Ta-da!!").css({color:"#C5D200","font-size":"28px"}),S=!0,setTimeout(function(){y()},2e3))}function v(){!1===S&&$(".player-section img").removeClass("img-active"),!0===S&&$(".player-section img").addClass("img-active")}function y(){H+=1,M=25*H,T=20*H,Y="",$("#winner").text(""),$("#battle-text").text(""+Y)}function C(){localStorage.setItem("highScore",j),L.addClass("hidden"),P.removeClass("hidden")}function p(){Y="",$("#battle-text").text(""+Y),T=20,M=20,H=1,N=0,S=!0}function x(){P.addClass("hidden"),p(),c()}function b(){P.addClass("hidden"),W.removeClass("hidden"),p()}var w=void 0,A=void 0,I=void 0,T=20,M=20,S=!0,Y=void 0,H=1,N=0,j=localStorage.getItem("highScore")||0,z={one:{name:"Nick",image:"public/assets/images/player1.gif",attack:4,currentAttack:4,warCry:2,defend:4,accuracy:.4},two:{name:"Ellen",image:"public/assets/images/player2.gif",attack:5,currentAttack:5,warCry:5,defend:5,accuracy:.4},three:{name:"Mutant Nick",image:"public/assets/images/player3.gif",attack:6,currentAttack:6,warCry:1,defend:2,accuracy:.5}},D={one:{name:"Henry",image:"public/assets/images/villian3.jpg",attack:5,accuracy:.5},two:{name:"Xenomorph",image:"public/assets/images/villian2.gif",attack:5,accuracy:.5},three:{name:"Medusa",image:"public/assets/images/villian3.gif",attack:4,accuracy:.56}},E=$(".instructions"),R=$("#instructions"),W=$(".welcome"),X=$("#back"),q=$("#play"),B=$(".character-screen"),F=$(".character"),G=$(".name"),J=$("#start"),K=$(".chosen-character"),L=$(".game-window"),O=$("#kick-off"),P=$(".game-over"),Q=$("#attack"),U=$("#warcry"),V=$("#defend"),Z=$("#new-game"),_=$("#back-to-menu"),tt=$("#player-score"),et=$(".high-score");R.on("click",t),X.on("click",e),q.on("click",a),J.on("click",n),G.on("keyup",o),F.on("click",s),O.on("click",c),Q.on("click",m),U.on("click",k),V.on("click",f),Z.on("click",x),_.on("click",b)});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC5qcyJdLCJuYW1lcyI6WyIkIiwiJGhpZ2hTY29yZSIsIiRpbnN0cnVjdGlvbnMiLCJyZW1vdmVDbGFzcyIsIiR3ZWxjb21lIiwiaGlkZVdpbmRvdzEiLCJhZGRDbGFzcyIsImhpZGVXaW5kb3cyIiwiJGNoYXJhY3RlclNjcmVlbiIsImdvVG9DaG9pY2VTY3JlZW4iLCIkY2hvc2VuQ2hhcmFjdGVyIiwiJGdhbWVXaW5kb3ciLCJzdGFydFRoZUdhbWUiLCJkaXNwbGF5SGVhbHRoIiwiZGlzcGxheVNjb3JlIiwiZGlzcGxheUN1cnJlbnRBdHRhY2siLCJoaWdoU2NvcmUiLCJzY29yZSIsInVwZGF0ZUhpZ2hTY29yZSIsInBsYXllck5hbWUiLCJ0aGlzIiwidmFsIiwiZ2V0VGhlTmFtZSIsImFsZXJ0IiwidGV4dCIsInNlbGVjdENoYXJhY3RlciIsInNpYmxpbmdzIiwiaWQiLCIkc3RhcnRCdG4iLCJhdHRyIiwidmlsbGlhbkNob3NlbiIsInZpbGxpYW5zIiwicGxheWVyQ2hvc2VuIiwiaW1hZ2UiLCJzZXRJbnRlcnZhbCIsImh0bWwiLCJwbGF5ZXJMaWZlIiwidmlsbGlhbkxpZmUiLCJkaXNwbGF5Um91bmQiLCJyb3VuZCIsImN1cnJlbnRBdHRhY2siLCIkc2NvcmUiLCJhdHRhY2tWaWxsaWFuIiwidHVybiIsIk1hdGgiLCJhY2N1cmFjeSIsInJhbmRvbSIsInJvdW5kVGV4dCIsImF0dGFjayIsIndob3NlVHVybiIsImNoZWNrRm9yV2lubmVyIiwic2V0VGltZW91dCIsImF0dGFja1BsYXllciIsImRlZmVuZCIsIndhckNyeSIsImdhbWVPdmVyIiwiY3NzIiwiY29sb3IiLCJmb250LXNpemUiLCJuZXh0Um91bmQiLCJsb2NhbFN0b3JhZ2UiLCJzZXRJdGVtIiwiJGdhbWVPdmVyU2NyZWVuIiwibmV3R2FtZSIsInJlc2V0RGF0YSIsImJhY2tUb01lbnUiLCJnZXRJdGVtIiwib25lIiwiY2hhcmFjdGVycyIsIm5hbWUiLCJ0d28iLCJ0aHJlZSIsIiRpbnN0cnVjdGlvbnNCdG4iLCIkYmFja0J0biIsIiRwbGF5QnRuIiwiJGNoYXJhY3RlciIsIiRuYW1lIiwiJGtpY2tPZmZCdG4iLCIkYXR0YWNrIiwiJHdhckNyeSIsIiRkZWZlbmQiLCIkbmV3R2FtZSIsIiRiYWNrVG9NZW51Iiwib24iLCJ0b1RoZUdhbWUiXSwibWFwcGluZ3MiOiJZQUFBQSxHQUFFLFdBaUZBLFFBQU1DLEtBR0pDLEVBQWNDLFlBQVksVUFENUJDLEVBQVNDLFNBQVQsVUFFRUQsUUFBQUEsS0FDREYsRUFBQUksU0FBQSxVQUNERixFQUFTRyxZQUFhLFVBRXBCSCxRQUFBQSxLQUNEQSxFQUFBRSxTQUFBLFVBQ0RFLEVBQVNDLFlBQWtCLFVBRXpCRCxRQUFBQSxLQUNEQSxFQUFBRixTQUFBLFVBQ0RJLEVBQUFQLFlBQW9CLFVBRWxCTyxRQUFBQSxLQUNEQSxFQUFBSixTQUFBLFVBQ0RLLEVBQVNDLFlBQWMsVUFDckJGLEdBQUFBLEtBQUFBLEdBQ0FDLElBQ0FWLElBQ0FZLElBQ0FDLElBRUFDLFFBQUFBLEtBQ0RDLEVBQUFDLEVBQUFELEVBQUFDLEVBQUFELEVBQ0RmLEdBQVNpQixLQUFBQSxHQUVQakIsUUFBQUEsS0FDRGtCLEVBQUFuQixFQUFBb0IsTUFBQUMsTUFDb0IsSUFBckJGLEVBQVNHLFFBQ1BILE1BQUFBLDhCQUVFSSxFQUFBQSxnQkFBTUMsS0FBQUwsR0FHVCxRQUFBTSxLQUdDekIsRUFBRW9CLE1BQU1kLFNBQVMsVUFBVW9CLFdBQVd2QixZQUFZLFNBRHBELElBQUF3QixHQUFTRixFQUFBQSxNQUFBQSxLQUFULEtBQ0lFLElBQ0ZDLEVBQWFDLEtBQU1BLFlBQW5CLEdBRUVELEVBQVVDLEVBQUtGLEdBQ2hCRyxFQUFBQyxFQUFBSixHQUNESyxFQUFBQSxrQ0FBQUgsS0FBQSxNQUFBRyxFQUFBQyxPQUNBSCxFQUFBQSxZQUFBQSxLQUFnQkMsTUFBU0osRUFBekJNLE9BQ0FqQyxFQUFFLGlCQUFBd0IsS0FBQU0sRUFBa0NELE1BRXBDN0IsUUFBRWEsS0FDSHFCLFlBQUEsV0FDRGxD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QUNmd0IsRUFBUUssR0FBRyxRQUFTekMsR0FDcEJxQyxFQUFRSSxHQUFHLFFBQVM3QixHQUNwQjBCLEVBQVdHLEdBQUEsUUFBUzlCIiwiZmlsZSI6ImFwcC5qcyIsInNvdXJjZXNDb250ZW50IjpbIiQoKCkgPT4ge1xuICBsZXQgcGxheWVyTmFtZTtcbiAgbGV0IHBsYXllckNob3NlbjtcbiAgbGV0IHZpbGxpYW5DaG9zZW47XG4gIGxldCBwbGF5ZXJMaWZlID0gMjA7XG4gIGxldCB2aWxsaWFuTGlmZSA9IDIwO1xuICBsZXQgdHVybiA9IHRydWU7XG4gIGxldCByb3VuZFRleHQ7XG4gIGxldCByb3VuZCA9IDE7XG4gIGxldCBzY29yZSA9IDA7XG4gIGxldCBoaWdoU2NvcmUgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnaGlnaFNjb3JlJykgfHwgMDtcblxuICBjb25zdCBjaGFyYWN0ZXJzID0ge1xuICAgIG9uZToge1xuICAgICAgbmFtZTogJ05pY2snLFxuICAgICAgaW1hZ2U6ICdwdWJsaWMvYXNzZXRzL2ltYWdlcy9wbGF5ZXIxLmdpZicsXG4gICAgICBhdHRhY2s6IDQsXG4gICAgICBjdXJyZW50QXR0YWNrOiA0LFxuICAgICAgd2FyQ3J5OiAyLFxuICAgICAgZGVmZW5kOiA0LFxuICAgICAgYWNjdXJhY3k6IDAuNFxuICAgIH0sXG4gICAgdHdvOiB7XG4gICAgICBuYW1lOiAnRWxsZW4nLFxuICAgICAgaW1hZ2U6ICdwdWJsaWMvYXNzZXRzL2ltYWdlcy9wbGF5ZXIyLmdpZicsXG4gICAgICBhdHRhY2s6IDUsXG4gICAgICBjdXJyZW50QXR0YWNrOiA1LFxuICAgICAgd2FyQ3J5OiA1LFxuICAgICAgZGVmZW5kOiA1LFxuICAgICAgYWNjdXJhY3k6IDAuNFxuICAgIH0sXG4gICAgdGhyZWU6IHtcbiAgICAgIG5hbWU6ICdNdXRhbnQgTmljaycsXG4gICAgICBpbWFnZTogJ3B1YmxpYy9hc3NldHMvaW1hZ2VzL3BsYXllcjMuZ2lmJyxcbiAgICAgIGF0dGFjazogNixcbiAgICAgIGN1cnJlbnRBdHRhY2s6IDYsXG4gICAgICB3YXJDcnk6IDEsXG4gICAgICBkZWZlbmQ6IDIsXG4gICAgICBhY2N1cmFjeTogMC41XG4gICAgfVxuICB9O1xuICBjb25zdCB2aWxsaWFucyA9IHtcbiAgICBvbmU6IHtcbiAgICAgIG5hbWU6ICdIZW5yeScsXG4gICAgICBpbWFnZTogJ3B1YmxpYy9hc3NldHMvaW1hZ2VzL3ZpbGxpYW4zLmpwZycsXG4gICAgICBhdHRhY2s6IDUsXG4gICAgICBhY2N1cmFjeTogMC41XG4gICAgfSxcbiAgICB0d286IHtcbiAgICAgIG5hbWU6ICdYZW5vbW9ycGgnLFxuICAgICAgaW1hZ2U6ICdwdWJsaWMvYXNzZXRzL2ltYWdlcy92aWxsaWFuMi5naWYnLFxuICAgICAgYXR0YWNrOiA1LFxuICAgICAgYWNjdXJhY3k6IDAuNVxuICAgIH0sXG4gICAgdGhyZWU6IHtcbiAgICAgIG5hbWU6ICdNZWR1c2EnLFxuICAgICAgaW1hZ2U6ICdwdWJsaWMvYXNzZXRzL2ltYWdlcy92aWxsaWFuMy5naWYnLFxuICAgICAgYXR0YWNrOiA0LFxuICAgICAgYWNjdXJhY3k6IDAuNTZcbiAgICB9XG4gIH07XG5cbiAgY29uc3QgJGluc3RydWN0aW9ucyA9ICQoJy5pbnN0cnVjdGlvbnMnKTtcbiAgY29uc3QgJGluc3RydWN0aW9uc0J0biA9ICQoJyNpbnN0cnVjdGlvbnMnKTtcbiAgY29uc3QgJHdlbGNvbWUgPSAkKCcud2VsY29tZScpO1xuICBjb25zdCAkYmFja0J0biA9ICQoJyNiYWNrJyk7XG4gIGNvbnN0ICRwbGF5QnRuID0gJCgnI3BsYXknKTtcbiAgY29uc3QgJGNoYXJhY3RlclNjcmVlbiA9ICQoJy5jaGFyYWN0ZXItc2NyZWVuJyk7XG4gIGNvbnN0ICRjaGFyYWN0ZXIgPSAkKCcuY2hhcmFjdGVyJyk7XG4gIGNvbnN0ICRuYW1lID0gJCgnLm5hbWUnKTtcbiAgY29uc3QgJHN0YXJ0QnRuID0gJCgnI3N0YXJ0Jyk7XG4gIGNvbnN0ICRjaG9zZW5DaGFyYWN0ZXIgPSAkKCcuY2hvc2VuLWNoYXJhY3RlcicpO1xuICBjb25zdCAkZ2FtZVdpbmRvdyA9ICQoJy5nYW1lLXdpbmRvdycpO1xuICBjb25zdCAka2lja09mZkJ0biA9ICQoJyNraWNrLW9mZicpO1xuICBjb25zdCAkZ2FtZU92ZXJTY3JlZW4gPSAkKCcuZ2FtZS1vdmVyJyk7XG4gIGNvbnN0ICRhdHRhY2sgPSAkKCcjYXR0YWNrJyk7XG4gIGNvbnN0ICR3YXJDcnkgPSAkKCcjd2FyY3J5Jyk7XG4gIGNvbnN0ICRkZWZlbmQgPSAkKCcjZGVmZW5kJyk7XG4gIGNvbnN0ICRuZXdHYW1lID0gJCgnI25ldy1nYW1lJyk7XG4gIGNvbnN0ICRiYWNrVG9NZW51ID0gJCgnI2JhY2stdG8tbWVudScpO1xuICBjb25zdCAkc2NvcmUgPSAkKCcjcGxheWVyLXNjb3JlJyk7XG4gIGNvbnN0ICRoaWdoU2NvcmUgPSAkKCcuaGlnaC1zY29yZScpO1xuXG4gIGZ1bmN0aW9uIGhpZGVXaW5kb3cxKCl7XG4gICAgJGluc3RydWN0aW9ucy5yZW1vdmVDbGFzcygnaGlkZGVuJyk7XG4gICAgJHdlbGNvbWUuYWRkQ2xhc3MoJ2hpZGRlbicpO1xuICB9XG4gIGZ1bmN0aW9uIGhpZGVXaW5kb3cyKCl7XG4gICAgJGluc3RydWN0aW9ucy5hZGRDbGFzcygnaGlkZGVuJyk7XG4gICAgJHdlbGNvbWUucmVtb3ZlQ2xhc3MoJ2hpZGRlbicpO1xuICB9XG4gIGZ1bmN0aW9uIGdvVG9DaG9pY2VTY3JlZW4oKXtcbiAgICAkd2VsY29tZS5hZGRDbGFzcygnaGlkZGVuJyk7XG4gICAgJGNoYXJhY3RlclNjcmVlbi5yZW1vdmVDbGFzcygnaGlkZGVuJyk7XG4gIH1cbiAgZnVuY3Rpb24gdG9UaGVHYW1lKCl7XG4gICAgJGNoYXJhY3RlclNjcmVlbi5hZGRDbGFzcygnaGlkZGVuJyk7XG4gICAgJGNob3NlbkNoYXJhY3Rlci5yZW1vdmVDbGFzcygnaGlkZGVuJyk7XG4gIH1cbiAgZnVuY3Rpb24gc3RhcnRUaGVHYW1lKCl7XG4gICAgJGNob3NlbkNoYXJhY3Rlci5hZGRDbGFzcygnaGlkZGVuJyk7XG4gICAgJGdhbWVXaW5kb3cucmVtb3ZlQ2xhc3MoJ2hpZGRlbicpO1xuICAgICRoaWdoU2NvcmUudGV4dChoaWdoU2NvcmUpO1xuICAgIGRpc3BsYXlIZWFsdGgoKTtcbiAgICBkaXNwbGF5U2NvcmUoKTtcbiAgICBkaXNwbGF5Um91bmQoKTtcbiAgICBkaXNwbGF5Q3VycmVudEF0dGFjaygpO1xuICB9XG4gIGZ1bmN0aW9uIHVwZGF0ZUhpZ2hTY29yZSgpe1xuICAgIGhpZ2hTY29yZSA9IHNjb3JlID4gaGlnaFNjb3JlID8gc2NvcmUgOiBoaWdoU2NvcmU7XG4gICAgJGhpZ2hTY29yZS50ZXh0KGhpZ2hTY29yZSk7XG4gIH1cbiAgZnVuY3Rpb24gZ2V0VGhlTmFtZSgpe1xuICAgIHBsYXllck5hbWUgPSAkKHRoaXMpLnZhbCgpO1xuICAgIGlmIChwbGF5ZXJOYW1lLmxlbmd0aCA9PT0gMCl7XG4gICAgICBhbGVydCgnWW91IG11c3QgcHJvdmlkZSB5b3VyIG5hbWUnKTtcbiAgICB9XG4gICAgJCgnLnBsYXllci1uYW1lJykudGV4dChwbGF5ZXJOYW1lKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHNlbGVjdENoYXJhY3Rlcigpe1xuICAgICQodGhpcykuYWRkQ2xhc3MoJ2FjdGl2ZScpLnNpYmxpbmdzKCkucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpO1xuICAgIGNvbnN0IGlkID0gJCh0aGlzKS5hdHRyKCdpZCcpO1xuICAgIGlmKGlkKXtcbiAgICAgICRzdGFydEJ0bi5hdHRyKCdkaXNhYmxlZCcsIGZhbHNlKTtcbiAgICB9XG4gICAgcGxheWVyQ2hvc2VuID0gY2hhcmFjdGVyc1tpZF07XG4gICAgdmlsbGlhbkNob3NlbiA9IHZpbGxpYW5zW2lkXTtcbiAgICAkKCcuY2hvc2VuLWNoYXJhY3RlciBpbWcsIC5wbGF5ZXInKS5hdHRyKCdzcmMnLCBwbGF5ZXJDaG9zZW4uaW1hZ2UpO1xuICAgICQoJy52aWxsaWFuJykuYXR0cignc3JjJywgdmlsbGlhbkNob3Nlbi5pbWFnZSk7XG4gICAgJCgnLnZpbGxpYW4tbmFtZScpLnRleHQodmlsbGlhbkNob3Nlbi5uYW1lKTtcbiAgfVxuICBmdW5jdGlvbiBkaXNwbGF5SGVhbHRoKCl7XG4gICAgc2V0SW50ZXJ2YWwoKCkgPT4ge1xuICAgICAgJCgnI3BsYXllci1oZWFsdGgnKS5odG1sKHBsYXllckxpZmUpO1xuICAgICAgJCgnI3ZpbGxpYW4taGVhbHRoJykuaHRtbCh2aWxsaWFuTGlmZSk7XG4gICAgfSwgNTAwKTtcbiAgfVxuICBmdW5jdGlvbiBkaXNwbGF5Um91bmQoKXtcbiAgICBzZXRJbnRlcnZhbCgoKSA9PiB7XG4gICAgICAkKCcjcm91bmQtbm8nKS50ZXh0KGBSb3VuZCAke3JvdW5kfWApO1xuICAgIH0sIDUwMCk7XG4gIH1cbiAgZnVuY3Rpb24gZGlzcGxheUN1cnJlbnRBdHRhY2soKXtcbiAgICBzZXRJbnRlcnZhbCgoKSA9PiB7XG4gICAgICAkKCcjY3VycmVudC1hdHRhY2snKS50ZXh0KHBsYXllckNob3Nlbi5jdXJyZW50QXR0YWNrKTtcbiAgICB9LCA1MDApO1xuICB9XG4gIGZ1bmN0aW9uIGRpc3BsYXlTY29yZSgpe1xuICAgIHNldEludGVydmFsKCgpID0+IHtcbiAgICAgICRzY29yZS5odG1sKHNjb3JlKTtcbiAgICB9LCA1MDApO1xuICB9XG4gIFxuICBmdW5jdGlvbiBhdHRhY2tWaWxsaWFuKCl7XG4gICAgaWYodHVybiA9PT0gdHJ1ZSl7XG4gICAgICBpZihNYXRoLnJhbmRvbSgpIDwgcGxheWVyQ2hvc2VuLmFjY3VyYWN5KXtcbiAgICAgICAgdmlsbGlhbkxpZmUgLT0gcGxheWVyQ2hvc2VuLmN1cnJlbnRBdHRhY2s7XG4gICAgICAgIHNjb3JlICs9IHBsYXllckNob3Nlbi5jdXJyZW50QXR0YWNrO1xuICAgICAgICByb3VuZFRleHQgPSAnWW91IGhhdmUgaGl0IGhpbSEnO1xuICAgICAgfSBlbHNle1xuICAgICAgICByb3VuZFRleHQgPSAnV2hvb29wcyEgQSBtaXNzLi4uJztcbiAgICAgIH1cbiAgICAgIHBsYXllckNob3Nlbi5jdXJyZW50QXR0YWNrID0gcGxheWVyQ2hvc2VuLmF0dGFjaztcbiAgICAgICQoJyNiYXR0bGUtdGV4dCcpLnRleHQoYCR7cm91bmRUZXh0fWApO1xuICAgICAgdHVybiA9IGZhbHNlO1xuICAgICAgd2hvc2VUdXJuKCk7XG4gICAgICBjaGVja0Zvcldpbm5lcigpO1xuICAgICAgdXBkYXRlSGlnaFNjb3JlKCk7XG4gICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgYXR0YWNrUGxheWVyKCk7XG4gICAgICB9LCAzMDAwKTtcbiAgICB9XG4gIH1cbiAgZnVuY3Rpb24gYXR0YWNrUGxheWVyKCl7XG4gICAgaWYodHVybiA9PT0gZmFsc2Upe1xuICAgICAgaWYoTWF0aC5yYW5kb20oKSA8IHZpbGxpYW5DaG9zZW4uYWNjdXJhY3kpe1xuICAgICAgICBwbGF5ZXJMaWZlIC09IHZpbGxpYW5DaG9zZW4uYXR0YWNrO1xuICAgICAgICByb3VuZFRleHQgPSAnSGUgaGl0IHlvdSEnO1xuICAgICAgfSBlbHNle1xuICAgICAgICByb3VuZFRleHQgPSAnWW91IGFyZSBzYWZlISc7XG4gICAgICB9XG4gICAgICAkKCcjYmF0dGxlLXRleHQnKS50ZXh0KGAke3JvdW5kVGV4dH1gKTtcbiAgICAgIGNoZWNrRm9yV2lubmVyKCk7XG4gICAgICB0dXJuID0gdHJ1ZTtcbiAgICAgIHdob3NlVHVybigpO1xuICAgIH1cbiAgfVxuICBmdW5jdGlvbiBkZWZlbmQoKXtcbiAgICAkKCcjYmF0dGxlLXRleHQnKS50ZXh0KCcnKTtcbiAgICB0dXJuID0gZmFsc2U7XG4gICAgd2hvc2VUdXJuKCk7XG4gICAgdmlsbGlhbkNob3Nlbi5hdHRhY2sgLT0gcGxheWVyQ2hvc2VuLmRlZmVuZDtcbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgIGF0dGFja1BsYXllcigpO1xuICAgICAgdmlsbGlhbkNob3Nlbi5hdHRhY2sgKz0gcGxheWVyQ2hvc2VuLmRlZmVuZDtcbiAgICB9LCAyMDAwKTtcbiAgfVxuICBmdW5jdGlvbiB3YXJDcnkoKXtcbiAgICAkKCcjYmF0dGxlLXRleHQnKS50ZXh0KCcnKTtcbiAgICB0dXJuID0gZmFsc2U7XG4gICAgd2hvc2VUdXJuKCk7XG4gICAgcGxheWVyQ2hvc2VuLmN1cnJlbnRBdHRhY2sgKz0gcGxheWVyQ2hvc2VuLndhckNyeTtcbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgIGF0dGFja1BsYXllcigpO1xuICAgIH0sIDIwMDApO1xuICB9XG4gIGZ1bmN0aW9uIGNoZWNrRm9yV2lubmVyKCl7XG4gICAgaWYgKHBsYXllckxpZmUgPD0gMCl7XG4gICAgICBnYW1lT3ZlcigpO1xuICAgIH1cbiAgICBpZih2aWxsaWFuTGlmZSA8PSAwKXtcbiAgICAgICQoJyN3aW5uZXInKS50ZXh0KCdZb3Ugd29uIHRoaXMgcm91bmQhISEgVGEtZGEhIScpLmNzcyh7J2NvbG9yJzogJyNDNUQyMDAnLCAnZm9udC1zaXplJzogJzI4cHgnfSk7XG4gICAgICB0dXJuID0gdHJ1ZTtcbiAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICBuZXh0Um91bmQoKTtcbiAgICAgIH0sIDIwMDApO1xuICAgIH1cbiAgfVxuICBmdW5jdGlvbiB3aG9zZVR1cm4oKXtcbiAgICBpZiAodHVybiA9PT0gZmFsc2Upe1xuICAgICAgJCgnLnBsYXllci1zZWN0aW9uIGltZycpLnJlbW92ZUNsYXNzKCdpbWctYWN0aXZlJyk7XG4gICAgfVxuICAgIGlmICh0dXJuID09PSB0cnVlKXtcbiAgICAgICQoJy5wbGF5ZXItc2VjdGlvbiBpbWcnKS5hZGRDbGFzcygnaW1nLWFjdGl2ZScpO1xuICAgIH1cbiAgfVxuICBmdW5jdGlvbiBuZXh0Um91bmQoKXtcbiAgICByb3VuZCArPSAxO1xuICAgIHZpbGxpYW5MaWZlID0gMjUgKiByb3VuZDtcbiAgICBwbGF5ZXJMaWZlID0gMjAgICogcm91bmQ7XG4gICAgcm91bmRUZXh0ID0gJyc7XG4gICAgJCgnI3dpbm5lcicpLnRleHQoJycpO1xuICAgICQoJyNiYXR0bGUtdGV4dCcpLnRleHQoYCR7cm91bmRUZXh0fWApO1xuICB9XG4gIGZ1bmN0aW9uIGdhbWVPdmVyKCl7XG4gICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ2hpZ2hTY29yZScsIGhpZ2hTY29yZSk7XG4gICAgJGdhbWVXaW5kb3cuYWRkQ2xhc3MoJ2hpZGRlbicpO1xuICAgICRnYW1lT3ZlclNjcmVlbi5yZW1vdmVDbGFzcygnaGlkZGVuJyk7XG4gIH1cbiAgZnVuY3Rpb24gcmVzZXREYXRhKCl7XG4gICAgcm91bmRUZXh0ID0gJyc7XG4gICAgJCgnI2JhdHRsZS10ZXh0JykudGV4dChgJHtyb3VuZFRleHR9YCk7XG4gICAgcGxheWVyTGlmZSA9IDIwO1xuICAgIHZpbGxpYW5MaWZlID0gMjA7XG4gICAgcm91bmQgPSAxO1xuICAgIHNjb3JlID0gMDtcbiAgICB0dXJuID0gdHJ1ZTtcbiAgfVxuICBmdW5jdGlvbiBuZXdHYW1lKCl7XG4gICAgJGdhbWVPdmVyU2NyZWVuLmFkZENsYXNzKCdoaWRkZW4nKTtcbiAgICByZXNldERhdGEoKTtcbiAgICBzdGFydFRoZUdhbWUoKTtcbiAgfVxuICBmdW5jdGlvbiBiYWNrVG9NZW51KCl7XG4gICAgJGdhbWVPdmVyU2NyZWVuLmFkZENsYXNzKCdoaWRkZW4nKTtcbiAgICAkd2VsY29tZS5yZW1vdmVDbGFzcygnaGlkZGVuJyk7XG4gICAgcmVzZXREYXRhKCk7XG4gIH1cbiAgJGluc3RydWN0aW9uc0J0bi5vbignY2xpY2snLCBoaWRlV2luZG93MSk7XG4gICRiYWNrQnRuLm9uKCdjbGljaycsIGhpZGVXaW5kb3cyKTtcbiAgJHBsYXlCdG4ub24oJ2NsaWNrJywgZ29Ub0Nob2ljZVNjcmVlbik7XG4gICRzdGFydEJ0bi5vbignY2xpY2snLCB0b1RoZUdhbWUpO1xuICAkbmFtZS5vbigna2V5dXAnLCBnZXRUaGVOYW1lKTtcbiAgJGNoYXJhY3Rlci5vbignY2xpY2snLCBzZWxlY3RDaGFyYWN0ZXIpO1xuICAka2lja09mZkJ0bi5vbignY2xpY2snLCBzdGFydFRoZUdhbWUpO1xuICAkYXR0YWNrLm9uKCdjbGljaycsIGF0dGFja1ZpbGxpYW4pO1xuICAkd2FyQ3J5Lm9uKCdjbGljaycsIHdhckNyeSk7XG4gICRkZWZlbmQub24oJ2NsaWNrJywgZGVmZW5kKTtcbiAgJG5ld0dhbWUub24oJ2NsaWNrJywgbmV3R2FtZSk7XG4gICRiYWNrVG9NZW51Lm9uKCdjbGljaycsIGJhY2tUb01lbnUpO1xufSk7XG4iXX0=
