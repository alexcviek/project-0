"use strict";$(function(){function a(){W.removeClass("hidden").addClass("animated fadeIn"),P.addClass("hidden")}function e(){W.addClass("hidden").removeClass("animated fadeIn"),P.removeClass("hidden").addClass("animated fadeIn")}function t(){for(var a=0;a<X.length;a++){var e='\n      <div class="character" data-id='+a+'>\n      <img src="'+X[a].image+'">\n      <p class="underlined">'+X[a].name+"</p>\n      <p>Attack: "+X[a].attack+"</p>\n      <p>WarCry: "+X[a].warCry+"</p>\n      <p>Defend: "+X[a].defend+"</p>\n      <p>Accuracy: "+X[a].accuracy+"</p>\n      </div>\n      ";G.append(e)}}function c(){P.addClass("hidden"),B.removeClass("hidden").addClass("animated fadeIn"),t()}function n(){B.addClass("hidden"),L.removeClass("hidden").addClass("animated fadeIn")}function i(){L.addClass("hidden"),O.removeClass("hidden").addClass("animated fadeIn"),ca.text(R),setInterval(function(){l(),m(),o(),u()},500)}function r(){R=N>R?N:R,ca.text(R)}function s(){I=$(this).val(),0!==I.length&&Q.attr("disabled",!1).addClass("animated infinite pulse"),fa.text(I)}function d(){$(this).addClass("active").siblings().removeClass("active");var a=$(this).attr("data-id");a&&K.attr("disabled",!1).addClass("animated infinite pulse"),T=X[a],D=Y[a],$(".chosen-character img, .player-img").attr("src",T.image),pa.attr("src",D.image),Ca.text(D.name),$a.text(D.attack)}function l(){ha.html(E),Aa.html(S)}function o(){va.text("Round "+M)}function u(){ka.text(T.currentAttack)}function m(){ta.html(N)}function f(){ga.text(""+H)}function y(){console.log(T.currentAccuracy),!0===z&&(Math.random()<T.currentAccuracy?(S-=T.currentAttack,N+=T.currentAttack,H="You have hit him!",pa.addClass("animated shake"),na.play()):(ra.play(),H="Whooops! A miss..."),T.currentAttack=T.attack,f(),ya.removeClass("animated shake"),z=!1,A(),C(),r(),setTimeout(function(){h()},3e3))}function h(){console.log(D.currentAccuracy),!1===z&&(Math.random()<D.currentAccuracy?(E-=D.attack,H="He hit you!",ia.play(),ya.addClass("animated shake")):(sa.play(),H="You are safe!"),pa.removeClass("animated shake"),f(),C(),z=!0,setTimeout(function(){A()},1e3))}function k(){ga.text("DEFEND!!!"),z=!1,A(),D.attack-=T.defend,setTimeout(function(){h(),D.attack+=T.defend},2e3)}function p(){"Nick the Cat"===T.name?oa.play():"Catzilla"===T.name?ua.play():"Ellen Ripley"===T.name&&ma.play(),ga.text("AAAAAAAAAAAAAAAAAAAaaaaaaa!!!!"),z=!1,A(),T.currentAttack+=T.warCry,setTimeout(function(){h()},2e3)}function C(){E<=0&&(da.play(),v()),S<=0&&(S=0,xa.text("You won this round!!! Ta-da!!").css({color:"#C5D200","font-size":"28px"}),la.play(),z=!0,setTimeout(function(){g()},2e3))}function A(){!1===z&&ya.removeClass("img-active"),!0===z&&ya.addClass("img-active")}function g(){T.currentAccuracy+=.01,D.currentAccuracy+=.05,M+=1,S=20,E=20+M,H="",xa.text(""),f(),A()}function v(){localStorage.setItem("highScore",R),O.addClass("hidden"),U.removeClass("hidden").addClass("animated fadeIn"),x()}function x(){H="",f(),E=20,S=20,M=1,N=0,T.currentAttack=T.attack,T.currentAccuracy=T.accuracy,D.currentAccuracy=D.accuracy,z=!0,G.empty(),ya.removeClass("animated shake"),K.removeClass("animated infinite pulse")}function b(){U.addClass("hidden"),i()}function w(){U.addClass("hidden"),P.removeClass("hidden").addClass("animated fadeIn")}var I=void 0,T=void 0,D=void 0,E=20,S=20,z=!0,H=void 0,M=1,N=0,R=localStorage.getItem("highScore")||0,X=[{name:"Nick the Cat",image:"public/assets/images/player1.gif",attack:4,currentAttack:4,warCry:3,defend:4,accuracy:.5,currentAccuracy:.5},{name:"Ellen Ripley",image:"public/assets/images/player2.gif",attack:5,currentAttack:5,warCry:2,defend:5,accuracy:.5,currentAccuracy:.5},{name:"Catzilla",image:"public/assets/images/player3.gif",attack:4,currentAttack:4,warCry:5,defend:2,accuracy:.5,currentAccuracy:.5}],Y=[{name:"Henry the Hoover",image:"public/assets/images/villian1.gif",attack:5,accuracy:.3,currentAccuracy:.3},{name:"Xenomorph XX121",image:"public/assets/images/villian2.gif",attack:5,accuracy:.3,currentAccuracy:.3},{name:"Pink Medusa",image:"public/assets/images/villian3.gif",attack:5,accuracy:.3,currentAccuracy:.3}],W=$(".instructions"),F=$("#instructions"),P=$(".welcome"),j=$("#back"),q=$("#play"),B=$(".character-screen"),G=$(".choices"),J=$(".name"),K=$("#start"),L=$(".chosen-character"),O=$(".game-window"),Q=$("#kick-off"),U=$(".game-over"),V=$("#attack"),Z=$("#warcry"),_=$("#defend"),aa=$("#new-game"),ea=$("#back-to-menu"),ta=$("#player-score"),ca=$(".high-score"),na=$("audio")[0],ia=$("audio")[1],ra=$("audio")[2],sa=$("audio")[3],da=$("audio")[4],la=$("audio")[5],oa=$("audio")[6],ua=$("audio")[7],ma=$("audio")[8],fa=$(".player-name"),ya=$(".player-img"),ha=$("#player-life"),ka=$("#player-current-attack"),pa=$(".villian-img"),Ca=$(".villian-name"),Aa=$("#villian-life"),$a=$("#villian-attack"),ga=$("#turn-result"),va=$("#round-no"),xa=$("#round-message");F.on("click",a),j.on("click",e),q.on("click",c),K.on("click",n),J.on("keyup",s),G.on("click",".character",d),Q.on("click",i),V.on("click",y),Z.on("click",p),_.on("click",k),aa.on("click",b),ea.on("click",w)});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC5qcyJdLCJuYW1lcyI6WyIkIiwiJHdlbGNvbWUiLCIkaW5zdHJ1Y3Rpb25zIiwicmVtb3ZlQ2xhc3MiLCJhZGRDbGFzcyIsImNyZWF0ZUNob2ljZXMiLCJjb250ZW50IiwiJGNob2ljZXMiLCJhcHBlbmQiLCJnb1RvQ2hvaWNlU2NyZWVuIiwiY2hhcmFjdGVycyIsImxlbmd0aCIsImkiLCIkY2hhcmFjdGVyU2NyZWVuIiwiaW1hZ2UiLCJuYW1lIiwiYXR0YWNrIiwiJGNob3NlbkNoYXJhY3RlciIsIndhckNyeSIsImRlZmVuZCIsInN0YXJ0VGhlR2FtZSIsImFjY3VyYWN5IiwiJGhpZ2hTY29yZSIsInRleHQiLCJoaWdoU2NvcmUiLCJkaXNwbGF5U2NvcmUiLCJkaXNwbGF5Um91bmQiLCJkaXNwbGF5Q3VycmVudEF0dGFjayIsInVwZGF0ZUhpZ2hTY29yZSIsInNjb3JlIiwiZ2V0VGhlTmFtZSIsInBsYXllck5hbWUiLCIkZ2FtZVdpbmRvdyIsIiRraWNrT2ZmQnRuIiwiYXR0ciIsInNldEludGVydmFsIiwiJHBsYXllck5hbWUiLCIkc3RhcnRCdG4iLCJ2aWxsaWFuQ2hvc2VuIiwidGhpcyIsInZhbCIsIiR2aWxsaWFuSW1nIiwiJHZpbGxpYW5OYW1lIiwiJHZpbGxpYW5MaWZlIiwic2libGluZ3MiLCJpZCIsIiRyb3VuZE51bWJlciIsIiRwbGF5ZXJDdXJyZW50QXR0YWNrIiwicGxheWVyQ2hvc2VuIiwidmlsbGlhbnMiLCIkc2NvcmUiLCIkdmlsbGlhbkF0dGFjayIsInR1cm5SZXN1bHRUZXh0IiwiZGlzcGxheUhlYWx0aCIsIiRwbGF5ZXJMaWZlIiwiaHRtbCIsInBsYXllckxpZmUiLCJhdHRhY2tWaWxsaWFuIiwidHVybiIsInJhbmRvbSIsInJvdW5kVGV4dCIsImN1cnJlbnRBdHRhY2siLCIkc2xhcEF1ZGlvIiwiJHR1cm5SZXN1bHQiLCIkcGxheWVySW1nIiwiY3VycmVudEFjY3VyYWN5Iiwid2hvc2VUdXJuIiwiY2hlY2tGb3JXaW5uZXIiLCJzZXRUaW1lb3V0IiwiYXR0YWNrUGxheWVyIiwicGxheSIsIiRzd29vc2hBdWRpbyIsImNvbnNvbGUiLCIkcHVuY2hBdWRpbyIsIiRzd29vc2hBdWRpbzIiLCJNYXRoIiwiJG1lb3ciLCIkZ2V0QXdheSIsIiRnYW1lT3ZlckF1ZGlvIiwiZ2FtZU92ZXIiLCJ2aWxsaWFuTGlmZSIsIiRyb3VuZE1lc3NhZ2UiLCIkbGV2ZWxVcEF1ZGlvIiwibmV4dFJvdW5kIiwiY3NzIiwiY29sb3IiLCJmb250LXNpemUiLCJyb3VuZCIsImxvY2FsU3RvcmFnZSIsInNldEl0ZW0iLCJyZXNldERhdGEiLCJlbXB0eSIsIiRnYW1lT3ZlclNjcmVlbiIsImJhY2tUb01lbnUiLCIkaW5zdHJ1Y3Rpb25zQnRuIiwiaGlkZVdpbmRvdzEiLCIkYmFja0J0biIsIiRwbGF5QnRuIiwiJG5hbWUiLCJzZWxlY3RDaGFyYWN0ZXIiLCIkd2FyQ3J5Iiwib24iLCIkZGVmZW5kIiwiJG5ld0dhbWUiLCJnZXRJdGVtIiwiJGF0dGFjayIsIiRiYWNrVG9NZW51IiwiJHJvYXIiLCJoaWRlV2luZG93MiIsInRvVGhlR2FtZSIsIm5ld0dhbWUiXSwibWFwcGluZ3MiOiJZQUFBQSxHQUFFLFdBbUhFQyxRQUFBQSxLQUNEQyxFQUFBQyxZQUFBLFVBQUFDLFNBQUEsbUJBQ0RILEVBQVNJLFNBQUFBLFVBRUwsUUFBTUMsS0FVTkMsRUFBU0MsU0FBT0YsVUFBaEJILFlBQUEsbUJBQ0RGLEVBQUFFLFlBQUEsVUFBQUMsU0FBQSxtQkFFSCxRQUFTSyxLQUNQUixJQUFBQSxHQUFBQSxHQUFTRyxFQUFBQSxFQUFTTSxFQUFsQkMsT0FBQUMsSUFBQSxDQUNBQyxHQUFBQSxHQUFBQSwwQ0FDQVIsRUFEQVEsc0JBRURILEVBQUFFLEdBQUFFLE1BRkNELG1DQUdrQkgsRUFBQUUsR0FBQUcsS0FIbEJGLDBCQUlBQSxFQUEwQkQsR0FBQUksT0FKMUJILDBCQUtBSSxFQUFpQmQsR0FBWWUsT0FMN0JMLDBCQU1ESCxFQUFBRSxHQUFBTyxPQU5DTiw0QkFPT08sRUFB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bGF5ZXJOYW1lO1xuICBsZXQgcGxheWVyQ2hvc2VuO1xuICBsZXQgdmlsbGlhbkNob3NlbjtcbiAgbGV0IHBsYXllckxpZmUgPSAyMDtcbiAgbGV0IHZpbGxpYW5MaWZlID0gMjA7XG4gIGxldCB0dXJuID0gdHJ1ZTtcbiAgbGV0IHJvdW5kVGV4dDtcbiAgbGV0IHJvdW5kID0gMTtcbiAgbGV0IHNjb3JlID0gMDtcbiAgbGV0IGhpZ2hTY29yZSA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdoaWdoU2NvcmUnKSB8fCAwO1xuXG4gIGNvbnN0IGNoYXJhY3RlcnMgPSBbXG4gICAge1xuICAgICAgbmFtZTogJ05pY2sgdGhlIENhdCcsXG4gICAgICBpbWFnZTogJ3B1YmxpYy9hc3NldHMvaW1hZ2VzL3BsYXllcjEuZ2lmJyxcbiAgICAgIGF0dGFjazogNCxcbiAgICAgIGN1cnJlbnRBdHRhY2s6IDQsXG4gICAgICB3YXJDcnk6IDMsXG4gICAgICBkZWZlbmQ6IDQsXG4gICAgICBhY2N1cmFjeTogMC41LFxuICAgICAgY3VycmVudEFjY3VyYWN5OiAwLjVcbiAgICB9LFxuICAgIHtcbiAgICAgIG5hbWU6ICdFbGxlbiBSaXBsZXknLFxuICAgICAgaW1hZ2U6ICdwdWJsaWMvYXNzZXRzL2ltYWdlcy9wbGF5ZXIyLmdpZicsXG4gICAgICBhdHRhY2s6IDUsXG4gICAgICBjdXJyZW50QXR0YWNrOiA1LFxuICAgICAgd2FyQ3J5OiAyLFxuICAgICAgZGVmZW5kOiA1LFxuICAgICAgYWNjdXJhY3k6IDAuNSxcbiAgICAgIGN1cnJlbnRBY2N1cmFjeTogMC41XG4gICAgfSxcbiAgICB7XG4gICAgICBuYW1lOiAnQ2F0emlsbGEnLFxuICAgICAgaW1hZ2U6ICdwdWJsaWMvYXNzZXRzL2ltYWdlcy9wbGF5ZXIzLmdpZicsXG4gICAgICBhdHRhY2s6IDQsXG4gICAgICBjdXJyZW50QXR0YWNrOiA0LFxuICAgICAgd2FyQ3J5OiA1LFxuICAgICAgZGVmZW5kOiAyLFxuICAgICAgYWNjdXJhY3k6IDAuNSxcbiAgICAgIGN1cnJlbnRBY2N1cmFjeTogMC41XG4gICAgfVxuICBdO1xuICBjb25zdCB2aWxsaWFucyA9IFtcbiAgICB7XG4gICAgICBuYW1lOiAnSGVucnkgdGhlIEhvb3ZlcicsXG4gICAgICBpbWFnZTogJ3B1YmxpYy9hc3NldHMvaW1hZ2VzL3ZpbGxpYW4xLmdpZicsXG4gICAgICBhdHRhY2s6IDUsXG4gICAgICBhY2N1cmFjeTogMC4zLFxuICAgICAgY3VycmVudEFjY3VyYWN5OiAwLjNcbiAgICB9LFxuICAgIHtcbiAgICAgIG5hbWU6ICdYZW5vbW9ycGggWFgxMjEnLFxuICAgICAgaW1hZ2U6ICdwdWJsaWMvYXNzZXRzL2ltYWdlcy92aWxsaWFuMi5naWYnLFxuICAgICAgYXR0YWNrOiA1LFxuICAgICAgYWNjdXJhY3k6IDAuMyxcbiAgICAgIGN1cnJlbnRBY2N1cmFjeTogMC4zXG4gICAgfSxcbiAgICB7XG4gICAgICBuYW1lOiAnUGluayBNZWR1c2EnLFxuICAgICAgaW1hZ2U6ICdwdWJsaWMvYXNzZXRzL2ltYWdlcy92aWxsaWFuMy5naWYnLFxuICAgICAgYXR0YWNrOiA1LFxuICAgICAgYWNjdXJhY3k6IDAuMyxcbiAgICAgIGN1cnJlbnRBY2N1cmFjeTogMC4zXG4gICAgfVxuICBdO1xuXG4gIGNvbnN0ICRpbnN0cnVjdGlvbnMgPSAkKCcuaW5zdHJ1Y3Rpb25zJyk7XG4gIGNvbnN0ICRpbnN0cnVjdGlvbnNCdG4gPSAkKCcjaW5zdHJ1Y3Rpb25zJyk7XG4gIGNvbnN0ICR3ZWxjb21lID0gJCgnLndlbGNvbWUnKTtcbiAgY29uc3QgJGJhY2tCdG4gPSAkKCcjYmFjaycpO1xuICBjb25zdCAkcGxheUJ0biA9ICQoJyNwbGF5Jyk7XG4gIGNvbnN0ICRjaGFyYWN0ZXJTY3JlZW4gPSAkKCcuY2hhcmFjdGVyLXNjcmVlbicpO1xuICBjb25zdCAkY2hvaWNlcyA9ICQoJy5jaG9pY2VzJyk7XG4gIGNvbnN0ICRuYW1lID0gJCgnLm5hbWUnKTtcbiAgY29uc3QgJHN0YXJ0QnRuID0gJCgnI3N0YXJ0Jyk7XG4gIGNvbnN0ICRjaG9zZW5DaGFyYWN0ZXIgPSAkKCcuY2hvc2VuLWNoYXJhY3RlcicpO1xuICBjb25zdCAkZ2FtZVdpbmRvdyA9ICQoJy5nYW1lLXdpbmRvdycpO1xuICBjb25zdCAka2lja09mZkJ0biA9ICQoJyNraWNrLW9mZicpO1xuICBjb25zdCAkZ2FtZU92ZXJTY3JlZW4gPSAkKCcuZ2FtZS1vdmVyJyk7XG4gIGNvbnN0ICRhdHRhY2sgPSAkKCcjYXR0YWNrJyk7XG4gIGNvbnN0ICR3YXJDcnkgPSAkKCcjd2FyY3J5Jyk7XG4gIGNvbnN0ICRkZWZlbmQgPSAkKCcjZGVmZW5kJyk7XG4gIGNvbnN0ICRuZXdHYW1lID0gJCgnI25ldy1nYW1lJyk7XG4gIGNvbnN0ICRiYWNrVG9NZW51ID0gJCgnI2JhY2stdG8tbWVudScpO1xuICBjb25zdCAkc2NvcmUgPSAkKCcjcGxheWVyLXNjb3JlJyk7XG4gIGNvbnN0ICRoaWdoU2NvcmUgPSAkKCcuaGlnaC1zY29yZScpO1xuICBjb25zdCAkc2xhcEF1ZGlvID0gJCgnYXVkaW8nKVswXTtcbiAgY29uc3QgJHB1bmNoQXVkaW8gPSAkKCdhdWRpbycpWzFdO1xuICBjb25zdCAkc3dvb3NoQXVkaW8gPSAkKCdhdWRpbycpWzJdO1xuICBjb25zdCAkc3dvb3NoQXVkaW8yID0gJCgnYXVkaW8nKVszXTtcbiAgY29uc3QgJGdhbWVPdmVyQXVkaW8gPSAkKCdhdWRpbycpWzRdO1xuICBjb25zdCAkbGV2ZWxVcEF1ZGlvID0gJCgnYXVkaW8nKVs1XTtcbiAgY29uc3QgJG1lb3cgPSAkKCdhdWRpbycpWzZdO1xuICBjb25zdCAkcm9hciA9ICQoJ2F1ZGlvJylbN107XG4gIGNvbnN0ICRnZXRBd2F5ID0gJCgnYXVkaW8nKVs4XTtcbiAgY29uc3QgJHBsYXllck5hbWUgPSAkKCcucGxheWVyLW5hbWUnKTtcbiAgY29uc3QgJHBsYXllckltZyA9ICQoJy5wbGF5ZXItaW1nJyk7XG4gIGNvbnN0ICRwbGF5ZXJMaWZlID0gJCgnI3BsYXllci1saWZlJyk7XG4gIGNvbnN0ICRwbGF5ZXJDdXJyZW50QXR0YWNrID0gJCgnI3BsYXllci1jdXJyZW50LWF0dGFjaycpO1xuICBjb25zdCAkdmlsbGlhbkltZyA9ICQoJy52aWxsaWFuLWltZycpO1xuICBjb25zdCAkdmlsbGlhbk5hbWUgPSAkKCcudmlsbGlhbi1uYW1lJyk7XG4gIGNvbnN0ICR2aWxsaWFuTGlmZSA9ICQoJyN2aWxsaWFuLWxpZmUnKTtcbiAgY29uc3QgJHZpbGxpYW5BdHRhY2sgPSAkKCcjdmlsbGlhbi1hdHRhY2snKTtcbiAgY29uc3QgJHR1cm5SZXN1bHQgPSAkKCcjdHVybi1yZXN1bHQnKTtcbiAgY29uc3QgJHJvdW5kTnVtYmVyID0gJCgnI3JvdW5kLW5vJyk7XG4gIGNvbnN0ICRyb3VuZE1lc3NhZ2UgPSAkKCcjcm91bmQtbWVzc2FnZScpO1xuXG4gIGZ1bmN0aW9uIGhpZGVXaW5kb3cxKCl7XG4gICAgJGluc3RydWN0aW9ucy5yZW1vdmVDbGFzcygnaGlkZGVuJykuYWRkQ2xhc3MoJ2FuaW1hdGVkIGZhZGVJbicpO1xuICAgICR3ZWxjb21lLmFkZENsYXNzKCdoaWRkZW4nKTtcbiAgfVxuICBmdW5jdGlvbiBoaWRlV2luZG93Migpe1xuICAgICRpbnN0cnVjdGlvbnMuYWRkQ2xhc3MoJ2hpZGRlbicpLnJlbW92ZUNsYXNzKCdhbmltYXRlZCBmYWRlSW4nKTtcbiAgICAkd2VsY29tZS5yZW1vdmVDbGFzcygnaGlkZGVuJykuYWRkQ2xhc3MoJ2FuaW1hdGVkIGZhZGVJbicpO1xuICB9XG4gIGZ1bmN0aW9uIGNyZWF0ZUNob2ljZXMoKXtcbiAgICBmb3IobGV0IGkgPSAwOyBpIDwgY2hhcmFjdGVycy5sZW5ndGg7IGkrKyl7XG4gICAgICBjb25zdCBjb250ZW50ID0gYFxuICAgICAgPGRpdiBjbGFzcz1cImNoYXJhY3RlclwiIGRhdGEtaWQ9JHtpfT5cbiAgICAgIDxpbWcgc3JjPVwiJHtjaGFyYWN0ZXJzW2ldLmltYWdlfVwiPlxuICAgICAgPHAgY2xhc3M9XCJ1bmRlcmxpbmVkXCI+JHtjaGFyYWN0ZXJzW2ldLm5hbWV9PC9wPlxuICAgICAgPHA+QXR0YWNrOiAke2NoYXJhY3RlcnNbaV0uYXR0YWNrfTwvcD5cbiAgICAgIDxwPldhckNyeTogJHtjaGFyYWN0ZXJzW2ldLndhckNyeX08L3A+XG4gICAgICA8cD5EZWZlbmQ6ICR7Y2hhcmFjdGVyc1tpXS5kZWZlbmR9PC9wPlxuICAgICAgPHA+QWNjdXJhY3k6ICR7Y2hhcmFjdGVyc1tpXS5hY2N1cmFjeX08L3A+XG4gICAgICA8L2Rpdj5cbiAgICAgIGA7XG4gICAgICAkY2hvaWNlcy5hcHBlbmQoY29udGVudCk7XG4gICAgfVxuICB9XG4gIGZ1bmN0aW9uIGdvVG9DaG9pY2VTY3JlZW4oKXtcbiAgICAkd2VsY29tZS5hZGRDbGFzcygnaGlkZGVuJyk7XG4gICAgJGNoYXJhY3RlclNjcmVlbi5yZW1vdmVDbGFzcygnaGlkZGVuJykuYWRkQ2xhc3MoJ2FuaW1hdGVkIGZhZGVJbicpO1xuICAgIGNyZWF0ZUNob2ljZXMoKTtcbiAgfVxuICBmdW5jdGlvbiB0b1RoZUdhbWUoKXtcbiAgICAkY2hhcmFjdGVyU2NyZWVuLmFkZENsYXNzKCdoaWRkZW4nKTtcbiAgICAkY2hvc2VuQ2hhcmFjdGVyLnJlbW92ZUNsYXNzKCdoaWRkZW4nKS5hZGRDbGFzcygnYW5pbWF0ZWQgZmFkZUluJyk7XG4gIH1cbiAgZnVuY3Rpb24gc3RhcnRUaGVHYW1lKCl7XG4gICAgJGNob3NlbkNoYXJhY3Rlci5hZGRDbGFzcygnaGlkZGVuJyk7XG4gICAgJGdhbWVXaW5kb3cucmVtb3ZlQ2xhc3MoJ2hpZGRlbicpLmFkZENsYXNzKCdhbmltYXRlZCBmYWRlSW4nKTtcbiAgICAkaGlnaFNjb3JlLnRleHQoaGlnaFNjb3JlKTtcbiAgICBzZXRJbnRlcnZhbCgoKSA9PiB7XG4gICAgICBkaXNwbGF5SGVhbHRoKCk7XG4gICAgICBkaXNwbGF5U2NvcmUoKTtcbiAgICAgIGRpc3BsYXlSb3VuZCgpO1xuICAgICAgZGlzcGxheUN1cnJlbnRBdHRhY2soKTtcbiAgICB9LCA1MDApO1xuICB9XG4gIGZ1bmN0aW9uIHVwZGF0ZUhpZ2hTY29yZSgpe1xuICAgIGhpZ2hTY29yZSA9IHNjb3JlID4gaGlnaFNjb3JlID8gc2NvcmUgOiBoaWdoU2NvcmU7XG4gICAgJGhpZ2hTY29yZS50ZXh0KGhpZ2hTY29yZSk7XG4gIH1cbiAgZnVuY3Rpb24gZ2V0VGhlTmFtZSgpe1xuICAgIHBsYXllck5hbWUgPSAkKHRoaXMpLnZhbCgpO1xuICAgIGlmIChwbGF5ZXJOYW1lLmxlbmd0aCAhPT0gMCl7XG4gICAgICAka2lja09mZkJ0bi5hdHRyKCdkaXNhYmxlZCcsIGZhbHNlKS5hZGRDbGFzcygnYW5pbWF0ZWQgaW5maW5pdGUgcHVsc2UnKTtcbiAgICB9XG4gICAgJHBsYXllck5hbWUudGV4dChwbGF5ZXJOYW1lKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHNlbGVjdENoYXJhY3Rlcigpe1xuICAgICQodGhpcykuYWRkQ2xhc3MoJ2FjdGl2ZScpLnNpYmxpbmdzKCkucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpO1xuICAgIGNvbnN0IGlkID0gJCh0aGlzKS5hdHRyKCdkYXRhLWlkJyk7XG4gICAgaWYoaWQpe1xuICAgICAgJHN0YXJ0QnRuLmF0dHIoJ2Rpc2FibGVkJywgZmFsc2UpLmFkZENsYXNzKCdhbmltYXRlZCBpbmZpbml0ZSBwdWxzZScpO1xuICAgIH1cbiAgICBwbGF5ZXJDaG9zZW4gPSBjaGFyYWN0ZXJzW2lkXTtcbiAgICB2aWxsaWFuQ2hvc2VuID0gdmlsbGlhbnNbaWRdO1xuICAgICQoJy5jaG9zZW4tY2hhcmFjdGVyIGltZywgLnBsYXllci1pbWcnKS5hdHRyKCdzcmMnLCBwbGF5ZXJDaG9zZW4uaW1hZ2UpO1xuICAgICR2aWxsaWFuSW1nLmF0dHIoJ3NyYycsIHZpbGxpYW5DaG9zZW4uaW1hZ2UpO1xuICAgICR2aWxsaWFuTmFtZS50ZXh0KHZpbGxpYW5DaG9zZW4ubmFtZSk7XG4gICAgJHZpbGxpYW5BdHRhY2sudGV4dCh2aWxsaWFuQ2hvc2VuLmF0dGFjayk7XG4gIH1cbiAgZnVuY3Rpb24gZGlzcGxheUhlYWx0aCgpe1xuICAgICRwbGF5ZXJMaWZlLmh0bWwocGxheWVyTGlmZSk7XG4gICAgJHZpbGxpYW5MaWZlLmh0bWwodmlsbGlhbkxpZmUpO1xuICB9XG4gIGZ1bmN0aW9uIGRpc3BsYXlSb3VuZCgpe1xuICAgICRyb3VuZE51bWJlci50ZXh0KGBSb3VuZCAke3JvdW5kfWApO1xuICB9XG4gIGZ1bmN0aW9uIGRpc3BsYXlDdXJyZW50QXR0YWNrKCl7XG4gICAgJHBsYXllckN1cnJlbnRBdHRhY2sudGV4dChwbGF5ZXJDaG9zZW4uY3VycmVudEF0dGFjayk7XG4gIH1cbiAgZnVuY3Rpb24gZGlzcGxheVNjb3JlKCl7XG4gICAgJHNjb3JlLmh0bWwoc2NvcmUpO1xuICB9XG4gIGZ1bmN0aW9uIHR1cm5SZXN1bHRUZXh0KCl7XG4gICAgJHR1cm5SZXN1bHQudGV4dChgJHtyb3VuZFRleHR9YCk7XG4gIH1cblxuICBmdW5jdGlvbiBhdHRhY2tWaWxsaWFuKCl7XG4gICAgY29uc29sZS5sb2cocGxheWVyQ2hvc2VuLmN1cnJlbnRBY2N1cmFjeSk7XG4gICAgaWYodHVybiA9PT0gdHJ1ZSl7XG4gICAgICBpZihNYXRoLnJhbmRvbSgpIDwgcGxheWVyQ2hvc2VuLmN1cnJlbnRBY2N1cmFjeSl7XG4gICAgICAgIHZpbGxpYW5MaWZlIC09IHBsYXllckNob3Nlbi5jdXJyZW50QXR0YWNrO1xuICAgICAgICBzY29yZSArPSBwbGF5ZXJDaG9zZW4uY3VycmVudEF0dGFjaztcbiAgICAgICAgcm91bmRUZXh0ID0gJ1lvdSBoYXZlIGhpdCBoaW0hJztcbiAgICAgICAgJHZpbGxpYW5JbWcuYWRkQ2xhc3MoJ2FuaW1hdGVkIHNoYWtlJyk7XG4gICAgICAgICRzbGFwQXVkaW8ucGxheSgpO1xuICAgICAgfSBlbHNle1xuICAgICAgICAkc3dvb3NoQXVkaW8ucGxheSgpO1xuICAgICAgICByb3VuZFRleHQgPSAnV2hvb29wcyEgQSBtaXNzLi4uJztcbiAgICAgIH1cbiAgICAgIHBsYXllckNob3Nlbi5jdXJyZW50QXR0YWNrID0gcGxheWVyQ2hvc2VuLmF0dGFjaztcbiAgICAgIHR1cm5SZXN1bHRUZXh0KCk7XG4gICAgICAkcGxheWVySW1nLnJlbW92ZUNsYXNzKCdhbmltYXRlZCBzaGFrZScpO1xuICAgICAgdHVybiA9IGZhbHNlO1xuICAgICAgd2hvc2VUdXJuKCk7XG4gICAgICBjaGVja0Zvcldpbm5lcigpO1xuICAgICAgdXBkYXRlSGlnaFNjb3JlKCk7XG4gICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgYXR0YWNrUGxheWVyKCk7XG4gICAgICB9LCAzMDAwKTtcbiAgICB9XG4gIH1cbiAgZnVuY3Rpb24gYXR0YWNrUGxheWVyKCl7XG4gICAgY29uc29sZS5sb2codmlsbGlhbkNob3Nlbi5jdXJyZW50QWNjdXJhY3kpO1xuICAgIGlmKHR1cm4gPT09IGZhbHNlKXtcbiAgICAgIGlmKE1hdGgucmFuZG9tKCkgPCB2aWxsaWFuQ2hvc2VuLmN1cnJlbnRBY2N1cmFjeSl7XG4gICAgICAgIHBsYXllckxpZmUgLT0gdmlsbGlhbkNob3Nlbi5hdHRhY2s7XG4gICAgICAgIHJvdW5kVGV4dCA9ICdIZSBoaXQgeW91ISc7XG4gICAgICAgICRwdW5jaEF1ZGlvLnBsYXkoKTtcbiAgICAgICAgJHBsYXllckltZy5hZGRDbGFzcygnYW5pbWF0ZWQgc2hha2UnKTtcbiAgICAgIH0gZWxzZXtcbiAgICAgICAgJHN3b29zaEF1ZGlvMi5wbGF5KCk7XG4gICAgICAgIHJvdW5kVGV4dCA9ICdZb3UgYXJlIHNhZmUhJztcbiAgICAgIH1cbiAgICAgICR2aWxsaWFuSW1nLnJlbW92ZUNsYXNzKCdhbmltYXRlZCBzaGFrZScpO1xuICAgICAgdHVyblJlc3VsdFRleHQoKTtcbiAgICAgIGNoZWNrRm9yV2lubmVyKCk7XG4gICAgICB0dXJuID0gdHJ1ZTtcbiAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICB3aG9zZVR1cm4oKTtcbiAgICAgIH0sMTAwMCk7XG4gICAgfVxuICB9XG4gIGZ1bmN0aW9uIGRlZmVuZCgpe1xuICAgICR0dXJuUmVzdWx0LnRleHQoJ0RFRkVORCEhIScpO1xuICAgIHR1cm4gPSBmYWxzZTtcbiAgICB3aG9zZVR1cm4oKTtcbiAgICB2aWxsaWFuQ2hvc2VuLmF0dGFjayAtPSBwbGF5ZXJDaG9zZW4uZGVmZW5kO1xuICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgYXR0YWNrUGxheWVyKCk7XG4gICAgICB2aWxsaWFuQ2hvc2VuLmF0dGFjayArPSBwbGF5ZXJDaG9zZW4uZGVmZW5kO1xuICAgIH0sIDIwMDApO1xuICB9XG4gIGZ1bmN0aW9uIHdhckNyeSgpe1xuICAgIGlmIChwbGF5ZXJDaG9zZW4ubmFtZSA9PT0gJ05pY2sgdGhlIENhdCcpe1xuICAgICAgJG1lb3cucGxheSgpO1xuICAgIH0gZWxzZSBpZiAocGxheWVyQ2hvc2VuLm5hbWUgPT09ICdDYXR6aWxsYScpe1xuICAgICAgJHJvYXIucGxheSgpO1xuICAgIH0gZWxzZSBpZiAocGxheWVyQ2hvc2VuLm5hbWUgPT09ICdFbGxlbiBSaXBsZXknKXtcbiAgICAgICRnZXRBd2F5LnBsYXkoKTtcbiAgICB9XG4gICAgJHR1cm5SZXN1bHQudGV4dCgnQUFBQUFBQUFBQUFBQUFBQUFBQWFhYWFhYWEhISEhJyk7XG4gICAgdHVybiA9IGZhbHNlO1xuICAgIHdob3NlVHVybigpO1xuICAgIHBsYXllckNob3Nlbi5jdXJyZW50QXR0YWNrICs9IHBsYXllckNob3Nlbi53YXJDcnk7XG4gICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICBhdHRhY2tQbGF5ZXIoKTtcbiAgICB9LCAyMDAwKTtcbiAgfVxuICBmdW5jdGlvbiBjaGVja0Zvcldpbm5lcigpe1xuICAgIGlmIChwbGF5ZXJMaWZlIDw9IDApe1xuICAgICAgJGdhbWVPdmVyQXVkaW8ucGxheSgpO1xuICAgICAgZ2FtZU92ZXIoKTtcbiAgICB9XG4gICAgaWYodmlsbGlhbkxpZmUgPD0gMCl7XG4gICAgICB2aWxsaWFuTGlmZSA9IDA7XG4gICAgICAkcm91bmRNZXNzYWdlLnRleHQoJ1lvdSB3b24gdGhpcyByb3VuZCEhISBUYS1kYSEhJykuY3NzKHsnY29sb3InOiAnI0M1RDIwMCcsICdmb250LXNpemUnOiAnMjhweCd9KTtcbiAgICAgICRsZXZlbFVwQXVkaW8ucGxheSgpO1xuICAgICAgdHVybiA9IHRydWU7XG4gICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgbmV4dFJvdW5kKCk7XG4gICAgICB9LCAyMDAwKTtcbiAgICB9XG4gIH1cbiAgZnVuY3Rpb24gd2hvc2VUdXJuKCl7XG4gICAgaWYgKHR1cm4gPT09IGZhbHNlKXtcbiAgICAgICRwbGF5ZXJJbWcucmVtb3ZlQ2xhc3MoJ2ltZy1hY3RpdmUnKTtcbiAgICB9XG4gICAgaWYgKHR1cm4gPT09IHRydWUpe1xuICAgICAgJHBsYXllckltZy5hZGRDbGFzcygnaW1nLWFjdGl2ZScpO1xuICAgIH1cbiAgfVxuICBmdW5jdGlvbiBuZXh0Um91bmQoKXtcbiAgICBwbGF5ZXJDaG9zZW4uY3VycmVudEFjY3VyYWN5ICs9IDAuMDE7XG4gICAgdmlsbGlhbkNob3Nlbi5jdXJyZW50QWNjdXJhY3kgKz0gMC4wNTtcbiAgICByb3VuZCArPSAxO1xuICAgIHZpbGxpYW5MaWZlID0gMjA7XG4gICAgcGxheWVyTGlmZSA9IDIwICArIHJvdW5kO1xuICAgIHJvdW5kVGV4dCA9ICcnO1xuICAgICRyb3VuZE1lc3NhZ2UudGV4dCgnJyk7XG4gICAgdHVyblJlc3VsdFRleHQoKTtcbiAgICB3aG9zZVR1cm4oKTtcblxuICB9XG4gIGZ1bmN0aW9uIGdhbWVPdmVyKCl7XG4gICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ2hpZ2hTY29yZScsIGhpZ2hTY29yZSk7XG4gICAgJGdhbWVXaW5kb3cuYWRkQ2xhc3MoJ2hpZGRlbicpO1xuICAgICRnYW1lT3ZlclNjcmVlbi5yZW1vdmVDbGFzcygnaGlkZGVuJykuYWRkQ2xhc3MoJ2FuaW1hdGVkIGZhZGVJbicpO1xuICAgIHJlc2V0RGF0YSgpO1xuICB9XG4gIGZ1bmN0aW9uIHJlc2V0RGF0YSgpe1xuICAgIHJvdW5kVGV4dCA9ICcnO1xuICAgIHR1cm5SZXN1bHRUZXh0KCk7XG4gICAgcGxheWVyTGlmZSA9IDIwO1xuICAgIHZpbGxpYW5MaWZlID0gMjA7XG4gICAgcm91bmQgPSAxO1xuICAgIHNjb3JlID0gMDtcbiAgICBwbGF5ZXJDaG9zZW4uY3VycmVudEF0dGFjayA9IHBsYXllckNob3Nlbi5hdHRhY2s7XG4gICAgcGxheWVyQ2hvc2VuLmN1cnJlbnRBY2N1cmFjeSA9IHBsYXllckNob3Nlbi5hY2N1cmFjeTtcbiAgICB2aWxsaWFuQ2hvc2VuLmN1cnJlbnRBY2N1cmFjeSA9IHZpbGxpYW5DaG9zZW4uYWNjdXJhY3k7XG4gICAgdHVybiA9IHRydWU7XG4gICAgJGNob2ljZXMuZW1wdHkoKTtcbiAgICAoJHZpbGxpYW5JbWcsICRwbGF5ZXJJbWcpLnJlbW92ZUNsYXNzKCdhbmltYXRlZCBzaGFrZScpO1xuICAgICgka2lja09mZkJ0biwgJHN0YXJ0QnRuKS5yZW1vdmVDbGFzcygnYW5pbWF0ZWQgaW5maW5pdGUgcHVsc2UnKTtcbiAgfVxuICBmdW5jdGlvbiBuZXdHYW1lKCl7XG4gICAgJGdhbWVPdmVyU2NyZWVuLmFkZENsYXNzKCdoaWRkZW4nKTtcbiAgICBzdGFydFRoZUdhbWUoKTtcbiAgfVxuICBmdW5jdGlvbiBiYWNrVG9NZW51KCl7XG4gICAgJGdhbWVPdmVyU2NyZWVuLmFkZENsYXNzKCdoaWRkZW4nKTtcbiAgICAkd2VsY29tZS5yZW1vdmVDbGFzcygnaGlkZGVuJykuYWRkQ2xhc3MoJ2FuaW1hdGVkIGZhZGVJbicpO1xuICB9XG4gICRpbnN0cnVjdGlvbnNCdG4ub24oJ2NsaWNrJywgaGlkZVdpbmRvdzEpO1xuICAkYmFja0J0bi5vbignY2xpY2snLCBoaWRlV2luZG93Mik7XG4gICRwbGF5QnRuLm9uKCdjbGljaycsIGdvVG9DaG9pY2VTY3JlZW4pO1xuICAkc3RhcnRCdG4ub24oJ2NsaWNrJywgdG9UaGVHYW1lKTtcbiAgJG5hbWUub24oJ2tleXVwJywgZ2V0VGhlTmFtZSk7XG4gICRjaG9pY2VzLm9uKCdjbGljaycsICcuY2hhcmFjdGVyJywgc2VsZWN0Q2hhcmFjdGVyKTtcbiAgJGtpY2tPZmZCdG4ub24oJ2NsaWNrJywgc3RhcnRUaGVHYW1lKTtcbiAgJGF0dGFjay5vbignY2xpY2snLCBhdHRhY2tWaWxsaWFuKTtcbiAgJHdhckNyeS5vbignY2xpY2snLCB3YXJDcnkpO1xuICAkZGVmZW5kLm9uKCdjbGljaycsIGRlZmVuZCk7XG4gICRuZXdHYW1lLm9uKCdjbGljaycsIG5ld0dhbWUpO1xuICAkYmFja1RvTWVudS5vbignY2xpY2snLCBiYWNrVG9NZW51KTtcbn0pO1xuIl19
