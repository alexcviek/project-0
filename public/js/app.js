"use strict";$(function(){function a(){R.removeClass("hidden").addClass("animated fadeIn"),j.addClass("hidden")}function e(){R.addClass("hidden").removeClass("animated fadeIn"),j.removeClass("hidden").addClass("animated fadeIn")}function t(){for(var a=0;a<z.length;a++){var e='\n      <div class="character" data-id='+a+'>\n      <img src="'+z[a].image+'">\n      <p>'+z[a].name+"</p>\n      <p>Attack: "+z[a].attack+"</p>\n      <p>WarCry: "+z[a].warCry+"</p>\n      <p>Defend: "+z[a].defend+"</p>\n      <p>Accuracy: "+z[a].accuracy+"</p>\n      </div>\n      ";G.append(e)}}function c(){j.addClass("hidden"),F.removeClass("hidden").addClass("animated fadeIn"),t()}function n(){F.addClass("hidden"),L.removeClass("hidden").addClass("animated fadeIn")}function i(){L.addClass("hidden"),O.removeClass("hidden").addClass("animated fadeIn"),ta.text(W),o(),m(),u(),l()}function r(){W=N>W?N:W,ta.text(W)}function s(){w=$(this).val(),0===w.length&&alert("You must provide your name"),oa.text(w)}function d(){$(this).addClass("active").siblings().removeClass("active");var a=$(this).attr("data-id");a&&K.attr("disabled",!1),b=z[a],T=E[a],$(".chosen-character img, .player-img").attr("src",b.image),$(".villian").attr("src",T.image),$(".villian-name").text(T.name),$("#villian-attack").text(T.attack)}function o(){setInterval(function(){$("#player-life").html(M),$("#villian-life").html(S)},500)}function u(){setInterval(function(){$("#round-no").text("Round "+H)},500)}function l(){setInterval(function(){$("#current-attack").text(b.currentAttack)},500)}function m(){setInterval(function(){ea.html(N)},500)}function f(){!0===Y&&(Math.random()<b.currentAccuracy?(S-=b.currentAttack,N+=b.currentAttack,D="You have hit him!",$(".villian-section img").addClass("animated shake"),ca.play()):(ia.play(),D="Whooops! A miss..."),b.currentAttack=b.attack,$("#turn-result").text(""+D),$(".player-section img").removeClass("animated shake"),Y=!1,v(),g(),r(),setTimeout(function(){y()},3e3))}function y(){!1===Y&&(Math.random()<T.currentAccuracy?(M-=T.attack,D="He hit you!",na.play(),$(".player-section img").addClass("animated shake")):(ra.play(),D="You are safe!"),$(".villian-section img").removeClass("animated shake"),$("#turn-result").text(""+D),g(),Y=!0,setTimeout(function(){v()},1e3))}function h(){$("#turn-result").text(""),Y=!1,v(),T.attack-=b.defend,setTimeout(function(){y(),T.attack+=b.defend},2e3)}function k(){$("#turn-result").text(""),Y=!1,v(),b.currentAttack+=b.warCry,setTimeout(function(){y()},2e3)}function g(){M<=0&&(sa.play(),C()),S<=0&&($("#winner").text("You won this round!!! Ta-da!!").css({color:"#C5D200","font-size":"28px"}),da.play(),Y=!0,setTimeout(function(){p()},2e3))}function v(){!1===Y&&$(".player-section img").removeClass("img-active"),!0===Y&&$(".player-section img").addClass("img-active")}function p(){b.currentAccuracy+=.02,T.currentAccuracy+=.05,H+=1,S=20,M=20+H,D="",$("#winner").text(""),$("#turn-result").text(""+D),$(".player-section img").addClass("img-active")}function C(){localStorage.setItem("highScore",W),O.addClass("hidden"),Q.removeClass("hidden").addClass("animated fadeIn")}function A(){D="",$("#turn-result").text(""+D),M=20,S=20,H=1,N=0,b.currentAttack=b.attack,b.currentAccuracy=b.accuracy,T.currentAccuracy=T.accuracy,Y=!0,G.empty(),$(".villian-section img").removeClass("animated shake"),$(".player-section img").removeClass("animated shake")}function x(){Q.addClass("hidden"),A(),i()}function I(){Q.addClass("hidden"),j.removeClass("hidden").addClass("animated fadeIn"),A()}var w=void 0,b=void 0,T=void 0,M=20,S=20,Y=!0,D=void 0,H=1,N=0,W=localStorage.getItem("highScore")||0,z=[{name:"Nick",image:"public/assets/images/player1.gif",attack:4,currentAttack:4,warCry:3,defend:4,accuracy:.6,currentAccuracy:.6},{name:"Ellen",image:"public/assets/images/player2.gif",attack:5,currentAttack:5,warCry:2,defend:5,accuracy:.6,currentAccuracy:.6},{name:"Mutant Nick",image:"public/assets/images/player3.gif",attack:4,currentAttack:4,warCry:5,defend:2,accuracy:.6,currentAccuracy:.6}],E=[{name:"Henry",image:"public/assets/images/villian1.gif",attack:5,accuracy:.3,currentAccuracy:.3},{name:"Xenomorph",image:"public/assets/images/villian2.gif",attack:5,accuracy:.3,currentAccuracy:.3},{name:"Medusa",image:"public/assets/images/villian3.gif",attack:5,accuracy:.3,currentAccuracy:.3}],R=$(".instructions"),X=$("#instructions"),j=$(".welcome"),q=$("#back"),B=$("#play"),F=$(".character-screen"),G=$(".choices"),J=$(".name"),K=$("#start"),L=$(".chosen-character"),O=$(".game-window"),P=$("#kick-off"),Q=$(".game-over"),U=$("#attack"),V=$("#warcry"),Z=$("#defend"),_=$("#new-game"),aa=$("#back-to-menu"),ea=$("#player-score"),ta=$(".high-score"),ca=$("audio")[0],na=$("audio")[1],ia=$("audio")[2],ra=$("audio")[3],sa=$("audio")[4],da=$("audio")[5],oa=$(".player-name");X.on("click",a),q.on("click",e),B.on("click",c),K.on("click",n),J.on("keyup",s),G.on("click",".character",d),P.on("click",i),U.on("click",f),V.on("click",k),Z.on("click",h),_.on("click",x),aa.on("click",I)});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC5qcyJdLCJuYW1lcyI6WyIkIiwiJHdlbGNvbWUiLCIkaW5zdHJ1Y3Rpb25zIiwicmVtb3ZlQ2xhc3MiLCJhZGRDbGFzcyIsImNyZWF0ZUNob2ljZXMiLCJjb250ZW50IiwiJGNob2ljZXMiLCJhcHBlbmQiLCJnb1RvQ2hvaWNlU2NyZWVuIiwiY2hhcmFjdGVycyIsImxlbmd0aCIsImkiLCIkY2hhcmFjdGVyU2NyZWVuIiwiaW1hZ2UiLCJ0b1RoZUdhbWUiLCJuYW1lIiwiYXR0YWNrIiwiJGNob3NlbkNoYXJhY3RlciIsIndhckNyeSIsImRlZmVuZCIsInN0YXJ0VGhlR2FtZSIsImFjY3VyYWN5IiwiJGhpZ2hTY29yZSIsInRleHQiLCJoaWdoU2NvcmUiLCJkaXNwbGF5Um91bmQiLCJkaXNwbGF5Q3VycmVudEF0dGFjayIsInBsYXllck5hbWUiLCJhbGVydCIsIiRnYW1lV2luZG93IiwiJHBsYXllck5hbWUiLCJkaXNwbGF5SGVhbHRoIiwiZGlzcGxheVNjb3JlIiwidXBkYXRlSGlnaFNjb3JlIiwiJHN0YXJ0QnRuIiwiYXR0ciIsInNjb3JlIiwidmlsbGlhbkNob3NlbiIsInRoaXMiLCJ2YWwiLCJzZWxlY3RDaGFyYWN0ZXIiLCJ2aWxsaWFuTGlmZSIsImlkIiwidmlsbGlhbnMiLCJwbGF5ZXJDaG9zZW4iLCJzZXRJbnRlcnZhbCIsImh0bWwiLCJwbGF5ZXJMaWZlIiwiJHNjb3JlIiwiYXR0YWNrVmlsbGlhbiIsInR1cm4iLCJyb3VuZCIsInJvdW5kVGV4dCIsImN1cnJlbnRBdHRhY2siLCIkc2xhcEF1ZGlvIiwiJHN3b29zaEF1ZGlvIiwid2hvc2VUdXJuIiwiY2hlY2tGb3JXaW5uZXIiLCJzZXRUaW1lb3V0IiwiYXR0YWNrUGxheWVyIiwicGxheSIsIiRwdW5jaEF1ZGlvIiwiJHN3b29zaEF1ZGlvMiIsIk1hdGgiLCJyYW5kb20iLCJjdXJyZW50QWNjdXJhY3kiLCIkZ2FtZU92ZXJBdWRpbyIsImdhbWVPdmVyIiwiJGxldmVsVXBBdWRpbyIsIm5leHRSb3VuZCIsImNzcyIsImNvbG9yIiwiZm9udC1zaXplIiwibG9jYWxTdG9yYWdlIiwicmVzZXREYXRhIiwic2V0SXRlbSIsIiRnYW1lT3ZlclNjcmVlbiIsImJhY2tUb01lbnUiLCIkaW5zdHJ1Y3Rpb25zQnRuIiwiaGlkZVdpbmRvdzEiLCIkYmFja0J0biIsIm9uIiwiJHBsYXlCdG4iLCJlbXB0eSIsIiRuYW1lIiwiZ2V0VGhlTmFtZSIsIiRraWNrT2ZmQnRuIiwiJGF0dGFjayIsIiR3YXJDcnkiLCIkZGVmZW5kIiwiJGJhY2tUb01lbnUiLCJnZXRJdGVtIiwiJG5ld0dhbWUiLCJoaWRlV2luZG93MiIsIm5ld0dhbWUiXSwibWFwcGluZ3MiOiJZQUFBQSxHQUFFLFdBc0dFQyxRQUFBQSxLQUNEQyxFQUFBQyxZQUFBLFVBQUFDLFNBQUEsbUJBQ0RILEVBQVNJLFNBQUFBLFVBRUwsUUFBTUMsS0FVTkMsRUFBU0MsU0FBT0YsVUFBaEJILFlBQUEsbUJBQ0RGLEVBQUFFLFlBQUEsVUFBQUMsU0FBQSxtQkFFSCxRQUFTSyxLQUNQUixJQUFBQSxHQUFBQSxHQUFTRyxFQUFBQSxFQUFTTSxFQUFsQkMsT0FBQUMsSUFBQSxDQUNBQyxHQUFBQSxHQUFBQSwwQ0FDQVIsRUFEQVEsc0JBRURILEVBQUFFLEdBQUFFLE1BRkNELGdCQUdPRSxFQUFUSCxHQUFvQkksS0FIbEJILDBCQUlBQSxFQUEwQkQsR0FBQUssT0FKMUJKLDBCQUtBSyxFQUFpQmYsR0FBWWdCLE9BTDdCTiwwQkFNREgsRUFBQUUsR0FBQVEsT0FOQ1AsNEJBT09RLEVBQWNULEdBQUFVLFNBUHJCVCw0QkFVQVUsR0FBV0MsT0FBS0MsSUFHaEJDLFFBQUFBLEtBQ0FDLEVBQUFBLFNBQUFBLFVBQ0RkLEVBQUFWLFlBQUEsVUFBQUMsU0FBQSxtQkFDREMsSUFFRWtCLFFBQUFBLEtBQ0RWLEVBQUFULFNBQUEsVUFDRGMsRUFBQWYsWUFBcUIsVUFBQUMsU0FBQSxtQkFFbkIsUUFBSXdCLEtBQ0ZDLEVBQU16QixTQUFBLFVBQ1AwQixFQUFBM0IsWUFBQSxV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U0FBWSxHQUMxQkYsR0FBa0JELEVBQUEsU0FBbEIsR0FDRHFFLEdBQUFyRSxFQUFBLFNBQUEsR0FDRCtCLEdBQUEvQixFQUFBLGVBbU5BK0UsR0FBaUJHLEdBQUcsUUFBU0YsR0FDN0JDLEVBQVNDLEdBQUcsUUFBU1ksR0FDckJYLEVBQVNELEdBQUcsUUFBU3pFLEdBQ3JCMEIsRUFBVStDLEdBQUcsUUFBU25FLEdBQ3RCc0UsRUFBTUgsR0FBRyxRQUFTSSxHQUNsQi9FLEVBQVMyRSxHQUFHLFFBQVMsYUFBY3pDLEdBQ25DOEMsRUFBWUwsR0FBRyxRQUFTN0QsR0FDeEJtRSxFQUFRTixHQUFHLFFBQVNoQyxHQUNwQnVDLEVBQVFQLEdBQUcsUUFBUy9ELEdBQ3BCdUUsRUFBUVIsR0FBRyxRQUFTOUQsR0FDcEJ5RSxFQUFTWCxHQUFHLFFBQVNhLEdBQ3JCSixHQUFZVCxHQUFHLFFBQVNKIiwiZmlsZSI6ImFwcC5qcyIsInNvdXJjZXNDb250ZW50IjpbIiQoKCkgPT4ge1xuICBsZXQgcGxheWVyTmFtZTtcbiAgbGV0IHBsYXllckNob3NlbjtcbiAgbGV0IHZpbGxpYW5DaG9zZW47XG4gIGxldCBwbGF5ZXJMaWZlID0gMjA7XG4gIGxldCB2aWxsaWFuTGlmZSA9IDIwO1xuICBsZXQgdHVybiA9IHRydWU7XG4gIGxldCByb3VuZFRleHQ7XG4gIGxldCByb3VuZCA9IDE7XG4gIGxldCBzY29yZSA9IDA7XG4gIGxldCBoaWdoU2NvcmUgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnaGlnaFNjb3JlJykgfHwgMDtcblxuICBjb25zdCBjaGFyYWN0ZXJzID0gW1xuICAgIHtcbiAgICAgIG5hbWU6ICdOaWNrJyxcbiAgICAgIGltYWdlOiAncHVibGljL2Fzc2V0cy9pbWFnZXMvcGxheWVyMS5naWYnLFxuICAgICAgYXR0YWNrOiA0LFxuICAgICAgY3VycmVudEF0dGFjazogNCxcbiAgICAgIHdhckNyeTogMyxcbiAgICAgIGRlZmVuZDogNCxcbiAgICAgIGFjY3VyYWN5OiAwLjYsXG4gICAgICBjdXJyZW50QWNjdXJhY3k6IDAuNlxuICAgIH0sXG4gICAge1xuICAgICAgbmFtZTogJ0VsbGVuJyxcbiAgICAgIGltYWdlOiAncHVibGljL2Fzc2V0cy9pbWFnZXMvcGxheWVyMi5naWYnLFxuICAgICAgYXR0YWNrOiA1LFxuICAgICAgY3VycmVudEF0dGFjazogNSxcbiAgICAgIHdhckNyeTogMixcbiAgICAgIGRlZmVuZDogNSxcbiAgICAgIGFjY3VyYWN5OiAwLjYsXG4gICAgICBjdXJyZW50QWNjdXJhY3k6IDAuNlxuICAgIH0sXG4gICAge1xuICAgICAgbmFtZTogJ011dGFudCBOaWNrJyxcbiAgICAgIGltYWdlOiAncHVibGljL2Fzc2V0cy9pbWFnZXMvcGxheWVyMy5naWYnLFxuICAgICAgYXR0YWNrOiA0LFxuICAgICAgY3VycmVudEF0dGFjazogNCxcbiAgICAgIHdhckNyeTogNSxcbiAgICAgIGRlZmVuZDogMixcbiAgICAgIGFjY3VyYWN5OiAwLjYsXG4gICAgICBjdXJyZW50QWNjdXJhY3k6IDAuNlxuICAgIH1cbiAgXTtcbiAgY29uc3QgdmlsbGlhbnMgPSBbXG4gICAge1xuICAgICAgbmFtZTogJ0hlbnJ5JyxcbiAgICAgIGltYWdlOiAncHVibGljL2Fzc2V0cy9pbWFnZXMvdmlsbGlhbjEuZ2lmJyxcbiAgICAgIGF0dGFjazogNSxcbiAgICAgIGFjY3VyYWN5OiAwLjMsXG4gICAgICBjdXJyZW50QWNjdXJhY3k6IDAuM1xuICAgIH0sXG4gICAge1xuICAgICAgbmFtZTogJ1hlbm9tb3JwaCcsXG4gICAgICBpbWFnZTogJ3B1YmxpYy9hc3NldHMvaW1hZ2VzL3ZpbGxpYW4yLmdpZicsXG4gICAgICBhdHRhY2s6IDUsXG4gICAgICBhY2N1cmFjeTogMC4zLFxuICAgICAgY3VycmVudEFjY3VyYWN5OiAwLjNcbiAgICB9LFxuICAgIHtcbiAgICAgIG5hbWU6ICdNZWR1c2EnLFxuICAgICAgaW1hZ2U6ICdwdWJsaWMvYXNzZXRzL2ltYWdlcy92aWxsaWFuMy5naWYnLFxuICAgICAgYXR0YWNrOiA1LFxuICAgICAgYWNjdXJhY3k6IDAuMyxcbiAgICAgIGN1cnJlbnRBY2N1cmFjeTogMC4zXG4gICAgfVxuICBdO1xuXG4gIGNvbnN0ICRpbnN0cnVjdGlvbnMgPSAkKCcuaW5zdHJ1Y3Rpb25zJyk7XG4gIGNvbnN0ICRpbnN0cnVjdGlvbnNCdG4gPSAkKCcjaW5zdHJ1Y3Rpb25zJyk7XG4gIGNvbnN0ICR3ZWxjb21lID0gJCgnLndlbGNvbWUnKTtcbiAgY29uc3QgJGJhY2tCdG4gPSAkKCcjYmFjaycpO1xuICBjb25zdCAkcGxheUJ0biA9ICQoJyNwbGF5Jyk7XG4gIGNvbnN0ICRjaGFyYWN0ZXJTY3JlZW4gPSAkKCcuY2hhcmFjdGVyLXNjcmVlbicpO1xuICBjb25zdCAkY2hvaWNlcyA9ICQoJy5jaG9pY2VzJyk7XG4gIGNvbnN0ICRuYW1lID0gJCgnLm5hbWUnKTtcbiAgY29uc3QgJHN0YXJ0QnRuID0gJCgnI3N0YXJ0Jyk7XG4gIGNvbnN0ICRjaG9zZW5DaGFyYWN0ZXIgPSAkKCcuY2hvc2VuLWNoYXJhY3RlcicpO1xuICBjb25zdCAkZ2FtZVdpbmRvdyA9ICQoJy5nYW1lLXdpbmRvdycpO1xuICBjb25zdCAka2lja09mZkJ0biA9ICQoJyNraWNrLW9mZicpO1xuICBjb25zdCAkZ2FtZU92ZXJTY3JlZW4gPSAkKCcuZ2FtZS1vdmVyJyk7XG4gIGNvbnN0ICRhdHRhY2sgPSAkKCcjYXR0YWNrJyk7XG4gIGNvbnN0ICR3YXJDcnkgPSAkKCcjd2FyY3J5Jyk7XG4gIGNvbnN0ICRkZWZlbmQgPSAkKCcjZGVmZW5kJyk7XG4gIGNvbnN0ICRuZXdHYW1lID0gJCgnI25ldy1nYW1lJyk7XG4gIGNvbnN0ICRiYWNrVG9NZW51ID0gJCgnI2JhY2stdG8tbWVudScpO1xuICBjb25zdCAkc2NvcmUgPSAkKCcjcGxheWVyLXNjb3JlJyk7XG4gIGNvbnN0ICRoaWdoU2NvcmUgPSAkKCcuaGlnaC1zY29yZScpO1xuICBjb25zdCAkc2xhcEF1ZGlvID0gJCgnYXVkaW8nKVswXTtcbiAgY29uc3QgJHB1bmNoQXVkaW8gPSAkKCdhdWRpbycpWzFdO1xuICBjb25zdCAkc3dvb3NoQXVkaW8gPSAkKCdhdWRpbycpWzJdO1xuICBjb25zdCAkc3dvb3NoQXVkaW8yID0gJCgnYXVkaW8nKVszXTtcbiAgY29uc3QgJGdhbWVPdmVyQXVkaW8gPSAkKCdhdWRpbycpWzRdO1xuICBjb25zdCAkbGV2ZWxVcEF1ZGlvID0gJCgnYXVkaW8nKVs1XTtcbiAgY29uc3QgJHBsYXllck5hbWUgPSAkKCcucGxheWVyLW5hbWUnKTtcblxuICBmdW5jdGlvbiBoaWRlV2luZG93MSgpe1xuICAgICRpbnN0cnVjdGlvbnMucmVtb3ZlQ2xhc3MoJ2hpZGRlbicpLmFkZENsYXNzKCdhbmltYXRlZCBmYWRlSW4nKTtcbiAgICAkd2VsY29tZS5hZGRDbGFzcygnaGlkZGVuJyk7XG4gIH1cbiAgZnVuY3Rpb24gaGlkZVdpbmRvdzIoKXtcbiAgICAkaW5zdHJ1Y3Rpb25zLmFkZENsYXNzKCdoaWRkZW4nKS5yZW1vdmVDbGFzcygnYW5pbWF0ZWQgZmFkZUluJyk7XG4gICAgJHdlbGNvbWUucmVtb3ZlQ2xhc3MoJ2hpZGRlbicpLmFkZENsYXNzKCdhbmltYXRlZCBmYWRlSW4nKTtcbiAgfVxuICBmdW5jdGlvbiBjcmVhdGVDaG9pY2VzKCl7XG4gICAgZm9yKGxldCBpID0gMDsgaSA8IGNoYXJhY3RlcnMubGVuZ3RoOyBpKyspe1xuICAgICAgY29uc3QgY29udGVudCA9IGBcbiAgICAgIDxkaXYgY2xhc3M9XCJjaGFyYWN0ZXJcIiBkYXRhLWlkPSR7aX0+XG4gICAgICA8aW1nIHNyYz1cIiR7Y2hhcmFjdGVyc1tpXS5pbWFnZX1cIj5cbiAgICAgIDxwPiR7Y2hhcmFjdGVyc1tpXS5uYW1lfTwvcD5cbiAgICAgIDxwPkF0dGFjazogJHtjaGFyYWN0ZXJzW2ldLmF0dGFja308L3A+XG4gICAgICA8cD5XYXJDcnk6ICR7Y2hhcmFjdGVyc1tpXS53YXJDcnl9PC9wPlxuICAgICAgPHA+RGVmZW5kOiAke2NoYXJhY3RlcnNbaV0uZGVmZW5kfTwvcD5cbiAgICAgIDxwPkFjY3VyYWN5OiAke2NoYXJhY3RlcnNbaV0uYWNjdXJhY3l9PC9wPlxuICAgICAgPC9kaXY+XG4gICAgICBgO1xuICAgICAgJGNob2ljZXMuYXBwZW5kKGNvbnRlbnQpO1xuICAgIH1cbiAgfVxuICBmdW5jdGlvbiBnb1RvQ2hvaWNlU2NyZWVuKCl7XG4gICAgJHdlbGNvbWUuYWRkQ2xhc3MoJ2hpZGRlbicpO1xuICAgICRjaGFyYWN0ZXJTY3JlZW4ucmVtb3ZlQ2xhc3MoJ2hpZGRlbicpLmFkZENsYXNzKCdhbmltYXRlZCBmYWRlSW4nKTtcbiAgICBjcmVhdGVDaG9pY2VzKCk7XG4gIH1cbiAgZnVuY3Rpb24gdG9UaGVHYW1lKCl7XG4gICAgJGNoYXJhY3RlclNjcmVlbi5hZGRDbGFzcygnaGlkZGVuJyk7XG4gICAgJGNob3NlbkNoYXJhY3Rlci5yZW1vdmVDbGFzcygnaGlkZGVuJykuYWRkQ2xhc3MoJ2FuaW1hdGVkIGZhZGVJbicpO1xuICB9XG4gIGZ1bmN0aW9uIHN0YXJ0VGhlR2FtZSgpe1xuICAgICRjaG9zZW5DaGFyYWN0ZXIuYWRkQ2xhc3MoJ2hpZGRlbicpO1xuICAgICRnYW1lV2luZG93LnJlbW92ZUNsYXNzKCdoaWRkZW4nKS5hZGRDbGFzcygnYW5pbWF0ZWQgZmFkZUluJyk7XG4gICAgJGhpZ2hTY29yZS50ZXh0KGhpZ2hTY29yZSk7XG4gICAgZGlzcGxheUhlYWx0aCgpO1xuICAgIGRpc3BsYXlTY29yZSgpO1xuICAgIGRpc3BsYXlSb3VuZCgpO1xuICAgIGRpc3BsYXlDdXJyZW50QXR0YWNrKCk7XG4gIH1cbiAgZnVuY3Rpb24gdXBkYXRlSGlnaFNjb3JlKCl7XG4gICAgaGlnaFNjb3JlID0gc2NvcmUgPiBoaWdoU2NvcmUgPyBzY29yZSA6IGhpZ2hTY29yZTtcbiAgICAkaGlnaFNjb3JlLnRleHQoaGlnaFNjb3JlKTtcbiAgfVxuICBmdW5jdGlvbiBnZXRUaGVOYW1lKCl7XG4gICAgcGxheWVyTmFtZSA9ICQodGhpcykudmFsKCk7XG4gICAgaWYgKHBsYXllck5hbWUubGVuZ3RoID09PSAwKXtcbiAgICAgIGFsZXJ0KCdZb3UgbXVzdCBwcm92aWRlIHlvdXIgbmFtZScpO1xuICAgIH1cbiAgICAkcGxheWVyTmFtZS50ZXh0KHBsYXllck5hbWUpO1xuICB9XG5cbiAgZnVuY3Rpb24gc2VsZWN0Q2hhcmFjdGVyKCl7XG4gICAgJCh0aGlzKS5hZGRDbGFzcygnYWN0aXZlJykuc2libGluZ3MoKS5yZW1vdmVDbGFzcygnYWN0aXZlJyk7XG4gICAgY29uc3QgaWQgPSAkKHRoaXMpLmF0dHIoJ2RhdGEtaWQnKTtcbiAgICBpZihpZCl7XG4gICAgICAkc3RhcnRCdG4uYXR0cignZGlzYWJsZWQnLCBmYWxzZSk7XG4gICAgfVxuICAgIHBsYXllckNob3NlbiA9IGNoYXJhY3RlcnNbaWRdO1xuICAgIHZpbGxpYW5DaG9zZW4gPSB2aWxsaWFuc1tpZF07XG4gICAgJCgnLmNob3Nlbi1jaGFyYWN0ZXIgaW1nLCAucGxheWVyLWltZycpLmF0dHIoJ3NyYycsIHBsYXllckNob3Nlbi5pbWFnZSk7XG4gICAgJCgnLnZpbGxpYW4nKS5hdHRyKCdzcmMnLCB2aWxsaWFuQ2hvc2VuLmltYWdlKTtcbiAgICAkKCcudmlsbGlhbi1uYW1lJykudGV4dCh2aWxsaWFuQ2hvc2VuLm5hbWUpO1xuICAgICQoJyN2aWxsaWFuLWF0dGFjaycpLnRleHQodmlsbGlhbkNob3Nlbi5hdHRhY2spO1xuICB9XG4gIGZ1bmN0aW9uIGRpc3BsYXlIZWFsdGgoKXtcbiAgICBzZXRJbnRlcnZhbCgoKSA9PiB7XG4gICAgICAkKCcjcGxheWVyLWxpZmUnKS5odG1sKHBsYXllckxpZmUpO1xuICAgICAgJCgnI3ZpbGxpYW4tbGlmZScpLmh0bWwodmlsbGlhbkxpZmUpO1xuICAgIH0sIDUwMCk7XG4gIH1cbiAgZnVuY3Rpb24gZGlzcGxheVJvdW5kKCl7XG4gICAgc2V0SW50ZXJ2YWwoKCkgPT4ge1xuICAgICAgJCgnI3JvdW5kLW5vJykudGV4dChgUm91bmQgJHtyb3VuZH1gKTtcbiAgICB9LCA1MDApO1xuICB9XG4gIGZ1bmN0aW9uIGRpc3BsYXlDdXJyZW50QXR0YWNrKCl7XG4gICAgc2V0SW50ZXJ2YWwoKCkgPT4ge1xuICAgICAgJCgnI2N1cnJlbnQtYXR0YWNrJykudGV4dChwbGF5ZXJDaG9zZW4uY3VycmVudEF0dGFjayk7XG4gICAgfSwgNTAwKTtcbiAgfVxuICBmdW5jdGlvbiBkaXNwbGF5U2NvcmUoKXtcbiAgICBzZXRJbnRlcnZhbCgoKSA9PiB7XG4gICAgICAkc2NvcmUuaHRtbChzY29yZSk7XG4gICAgfSwgNTAwKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGF0dGFja1ZpbGxpYW4oKXtcbiAgICBpZih0dXJuID09PSB0cnVlKXtcbiAgICAgIGlmKE1hdGgucmFuZG9tKCkgPCBwbGF5ZXJDaG9zZW4uY3VycmVudEFjY3VyYWN5KXtcbiAgICAgICAgdmlsbGlhbkxpZmUgLT0gcGxheWVyQ2hvc2VuLmN1cnJlbnRBdHRhY2s7XG4gICAgICAgIHNjb3JlICs9IHBsYXllckNob3Nlbi5jdXJyZW50QXR0YWNrO1xuICAgICAgICByb3VuZFRleHQgPSAnWW91IGhhdmUgaGl0IGhpbSEnO1xuICAgICAgICAkKCcudmlsbGlhbi1zZWN0aW9uIGltZycpLmFkZENsYXNzKCdhbmltYXRlZCBzaGFrZScpO1xuICAgICAgICAkc2xhcEF1ZGlvLnBsYXkoKTtcbiAgICAgIH0gZWxzZXtcbiAgICAgICAgJHN3b29zaEF1ZGlvLnBsYXkoKTtcbiAgICAgICAgcm91bmRUZXh0ID0gJ1dob29vcHMhIEEgbWlzcy4uLic7XG4gICAgICB9XG4gICAgICBwbGF5ZXJDaG9zZW4uY3VycmVudEF0dGFjayA9IHBsYXllckNob3Nlbi5hdHRhY2s7XG4gICAgICAkKCcjdHVybi1yZXN1bHQnKS50ZXh0KGAke3JvdW5kVGV4dH1gKTtcbiAgICAgICQoJy5wbGF5ZXItc2VjdGlvbiBpbWcnKS5yZW1vdmVDbGFzcygnYW5pbWF0ZWQgc2hha2UnKTtcbiAgICAgIHR1cm4gPSBmYWxzZTtcbiAgICAgIHdob3NlVHVybigpO1xuICAgICAgY2hlY2tGb3JXaW5uZXIoKTtcbiAgICAgIHVwZGF0ZUhpZ2hTY29yZSgpO1xuICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgIGF0dGFja1BsYXllcigpO1xuICAgICAgfSwgMzAwMCk7XG4gICAgfVxuICB9XG4gIGZ1bmN0aW9uIGF0dGFja1BsYXllcigpe1xuICAgIGlmKHR1cm4gPT09IGZhbHNlKXtcbiAgICAgIGlmKE1hdGgucmFuZG9tKCkgPCB2aWxsaWFuQ2hvc2VuLmN1cnJlbnRBY2N1cmFjeSl7XG4gICAgICAgIHBsYXllckxpZmUgLT0gdmlsbGlhbkNob3Nlbi5hdHRhY2s7XG4gICAgICAgIHJvdW5kVGV4dCA9ICdIZSBoaXQgeW91ISc7XG4gICAgICAgICRwdW5jaEF1ZGlvLnBsYXkoKTtcbiAgICAgICAgJCgnLnBsYXllci1zZWN0aW9uIGltZycpLmFkZENsYXNzKCdhbmltYXRlZCBzaGFrZScpO1xuICAgICAgfSBlbHNle1xuICAgICAgICAkc3dvb3NoQXVkaW8yLnBsYXkoKTtcbiAgICAgICAgcm91bmRUZXh0ID0gJ1lvdSBhcmUgc2FmZSEnO1xuICAgICAgfVxuICAgICAgJCgnLnZpbGxpYW4tc2VjdGlvbiBpbWcnKS5yZW1vdmVDbGFzcygnYW5pbWF0ZWQgc2hha2UnKTtcbiAgICAgICQoJyN0dXJuLXJlc3VsdCcpLnRleHQoYCR7cm91bmRUZXh0fWApO1xuICAgICAgY2hlY2tGb3JXaW5uZXIoKTtcbiAgICAgIHR1cm4gPSB0cnVlO1xuICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgIHdob3NlVHVybigpO1xuICAgICAgfSwxMDAwKTtcbiAgICB9XG4gIH1cbiAgZnVuY3Rpb24gZGVmZW5kKCl7XG4gICAgJCgnI3R1cm4tcmVzdWx0JykudGV4dCgnJyk7XG4gICAgdHVybiA9IGZhbHNlO1xuICAgIHdob3NlVHVybigpO1xuICAgIHZpbGxpYW5DaG9zZW4uYXR0YWNrIC09IHBsYXllckNob3Nlbi5kZWZlbmQ7XG4gICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICBhdHRhY2tQbGF5ZXIoKTtcbiAgICAgIHZpbGxpYW5DaG9zZW4uYXR0YWNrICs9IHBsYXllckNob3Nlbi5kZWZlbmQ7XG4gICAgfSwgMjAwMCk7XG4gIH1cbiAgZnVuY3Rpb24gd2FyQ3J5KCl7XG4gICAgJCgnI3R1cm4tcmVzdWx0JykudGV4dCgnJyk7XG4gICAgdHVybiA9IGZhbHNlO1xuICAgIHdob3NlVHVybigpO1xuICAgIHBsYXllckNob3Nlbi5jdXJyZW50QXR0YWNrICs9IHBsYXllckNob3Nlbi53YXJDcnk7XG4gICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICBhdHRhY2tQbGF5ZXIoKTtcbiAgICB9LCAyMDAwKTtcbiAgfVxuICBmdW5jdGlvbiBjaGVja0Zvcldpbm5lcigpe1xuICAgIGlmIChwbGF5ZXJMaWZlIDw9IDApe1xuICAgICAgJGdhbWVPdmVyQXVkaW8ucGxheSgpO1xuICAgICAgZ2FtZU92ZXIoKTtcbiAgICB9XG4gICAgaWYodmlsbGlhbkxpZmUgPD0gMCl7XG4gICAgICAkKCcjd2lubmVyJykudGV4dCgnWW91IHdvbiB0aGlzIHJvdW5kISEhIFRhLWRhISEnKS5jc3Moeydjb2xvcic6ICcjQzVEMjAwJywgJ2ZvbnQtc2l6ZSc6ICcyOHB4J30pO1xuICAgICAgJGxldmVsVXBBdWRpby5wbGF5KCk7XG4gICAgICB0dXJuID0gdHJ1ZTtcbiAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICBuZXh0Um91bmQoKTtcbiAgICAgIH0sIDIwMDApO1xuICAgIH1cbiAgfVxuICBmdW5jdGlvbiB3aG9zZVR1cm4oKXtcbiAgICBpZiAodHVybiA9PT0gZmFsc2Upe1xuICAgICAgJCgnLnBsYXllci1zZWN0aW9uIGltZycpLnJlbW92ZUNsYXNzKCdpbWctYWN0aXZlJyk7XG4gICAgfVxuICAgIGlmICh0dXJuID09PSB0cnVlKXtcbiAgICAgICQoJy5wbGF5ZXItc2VjdGlvbiBpbWcnKS5hZGRDbGFzcygnaW1nLWFjdGl2ZScpO1xuICAgIH1cbiAgfVxuICBmdW5jdGlvbiBuZXh0Um91bmQoKXtcbiAgICBwbGF5ZXJDaG9zZW4uY3VycmVudEFjY3VyYWN5ICs9IDAuMDI7XG4gICAgdmlsbGlhbkNob3Nlbi5jdXJyZW50QWNjdXJhY3kgKz0gMC4wNTtcbiAgICByb3VuZCArPSAxO1xuICAgIHZpbGxpYW5MaWZlID0gMjA7XG4gICAgcGxheWVyTGlmZSA9IDIwICArIHJvdW5kO1xuICAgIHJvdW5kVGV4dCA9ICcnO1xuICAgICQoJyN3aW5uZXInKS50ZXh0KCcnKTtcbiAgICAkKCcjdHVybi1yZXN1bHQnKS50ZXh0KGAke3JvdW5kVGV4dH1gKTtcbiAgICAkKCcucGxheWVyLXNlY3Rpb24gaW1nJykuYWRkQ2xhc3MoJ2ltZy1hY3RpdmUnKTtcblxuICB9XG4gIGZ1bmN0aW9uIGdhbWVPdmVyKCl7XG4gICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ2hpZ2hTY29yZScsIGhpZ2hTY29yZSk7XG4gICAgJGdhbWVXaW5kb3cuYWRkQ2xhc3MoJ2hpZGRlbicpO1xuICAgICRnYW1lT3ZlclNjcmVlbi5yZW1vdmVDbGFzcygnaGlkZGVuJykuYWRkQ2xhc3MoJ2FuaW1hdGVkIGZhZGVJbicpO1xuICB9XG4gIGZ1bmN0aW9uIHJlc2V0RGF0YSgpe1xuICAgIHJvdW5kVGV4dCA9ICcnO1xuICAgICQoJyN0dXJuLXJlc3VsdCcpLnRleHQoYCR7cm91bmRUZXh0fWApO1xuICAgIHBsYXllckxpZmUgPSAyMDtcbiAgICB2aWxsaWFuTGlmZSA9IDIwO1xuICAgIHJvdW5kID0gMTtcbiAgICBzY29yZSA9IDA7XG4gICAgcGxheWVyQ2hvc2VuLmN1cnJlbnRBdHRhY2sgPSBwbGF5ZXJDaG9zZW4uYXR0YWNrO1xuICAgIHBsYXllckNob3Nlbi5jdXJyZW50QWNjdXJhY3kgPSBwbGF5ZXJDaG9zZW4uYWNjdXJhY3k7XG4gICAgdmlsbGlhbkNob3Nlbi5jdXJyZW50QWNjdXJhY3kgPSB2aWxsaWFuQ2hvc2VuLmFjY3VyYWN5O1xuICAgIHR1cm4gPSB0cnVlO1xuICAgICRjaG9pY2VzLmVtcHR5KCk7XG4gICAgJCgnLnZpbGxpYW4tc2VjdGlvbiBpbWcnKS5yZW1vdmVDbGFzcygnYW5pbWF0ZWQgc2hha2UnKTtcbiAgICAkKCcucGxheWVyLXNlY3Rpb24gaW1nJykucmVtb3ZlQ2xhc3MoJ2FuaW1hdGVkIHNoYWtlJyk7XG4gIH1cbiAgZnVuY3Rpb24gbmV3R2FtZSgpe1xuICAgICRnYW1lT3ZlclNjcmVlbi5hZGRDbGFzcygnaGlkZGVuJyk7XG4gICAgcmVzZXREYXRhKCk7XG4gICAgc3RhcnRUaGVHYW1lKCk7XG4gIH1cbiAgZnVuY3Rpb24gYmFja1RvTWVudSgpe1xuICAgICRnYW1lT3ZlclNjcmVlbi5hZGRDbGFzcygnaGlkZGVuJyk7XG4gICAgJHdlbGNvbWUucmVtb3ZlQ2xhc3MoJ2hpZGRlbicpLmFkZENsYXNzKCdhbmltYXRlZCBmYWRlSW4nKTtcbiAgICByZXNldERhdGEoKTtcbiAgfVxuICAkaW5zdHJ1Y3Rpb25zQnRuLm9uKCdjbGljaycsIGhpZGVXaW5kb3cxKTtcbiAgJGJhY2tCdG4ub24oJ2NsaWNrJywgaGlkZVdpbmRvdzIpO1xuICAkcGxheUJ0bi5vbignY2xpY2snLCBnb1RvQ2hvaWNlU2NyZWVuKTtcbiAgJHN0YXJ0QnRuLm9uKCdjbGljaycsIHRvVGhlR2FtZSk7XG4gICRuYW1lLm9uKCdrZXl1cCcsIGdldFRoZU5hbWUpO1xuICAkY2hvaWNlcy5vbignY2xpY2snLCAnLmNoYXJhY3RlcicsIHNlbGVjdENoYXJhY3Rlcik7XG4gICRraWNrT2ZmQnRuLm9uKCdjbGljaycsIHN0YXJ0VGhlR2FtZSk7XG4gICRhdHRhY2sub24oJ2NsaWNrJywgYXR0YWNrVmlsbGlhbik7XG4gICR3YXJDcnkub24oJ2NsaWNrJywgd2FyQ3J5KTtcbiAgJGRlZmVuZC5vbignY2xpY2snLCBkZWZlbmQpO1xuICAkbmV3R2FtZS5vbignY2xpY2snLCBuZXdHYW1lKTtcbiAgJGJhY2tUb01lbnUub24oJ2NsaWNrJywgYmFja1RvTWVudSk7XG59KTtcbiJdfQ==
