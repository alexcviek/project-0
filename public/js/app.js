"use strict";$(function(){function a(){E.removeClass("hidden").addClass("animated fadeIn"),X.addClass("hidden")}function e(){E.addClass("hidden").removeClass("animated fadeIn"),X.removeClass("hidden").addClass("animated fadeIn")}function t(){for(var a=0;a<j.length;a++){var e='\n      <div class="character" data-id='+a+'>\n      <img src="'+j[a].image+'">\n      <p>'+j[a].name+"</p>\n      <p>Attack: "+j[a].attack+"</p>\n      <p>WarCry: "+j[a].warCry+"</p>\n      <p>Defend: "+j[a].defend+"</p>\n      </div>\n      ";G.append(e)}}function n(){X.addClass("hidden"),F.removeClass("hidden").addClass("animated fadeIn"),t()}function i(){F.addClass("hidden"),L.removeClass("hidden").addClass("animated fadeIn")}function c(){L.addClass("hidden"),O.removeClass("hidden").addClass("animated fadeIn"),ta.text(W),r(),m(),l(),u()}function s(){W=N>W?N:W,ta.text(W)}function d(){I=$(this).val(),0===I.length&&alert("You must provide your name"),$(".player-name").text(I)}function o(){$(this).addClass("active").siblings().removeClass("active");var a=$(this).attr("data-id");a&&K.attr("disabled",!1),A=j[a],T=z[a],$(".chosen-character img, .player").attr("src",A.image),$(".villian").attr("src",T.image),$(".villian-name").text(T.name)}function r(){setInterval(function(){$("#player-health").html(M),$("#villian-health").html(S)},500)}function l(){setInterval(function(){$("#round-no").text("Round "+H)},500)}function u(){setInterval(function(){$("#current-attack").text(A.currentAttack)},500)}function m(){setInterval(function(){ea.html(N)},500)}function f(){!0===Y&&(Math.random()<A.accuracy?(S-=A.currentAttack,N+=A.currentAttack,D="You have hit him!",$(".villian-section img").addClass("animated shake"),na.attr("src","./public/assets/audio/punch.wav"),console.log(na)):D="Whooops! A miss...",A.currentAttack=A.attack,$("#battle-text").text(""+D),$(".player-section img").removeClass("animated shake"),Y=!1,C(),v(),s(),setTimeout(function(){h()},3e3))}function h(){!1===Y&&(Math.random()<T.accuracy?(M-=T.attack,D="He hit you!",$(".player-section img").addClass("animated shake")):D="You are safe!",$(".villian-section img").removeClass("animated shake"),$("#battle-text").text(""+D),v(),Y=!0,setTimeout(function(){C()},1e3))}function k(){$("#battle-text").text(""),Y=!1,C(),T.attack-=A.defend,setTimeout(function(){h(),T.attack+=A.defend},2e3)}function g(){$("#battle-text").text(""),Y=!1,C(),A.currentAttack+=A.warCry,setTimeout(function(){h()},2e3)}function v(){M<=0&&y(),S<=0&&($("#winner").text("You won this round!!! Ta-da!!").css({color:"#C5D200","font-size":"28px"}),Y=!0,setTimeout(function(){p()},2e3))}function C(){!1===Y&&$(".player-section img").removeClass("img-active"),!0===Y&&$(".player-section img").addClass("img-active")}function p(){H+=1,S=25*H,M=20*H,D="",$("#winner").text(""),$("#battle-text").text(""+D)}function y(){localStorage.setItem("highScore",W),O.addClass("hidden"),Q.removeClass("hidden").addClass("animated fadeIn")}function x(){D="",$("#battle-text").text(""+D),M=20,S=20,H=1,N=0,A.currentAttack=A.attack,Y=!0,G.empty()}function b(){Q.addClass("hidden"),x(),c()}function w(){Q.addClass("hidden"),X.removeClass("hidden").addClass("animated fadeIn"),x()}var I=void 0,A=void 0,T=void 0,M=20,S=20,Y=!0,D=void 0,H=1,N=0,W=localStorage.getItem("highScore")||0,j=[{name:"Nick",image:"public/assets/images/player1.gif",attack:4,currentAttack:4,warCry:2,defend:4,accuracy:.4},{name:"Ellen",image:"public/assets/images/player2.gif",attack:1,currentAttack:1,warCry:5,defend:5,accuracy:.8},{name:"Mutant Nick",image:"public/assets/images/player3.gif",attack:6,currentAttack:6,warCry:1,defend:2,accuracy:.5}],z=[{name:"Henry",image:"public/assets/images/villian3.jpg",attack:5,accuracy:.5},{name:"Xenomorph",image:"public/assets/images/villian2.gif",attack:20,accuracy:.8},{name:"Medusa",image:"public/assets/images/villian3.gif",attack:4,accuracy:.56}],E=$(".instructions"),R=$("#instructions"),X=$(".welcome"),q=$("#back"),B=$("#play"),F=$(".character-screen"),G=$(".choices"),J=$(".name"),K=$("#start"),L=$(".chosen-character"),O=$(".game-window"),P=$("#kick-off"),Q=$(".game-over"),U=$("#attack"),V=$("#warcry"),Z=$("#defend"),_=$("#new-game"),aa=$("#back-to-menu"),ea=$("#player-score"),ta=$(".high-score"),na=$("audio");R.on("click",a),q.on("click",e),B.on("click",n),K.on("click",i),J.on("keyup",d),G.on("click",".character",o),P.on("click",c),U.on("click",f),V.on("click",g),Z.on("click",k),_.on("click",b),aa.on("click",w)});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC5qcyJdLCJuYW1lcyI6WyIkIiwiJHdlbGNvbWUiLCIkaW5zdHJ1Y3Rpb25zIiwicmVtb3ZlQ2xhc3MiLCJhZGRDbGFzcyIsImNyZWF0ZUNob2ljZXMiLCJjb250ZW50IiwiJGNob2ljZXMiLCJhcHBlbmQiLCJnb1RvQ2hvaWNlU2NyZWVuIiwiY2hhcmFjdGVycyIsImxlbmd0aCIsImkiLCIkY2hhcmFjdGVyU2NyZWVuIiwiaW1hZ2UiLCJ0b1RoZUdhbWUiLCJuYW1lIiwiYXR0YWNrIiwiJGNob3NlbkNoYXJhY3RlciIsIndhckNyeSIsImRlZmVuZCIsIiRnYW1lV2luZG93IiwiZGlzcGxheVNjb3JlIiwiZGlzcGxheVJvdW5kIiwiZGlzcGxheUN1cnJlbnRBdHRhY2siLCJoaWdoU2NvcmUiLCIkaGlnaFNjb3JlIiwicGxheWVyTmFtZSIsImFsZXJ0IiwidGV4dCIsImlkIiwic2NvcmUiLCIkc3RhcnRCdG4iLCJwbGF5ZXJDaG9zZW4iLCJ2aWxsaWFuQ2hvc2VuIiwidmlsbGlhbnMiLCJzZWxlY3RDaGFyYWN0ZXIiLCJzaWJsaW5ncyIsInZpbGxpYW5MaWZlIiwidGhpcyIsImF0dHIiLCJzZXRJbnRlcnZhbCIsImRpc3BsYXlIZWFsdGgiLCJodG1sIiwicGxheWVyTGlmZSIsIiRzY29yZSIsImF0dGFja1ZpbGxpYW4iLCJyb3VuZCIsInJvdW5kVGV4dCIsImN1cnJlbnRBdHRhY2siLCJjb25zb2xlIiwidHVybiIsIndob3NlVHVybiIsImNoZWNrRm9yV2lubmVyIiwidXBkYXRlSGlnaFNjb3JlIiwic2V0VGltZW91dCIsImF0dGFja1BsYXllciIsIiRhdWRpbyIsImxvZyIsInJhbmRvbSIsIk1hdGgiLCJhY2N1cmFjeSIsImdhbWVPdmVyIiwibmV4dFJvdW5kIiwiY3NzIiwiY29sb3IiLCJmb250LXNpemUiLCIkZ2FtZU92ZXJTY3JlZW4iLCJsb2NhbFN0b3JhZ2UiLCJzZXRJdGVtIiwibmV3R2FtZSIsInN0YXJ0VGhlR2FtZSIsInJlc2V0RGF0YSIsIiRpbnN0cnVjdGlvbnNCdG4iLCJoaWRlV2luZG93MSIsIiRiYWNrQnRuIiwib24iLCIkcGxheUJ0biIsImVtcHR5IiwiJGtpY2tPZmZCdG4iLCIkYXR0YWNrIiwiJHdhckNyeSIsIiRuZXdHYW1lIiwiJGJhY2tUb01lbnUiLCJiYWNrVG9NZW51IiwiZ2V0SXRlbSIsIiRuYW1lIiwiJGRlZmVuZCIsImhpZGVXaW5kb3cyIiwiZ2V0VGhlTmFtZSJdLCJtYXBwaW5ncyI6IllBQUFBLEdBQUUsV0EwRkVDLFFBQUFBLEtBQ0RDLEVBQUFDLFlBQUEsVUFBQUMsU0FBQSxtQkFDREgsRUFBU0ksU0FBQUEsVUFFTCxRQUFNQyxLQVNOQyxFQUFTQyxTQUFPRixVQUFoQkgsWUFBQSxtQkFDREYsRUFBQUUsWUFBQSxVQUFBQyxTQUFBLG1CQUVILFFBQVNLLEtBQ1BSLElBQUFBLEdBQUFBLEdBQVNHLEVBQUFBLEVBQVNNLEVBQWxCQyxPQUFBQyxJQUFBLENBQ0FDLEdBQUFBLEdBQUFBLDBDQUNBUixFQURBUSxzQkFFREgsRUFBQUUsR0FBQUUsTUFGQ0QsZ0JBR09FLEVBQVRILEdBQW9CSSxLQUhsQkgsMEJBSUFBLEVBQTBCRCxHQUFBSyxPQUoxQkosMEJBS0FLLEVBQWlCZixHQUFZZ0IsT0FMN0JOLDBCQU1ESCxFQUFBRSxHQUFBUSxPQU5DUCw0QkFTQVEsR0FBQUEsT0FBWWxCLElBR1ptQixRQUFBQSxLQUNBQyxFQUFBQSxTQUFBQSxVQUNBQyxFQUFBQSxZQUFBQSxVQUFBQSxTQUFBQSxtQkFDRG5CLElBRUNvQixRQUFBQSxLQUNBQyxFQUFnQkQsU0FBaEIsVUFDRFAsRUFBQWYsWUFBQSxVQUFBQyxTQUFBLG1CQUVDdUIsUUFBQUEsS0FDQVQsRUFBZVAsU0FBVyxVQUN4QmlCLEVBQU16QixZQUFBLFVBQUFDLFNBQU4sbUJBQ0RzQixHQUFBRyxLQUFBSixHQUNEekIsSUFDRHNCLElBYkNDLElBZUZDLElBRUUsUUFBTU0sS0FDTkwsRUFBTU0sRUFBQU4sRUFBQU0sRUFBQU4sRUFDSk8sR0FBQUEsS0FBQVAsR0FFRlEs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TnRGLEVBQUEsaUJBQ01nQyxFQUFZaEMsRUFBRSxZQUNka0IsRUFBQUEsRUFBQUEsU0FDQUcsRUFBQUEsRUFBY3JCLFNBQ2QrRSxFQUFnQi9FLEVBQUEscUJBQ2hCbUUsRUFBQUEsRUFBQUEsWUFDQWEsRUFBVWhGLEVBQUUsU0FDWmlGLEVBQVlqRixFQUFBLFVBQ1p1RixFQUFVdkYsRUFBaEIscUJBQ01rRixFQUFhbEYsRUFBQSxnQkFDYm1GLEVBQWdCbkYsRUFBQSxhQUNoQjZDLEVBQVc3QyxFQUFBLGNBQ1gwQixFQUFBQSxFQUFhMUIsV0FDYnlELEVBQVd6RCxFQUFBLFdBTFh1RixFQUFVdkYsRUFBRSxXQU9sQmtGLEVBQVNSLEVBQUFBLGFBQ1B4RSxHQUFjQyxFQUFBQSxpQkFDZEYsR0FBU0csRUFBQUEsaUJBQ1ZzQixHQUFBMUIsRUFBQSxlQUNEeUQsR0FBUytCLEVBQUFBLFFBc01UZixHQUFpQkcsR0FBRyxRQUFTRixHQUM3QkMsRUFBU0MsR0FBRyxRQUFTWSxHQUNyQlgsRUFBU0QsR0FBRyxRQUFTbkUsR0FDckJ1QixFQUFVNEMsR0FBRyxRQUFTN0QsR0FDdEJ1RSxFQUFNVixHQUFHLFFBQVNhLEdBQ2xCbEYsRUFBU3FFLEdBQUcsUUFBUyxhQUFjeEMsR0FDbkMyQyxFQUFZSCxHQUFHLFFBQVNMLEdBQ3hCUyxFQUFRSixHQUFHLFFBQVM5QixHQUNwQm1DLEVBQVFMLEdBQUcsUUFBU3pELEdBQ3BCb0UsRUFBUVgsR0FBRyxRQUFTeEQsR0FDcEI4RCxFQUFTTixHQUFHLFFBQVNOLEdBQ3JCYSxHQUFZUCxHQUFHLFFBQVNRIiwiZmlsZSI6ImFwcC5qcyIsInNvdXJjZXNDb250ZW50IjpbIiQoKCkgPT4ge1xuICBsZXQgcGxheWVyTmFtZTtcbiAgbGV0IHBsYXllckNob3NlbjtcbiAgbGV0IHZpbGxpYW5DaG9zZW47XG4gIGxldCBwbGF5ZXJMaWZlID0gMjA7XG4gIGxldCB2aWxsaWFuTGlmZSA9IDIwO1xuICBsZXQgdHVybiA9IHRydWU7XG4gIGxldCByb3VuZFRleHQ7XG4gIGxldCByb3VuZCA9IDE7XG4gIGxldCBzY29yZSA9IDA7XG4gIGxldCBoaWdoU2NvcmUgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnaGlnaFNjb3JlJykgfHwgMDtcblxuICBjb25zdCBjaGFyYWN0ZXJzID0gW1xuICAgIHtcbiAgICAgIG5hbWU6ICdOaWNrJyxcbiAgICAgIGltYWdlOiAncHVibGljL2Fzc2V0cy9pbWFnZXMvcGxheWVyMS5naWYnLFxuICAgICAgYXR0YWNrOiA0LFxuICAgICAgY3VycmVudEF0dGFjazogNCxcbiAgICAgIHdhckNyeTogMixcbiAgICAgIGRlZmVuZDogNCxcbiAgICAgIGFjY3VyYWN5OiAwLjRcbiAgICB9LFxuICAgIHtcbiAgICAgIG5hbWU6ICdFbGxlbicsXG4gICAgICBpbWFnZTogJ3B1YmxpYy9hc3NldHMvaW1hZ2VzL3BsYXllcjIuZ2lmJyxcbiAgICAgIGF0dGFjazogMSxcbiAgICAgIGN1cnJlbnRBdHRhY2s6IDEsXG4gICAgICB3YXJDcnk6IDUsXG4gICAgICBkZWZlbmQ6IDUsXG4gICAgICBhY2N1cmFjeTogMC44XG4gICAgfSxcbiAgICB7XG4gICAgICBuYW1lOiAnTXV0YW50IE5pY2snLFxuICAgICAgaW1hZ2U6ICdwdWJsaWMvYXNzZXRzL2ltYWdlcy9wbGF5ZXIzLmdpZicsXG4gICAgICBhdHRhY2s6IDYsXG4gICAgICBjdXJyZW50QXR0YWNrOiA2LFxuICAgICAgd2FyQ3J5OiAxLFxuICAgICAgZGVmZW5kOiAyLFxuICAgICAgYWNjdXJhY3k6IDAuNVxuICAgIH1cbiAgXTtcbiAgY29uc3QgdmlsbGlhbnMgPSBbXG4gICAge1xuICAgICAgbmFtZTogJ0hlbnJ5JyxcbiAgICAgIGltYWdlOiAncHVibGljL2Fzc2V0cy9pbWFnZXMvdmlsbGlhbjMuanBnJyxcbiAgICAgIGF0dGFjazogNSxcbiAgICAgIGFjY3VyYWN5OiAwLjVcbiAgICB9LFxuICAgIHtcbiAgICAgIG5hbWU6ICdYZW5vbW9ycGgnLFxuICAgICAgaW1hZ2U6ICdwdWJsaWMvYXNzZXRzL2ltYWdlcy92aWxsaWFuMi5naWYnLFxuICAgICAgYXR0YWNrOiAyMCxcbiAgICAgIGFjY3VyYWN5OiAwLjhcbiAgICB9LFxuICAgIHtcbiAgICAgIG5hbWU6ICdNZWR1c2EnLFxuICAgICAgaW1hZ2U6ICdwdWJsaWMvYXNzZXRzL2ltYWdlcy92aWxsaWFuMy5naWYnLFxuICAgICAgYXR0YWNrOiA0LFxuICAgICAgYWNjdXJhY3k6IDAuNTZcbiAgICB9XG4gIF07XG5cbiAgY29uc3QgJGluc3RydWN0aW9ucyA9ICQoJy5pbnN0cnVjdGlvbnMnKTtcbiAgY29uc3QgJGluc3RydWN0aW9uc0J0biA9ICQoJyNpbnN0cnVjdGlvbnMnKTtcbiAgY29uc3QgJHdlbGNvbWUgPSAkKCcud2VsY29tZScpO1xuICBjb25zdCAkYmFja0J0biA9ICQoJyNiYWNrJyk7XG4gIGNvbnN0ICRwbGF5QnRuID0gJCgnI3BsYXknKTtcbiAgY29uc3QgJGNoYXJhY3RlclNjcmVlbiA9ICQoJy5jaGFyYWN0ZXItc2NyZWVuJyk7XG4gIGNvbnN0ICRjaG9pY2VzID0gJCgnLmNob2ljZXMnKTtcbiAgY29uc3QgJG5hbWUgPSAkKCcubmFtZScpO1xuICBjb25zdCAkc3RhcnRCdG4gPSAkKCcjc3RhcnQnKTtcbiAgY29uc3QgJGNob3NlbkNoYXJhY3RlciA9ICQoJy5jaG9zZW4tY2hhcmFjdGVyJyk7XG4gIGNvbnN0ICRnYW1lV2luZG93ID0gJCgnLmdhbWUtd2luZG93Jyk7XG4gIGNvbnN0ICRraWNrT2ZmQnRuID0gJCgnI2tpY2stb2ZmJyk7XG4gIGNvbnN0ICRnYW1lT3ZlclNjcmVlbiA9ICQoJy5nYW1lLW92ZXInKTtcbiAgY29uc3QgJGF0dGFjayA9ICQoJyNhdHRhY2snKTtcbiAgY29uc3QgJHdhckNyeSA9ICQoJyN3YXJjcnknKTtcbiAgY29uc3QgJGRlZmVuZCA9ICQoJyNkZWZlbmQnKTtcbiAgY29uc3QgJG5ld0dhbWUgPSAkKCcjbmV3LWdhbWUnKTtcbiAgY29uc3QgJGJhY2tUb01lbnUgPSAkKCcjYmFjay10by1tZW51Jyk7XG4gIGNvbnN0ICRzY29yZSA9ICQoJyNwbGF5ZXItc2NvcmUnKTtcbiAgY29uc3QgJGhpZ2hTY29yZSA9ICQoJy5oaWdoLXNjb3JlJyk7XG4gIGNvbnN0ICRhdWRpbyA9ICQoJ2F1ZGlvJyk7XG5cbiAgZnVuY3Rpb24gaGlkZVdpbmRvdzEoKXtcbiAgICAkaW5zdHJ1Y3Rpb25zLnJlbW92ZUNsYXNzKCdoaWRkZW4nKS5hZGRDbGFzcygnYW5pbWF0ZWQgZmFkZUluJyk7XG4gICAgJHdlbGNvbWUuYWRkQ2xhc3MoJ2hpZGRlbicpO1xuICB9XG4gIGZ1bmN0aW9uIGhpZGVXaW5kb3cyKCl7XG4gICAgJGluc3RydWN0aW9ucy5hZGRDbGFzcygnaGlkZGVuJykucmVtb3ZlQ2xhc3MoJ2FuaW1hdGVkIGZhZGVJbicpO1xuICAgICR3ZWxjb21lLnJlbW92ZUNsYXNzKCdoaWRkZW4nKS5hZGRDbGFzcygnYW5pbWF0ZWQgZmFkZUluJyk7XG4gIH1cbiAgZnVuY3Rpb24gY3JlYXRlQ2hvaWNlcygpe1xuICAgIGZvcihsZXQgaSA9IDA7IGkgPCBjaGFyYWN0ZXJzLmxlbmd0aDsgaSsrKXtcbiAgICAgIGNvbnN0IGNvbnRlbnQgPSBgXG4gICAgICA8ZGl2IGNsYXNzPVwiY2hhcmFjdGVyXCIgZGF0YS1pZD0ke2l9PlxuICAgICAgPGltZyBzcmM9XCIke2NoYXJhY3RlcnNbaV0uaW1hZ2V9XCI+XG4gICAgICA8cD4ke2NoYXJhY3RlcnNbaV0ubmFtZX08L3A+XG4gICAgICA8cD5BdHRhY2s6ICR7Y2hhcmFjdGVyc1tpXS5hdHRhY2t9PC9wPlxuICAgICAgPHA+V2FyQ3J5OiAke2NoYXJhY3RlcnNbaV0ud2FyQ3J5fTwvcD5cbiAgICAgIDxwPkRlZmVuZDogJHtjaGFyYWN0ZXJzW2ldLmRlZmVuZH08L3A+XG4gICAgICA8L2Rpdj5cbiAgICAgIGA7XG4gICAgICAkY2hvaWNlcy5hcHBlbmQoY29udGVudCk7XG4gICAgfVxuICB9XG4gIGZ1bmN0aW9uIGdvVG9DaG9pY2VTY3JlZW4oKXtcbiAgICAkd2VsY29tZS5hZGRDbGFzcygnaGlkZGVuJyk7XG4gICAgJGNoYXJhY3RlclNjcmVlbi5yZW1vdmVDbGFzcygnaGlkZGVuJykuYWRkQ2xhc3MoJ2FuaW1hdGVkIGZhZGVJbicpO1xuICAgIGNyZWF0ZUNob2ljZXMoKTtcbiAgfVxuICBmdW5jdGlvbiB0b1RoZUdhbWUoKXtcbiAgICAkY2hhcmFjdGVyU2NyZWVuLmFkZENsYXNzKCdoaWRkZW4nKTtcbiAgICAkY2hvc2VuQ2hhcmFjdGVyLnJlbW92ZUNsYXNzKCdoaWRkZW4nKS5hZGRDbGFzcygnYW5pbWF0ZWQgZmFkZUluJyk7XG4gIH1cbiAgZnVuY3Rpb24gc3RhcnRUaGVHYW1lKCl7XG4gICAgJGNob3NlbkNoYXJhY3Rlci5hZGRDbGFzcygnaGlkZGVuJyk7XG4gICAgJGdhbWVXaW5kb3cucmVtb3ZlQ2xhc3MoJ2hpZGRlbicpLmFkZENsYXNzKCdhbmltYXRlZCBmYWRlSW4nKTtcbiAgICAkaGlnaFNjb3JlLnRleHQoaGlnaFNjb3JlKTtcbiAgICBkaXNwbGF5SGVhbHRoKCk7XG4gICAgZGlzcGxheVNjb3JlKCk7XG4gICAgZGlzcGxheVJvdW5kKCk7XG4gICAgZGlzcGxheUN1cnJlbnRBdHRhY2soKTtcbiAgfVxuICBmdW5jdGlvbiB1cGRhdGVIaWdoU2NvcmUoKXtcbiAgICBoaWdoU2NvcmUgPSBzY29yZSA+IGhpZ2hTY29yZSA/IHNjb3JlIDogaGlnaFNjb3JlO1xuICAgICRoaWdoU2NvcmUudGV4dChoaWdoU2NvcmUpO1xuICB9XG4gIGZ1bmN0aW9uIGdldFRoZU5hbWUoKXtcbiAgICBwbGF5ZXJOYW1lID0gJCh0aGlzKS52YWwoKTtcbiAgICBpZiAocGxheWVyTmFtZS5sZW5ndGggPT09IDApe1xuICAgICAgYWxlcnQoJ1lvdSBtdXN0IHByb3ZpZGUgeW91ciBuYW1lJyk7XG4gICAgfVxuICAgICQoJy5wbGF5ZXItbmFtZScpLnRleHQocGxheWVyTmFtZSk7XG4gIH1cblxuICBmdW5jdGlvbiBzZWxlY3RDaGFyYWN0ZXIoKXtcbiAgICAkKHRoaXMpLmFkZENsYXNzKCdhY3RpdmUnKS5zaWJsaW5ncygpLnJlbW92ZUNsYXNzKCdhY3RpdmUnKTtcbiAgICBjb25zdCBpZCA9ICQodGhpcykuYXR0cignZGF0YS1pZCcpO1xuICAgIGlmKGlkKXtcbiAgICAgICRzdGFydEJ0bi5hdHRyKCdkaXNhYmxlZCcsIGZhbHNlKTtcbiAgICB9XG4gICAgcGxheWVyQ2hvc2VuID0gY2hhcmFjdGVyc1tpZF07XG4gICAgdmlsbGlhbkNob3NlbiA9IHZpbGxpYW5zW2lkXTtcbiAgICAkKCcuY2hvc2VuLWNoYXJhY3RlciBpbWcsIC5wbGF5ZXInKS5hdHRyKCdzcmMnLCBwbGF5ZXJDaG9zZW4uaW1hZ2UpO1xuICAgICQoJy52aWxsaWFuJykuYXR0cignc3JjJywgdmlsbGlhbkNob3Nlbi5pbWFnZSk7XG4gICAgJCgnLnZpbGxpYW4tbmFtZScpLnRleHQodmlsbGlhbkNob3Nlbi5uYW1lKTtcbiAgfVxuICBmdW5jdGlvbiBkaXNwbGF5SGVhbHRoKCl7XG4gICAgc2V0SW50ZXJ2YWwoKCkgPT4ge1xuICAgICAgJCgnI3BsYXllci1oZWFsdGgnKS5odG1sKHBsYXllckxpZmUpO1xuICAgICAgJCgnI3ZpbGxpYW4taGVhbHRoJykuaHRtbCh2aWxsaWFuTGlmZSk7XG4gICAgfSwgNTAwKTtcbiAgfVxuICBmdW5jdGlvbiBkaXNwbGF5Um91bmQoKXtcbiAgICBzZXRJbnRlcnZhbCgoKSA9PiB7XG4gICAgICAkKCcjcm91bmQtbm8nKS50ZXh0KGBSb3VuZCAke3JvdW5kfWApO1xuICAgIH0sIDUwMCk7XG4gIH1cbiAgZnVuY3Rpb24gZGlzcGxheUN1cnJlbnRBdHRhY2soKXtcbiAgICBzZXRJbnRlcnZhbCgoKSA9PiB7XG4gICAgICAkKCcjY3VycmVudC1hdHRhY2snKS50ZXh0KHBsYXllckNob3Nlbi5jdXJyZW50QXR0YWNrKTtcbiAgICB9LCA1MDApO1xuICB9XG4gIGZ1bmN0aW9uIGRpc3BsYXlTY29yZSgpe1xuICAgIHNldEludGVydmFsKCgpID0+IHtcbiAgICAgICRzY29yZS5odG1sKHNjb3JlKTtcbiAgICB9LCA1MDApO1xuICB9XG5cbiAgZnVuY3Rpb24gYXR0YWNrVmlsbGlhbigpe1xuICAgIGlmKHR1cm4gPT09IHRydWUpe1xuICAgICAgaWYoTWF0aC5yYW5kb20oKSA8IHBsYXllckNob3Nlbi5hY2N1cmFjeSl7XG4gICAgICAgIHZpbGxpYW5MaWZlIC09IHBsYXllckNob3Nlbi5jdXJyZW50QXR0YWNrO1xuICAgICAgICBzY29yZSArPSBwbGF5ZXJDaG9zZW4uY3VycmVudEF0dGFjaztcbiAgICAgICAgcm91bmRUZXh0ID0gJ1lvdSBoYXZlIGhpdCBoaW0hJztcbiAgICAgICAgJCgnLnZpbGxpYW4tc2VjdGlvbiBpbWcnKS5hZGRDbGFzcygnYW5pbWF0ZWQgc2hha2UnKTtcbiAgICAgICAgJGF1ZGlvLmF0dHIoJ3NyYycsJy4vcHVibGljL2Fzc2V0cy9hdWRpby9wdW5jaC53YXYnKTtcbiAgICAgICAgY29uc29sZS5sb2coJGF1ZGlvKTtcbiAgICAgIH0gZWxzZXtcbiAgICAgICAgcm91bmRUZXh0ID0gJ1dob29vcHMhIEEgbWlzcy4uLic7XG4gICAgICB9XG4gICAgICBwbGF5ZXJDaG9zZW4uY3VycmVudEF0dGFjayA9IHBsYXllckNob3Nlbi5hdHRhY2s7XG4gICAgICAkKCcjYmF0dGxlLXRleHQnKS50ZXh0KGAke3JvdW5kVGV4dH1gKTtcbiAgICAgICQoJy5wbGF5ZXItc2VjdGlvbiBpbWcnKS5yZW1vdmVDbGFzcygnYW5pbWF0ZWQgc2hha2UnKTtcbiAgICAgIHR1cm4gPSBmYWxzZTtcbiAgICAgIHdob3NlVHVybigpO1xuICAgICAgY2hlY2tGb3JXaW5uZXIoKTtcbiAgICAgIHVwZGF0ZUhpZ2hTY29yZSgpO1xuICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgIGF0dGFja1BsYXllcigpO1xuICAgICAgfSwgMzAwMCk7XG4gICAgfVxuICB9XG4gIGZ1bmN0aW9uIGF0dGFja1BsYXllcigpe1xuICAgIGlmKHR1cm4gPT09IGZhbHNlKXtcbiAgICAgIGlmKE1hdGgucmFuZG9tKCkgPCB2aWxsaWFuQ2hvc2VuLmFjY3VyYWN5KXtcbiAgICAgICAgcGxheWVyTGlmZSAtPSB2aWxsaWFuQ2hvc2VuLmF0dGFjaztcbiAgICAgICAgcm91bmRUZXh0ID0gJ0hlIGhpdCB5b3UhJztcbiAgICAgICAgJCgnLnBsYXllci1zZWN0aW9uIGltZycpLmFkZENsYXNzKCdhbmltYXRlZCBzaGFrZScpO1xuICAgICAgfSBlbHNle1xuICAgICAgICByb3VuZFRleHQgPSAnWW91IGFyZSBzYWZlISc7XG4gICAgICB9XG4gICAgICAkKCcudmlsbGlhbi1zZWN0aW9uIGltZycpLnJlbW92ZUNsYXNzKCdhbmltYXRlZCBzaGFrZScpO1xuICAgICAgJCgnI2JhdHRsZS10ZXh0JykudGV4dChgJHtyb3VuZFRleHR9YCk7XG4gICAgICBjaGVja0Zvcldpbm5lcigpO1xuICAgICAgdHVybiA9IHRydWU7XG4gICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgd2hvc2VUdXJuKCk7XG4gICAgICB9LDEwMDApO1xuICAgIH1cbiAgfVxuICBmdW5jdGlvbiBkZWZlbmQoKXtcbiAgICAkKCcjYmF0dGxlLXRleHQnKS50ZXh0KCcnKTtcbiAgICB0dXJuID0gZmFsc2U7XG4gICAgd2hvc2VUdXJuKCk7XG4gICAgdmlsbGlhbkNob3Nlbi5hdHRhY2sgLT0gcGxheWVyQ2hvc2VuLmRlZmVuZDtcbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgIGF0dGFja1BsYXllcigpO1xuICAgICAgdmlsbGlhbkNob3Nlbi5hdHRhY2sgKz0gcGxheWVyQ2hvc2VuLmRlZmVuZDtcbiAgICB9LCAyMDAwKTtcbiAgfVxuICBmdW5jdGlvbiB3YXJDcnkoKXtcbiAgICAkKCcjYmF0dGxlLXRleHQnKS50ZXh0KCcnKTtcbiAgICB0dXJuID0gZmFsc2U7XG4gICAgd2hvc2VUdXJuKCk7XG4gICAgcGxheWVyQ2hvc2VuLmN1cnJlbnRBdHRhY2sgKz0gcGxheWVyQ2hvc2VuLndhckNyeTtcbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgIGF0dGFja1BsYXllcigpO1xuICAgIH0sIDIwMDApO1xuICB9XG4gIGZ1bmN0aW9uIGNoZWNrRm9yV2lubmVyKCl7XG4gICAgaWYgKHBsYXllckxpZmUgPD0gMCl7XG4gICAgICBnYW1lT3ZlcigpO1xuICAgIH1cbiAgICBpZih2aWxsaWFuTGlmZSA8PSAwKXtcbiAgICAgICQoJyN3aW5uZXInKS50ZXh0KCdZb3Ugd29uIHRoaXMgcm91bmQhISEgVGEtZGEhIScpLmNzcyh7J2NvbG9yJzogJyNDNUQyMDAnLCAnZm9udC1zaXplJzogJzI4cHgnfSk7XG4gICAgICB0dXJuID0gdHJ1ZTtcbiAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICBuZXh0Um91bmQoKTtcbiAgICAgIH0sIDIwMDApO1xuICAgIH1cbiAgfVxuICBmdW5jdGlvbiB3aG9zZVR1cm4oKXtcbiAgICBpZiAodHVybiA9PT0gZmFsc2Upe1xuICAgICAgJCgnLnBsYXllci1zZWN0aW9uIGltZycpLnJlbW92ZUNsYXNzKCdpbWctYWN0aXZlJyk7XG4gICAgfVxuICAgIGlmICh0dXJuID09PSB0cnVlKXtcbiAgICAgICQoJy5wbGF5ZXItc2VjdGlvbiBpbWcnKS5hZGRDbGFzcygnaW1nLWFjdGl2ZScpO1xuICAgIH1cbiAgfVxuICBmdW5jdGlvbiBuZXh0Um91bmQoKXtcbiAgICByb3VuZCArPSAxO1xuICAgIHZpbGxpYW5MaWZlID0gMjUgKiByb3VuZDtcbiAgICBwbGF5ZXJMaWZlID0gMjAgICogcm91bmQ7XG4gICAgcm91bmRUZXh0ID0gJyc7XG4gICAgJCgnI3dpbm5lcicpLnRleHQoJycpO1xuICAgICQoJyNiYXR0bGUtdGV4dCcpLnRleHQoYCR7cm91bmRUZXh0fWApO1xuICB9XG4gIGZ1bmN0aW9uIGdhbWVPdmVyKCl7XG4gICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ2hpZ2hTY29yZScsIGhpZ2hTY29yZSk7XG4gICAgJGdhbWVXaW5kb3cuYWRkQ2xhc3MoJ2hpZGRlbicpO1xuICAgICRnYW1lT3ZlclNjcmVlbi5yZW1vdmVDbGFzcygnaGlkZGVuJykuYWRkQ2xhc3MoJ2FuaW1hdGVkIGZhZGVJbicpO1xuICB9XG4gIGZ1bmN0aW9uIHJlc2V0RGF0YSgpe1xuICAgIHJvdW5kVGV4dCA9ICcnO1xuICAgICQoJyNiYXR0bGUtdGV4dCcpLnRleHQoYCR7cm91bmRUZXh0fWApO1xuICAgIHBsYXllckxpZmUgPSAyMDtcbiAgICB2aWxsaWFuTGlmZSA9IDIwO1xuICAgIHJvdW5kID0gMTtcbiAgICBzY29yZSA9IDA7XG4gICAgcGxheWVyQ2hvc2VuLmN1cnJlbnRBdHRhY2sgPSBwbGF5ZXJDaG9zZW4uYXR0YWNrO1xuICAgIHR1cm4gPSB0cnVlO1xuICAgICRjaG9pY2VzLmVtcHR5KCk7XG5cbiAgfVxuICBmdW5jdGlvbiBuZXdHYW1lKCl7XG4gICAgJGdhbWVPdmVyU2NyZWVuLmFkZENsYXNzKCdoaWRkZW4nKTtcbiAgICByZXNldERhdGEoKTtcbiAgICBzdGFydFRoZUdhbWUoKTtcbiAgfVxuICBmdW5jdGlvbiBiYWNrVG9NZW51KCl7XG4gICAgJGdhbWVPdmVyU2NyZWVuLmFkZENsYXNzKCdoaWRkZW4nKTtcbiAgICAkd2VsY29tZS5yZW1vdmVDbGFzcygnaGlkZGVuJykuYWRkQ2xhc3MoJ2FuaW1hdGVkIGZhZGVJbicpO1xuICAgIHJlc2V0RGF0YSgpO1xuICB9XG4gICRpbnN0cnVjdGlvbnNCdG4ub24oJ2NsaWNrJywgaGlkZVdpbmRvdzEpO1xuICAkYmFja0J0bi5vbignY2xpY2snLCBoaWRlV2luZG93Mik7XG4gICRwbGF5QnRuLm9uKCdjbGljaycsIGdvVG9DaG9pY2VTY3JlZW4pO1xuICAkc3RhcnRCdG4ub24oJ2NsaWNrJywgdG9UaGVHYW1lKTtcbiAgJG5hbWUub24oJ2tleXVwJywgZ2V0VGhlTmFtZSk7XG4gICRjaG9pY2VzLm9uKCdjbGljaycsICcuY2hhcmFjdGVyJywgc2VsZWN0Q2hhcmFjdGVyKTtcbiAgJGtpY2tPZmZCdG4ub24oJ2NsaWNrJywgc3RhcnRUaGVHYW1lKTtcbiAgJGF0dGFjay5vbignY2xpY2snLCBhdHRhY2tWaWxsaWFuKTtcbiAgJHdhckNyeS5vbignY2xpY2snLCB3YXJDcnkpO1xuICAkZGVmZW5kLm9uKCdjbGljaycsIGRlZmVuZCk7XG4gICRuZXdHYW1lLm9uKCdjbGljaycsIG5ld0dhbWUpO1xuICAkYmFja1RvTWVudS5vbignY2xpY2snLCBiYWNrVG9NZW51KTtcbn0pO1xuIl19
