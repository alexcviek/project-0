"use strict";$(function(){function e(){z.removeClass("hidden"),E.addClass("hidden")}function a(){z.addClass("hidden"),E.removeClass("hidden")}function t(){E.addClass("hidden"),X.removeClass("hidden")}function n(){X.addClass("hidden"),B.removeClass("hidden")}function i(){B.addClass("hidden"),D.removeClass("hidden"),s(),r(),l()}function c(){w=$(this).val(),0===w.length&&(w=x.name),$("#name").text("Hello "+w+"!"),$(".player1-name").text(w)}function o(){$(this).addClass("active").siblings().removeClass("active");var e=$(this).attr("id");e&&$("#start").attr("disabled",!1),x=Y[e],b=j[e],$(".chosen-character img, .player1").attr("src",x.image),$(".villian").attr("src",b.image),$(".villian-name").text(b.name)}function s(){setInterval(function(){$("#player-health").html(T),$("#villian-score").html(M),$("h1").text("Round "+R)},500)}function l(){setInterval(function(){$("h1").text("Round "+R)},500)}function r(){setInterval(function(){$("#player-score").html(N)},500)}function d(){!0===H&&(Math.random()<x.accuracy?(M-=x.attack,N+=5,I="You have hit him!"):I="Whooops! A miss...",$("#battle-text").text(""+I),H=!1,g(),h(),setTimeout(function(){u()},3e3))}function u(){!1===H&&(Math.random()<b.accuracy?(T-=b.attack,I="Crap! He hit you!"):I="Lucky u! This time it is a miss and you are safe!",$("#battle-text").text(""+I),h(),H=!0,g())}function m(){H=!1,g(),b.attack-=x.defend,setTimeout(function(){u(),b.attack+=x.defend},2e3)}function f(){H=!1,g(),console.log(x.attack),x.attack+=x.warCry,console.log(x.attack),setTimeout(function(){u()},2e3),setTimeout(function(){d(),x.attack-=x.warCry,console.log(x.attack)},3e3)}function h(){T<=0&&(v(),H=!0),M<=0&&($("#winner").text("You won this round!!! Ta-da!!").css({color:"red","font-size":"30px"}),H=!0,setTimeout(function(){k()},2e3))}function g(){!1===H&&(console.log("not your turn"),$(".player-corner img").removeClass("img-active")),!0===H&&(console.log("your turn"),$(".player-corner img").addClass("img-active"))}function k(){console.log("Round 2!"),R+=1,M=25*R,T=20*R,I="",$("#winner").text(""),$("#battle-text").text(""+I)}function v(){D.addClass("hidden"),$(".game-over").removeClass("hidden")}function y(){I="",T=20,M=20,R=1,N=0}function C(){$(".game-over").addClass("hidden"),y(),i()}function p(){$(".game-over").addClass("hidden"),$(".welcome").removeClass("hidden"),y()}var w=void 0,x=void 0,b=void 0,T=20,M=20,H=!0,I=void 0,R=1,N=0,Y={one:{name:"Nick",image:"public/assets/images/player1.gif",attack:4,warCry:2,defend:4,accuracy:.4},two:{name:"Ellen",image:"public/assets/images/player2.gif",attack:1,warCry:2,defend:5,accuracy:.7},three:{name:"Mutant Nick",image:"public/assets/images/player3.gif",attack:6,warCry:1,defend:2,accuracy:.5}},j={one:{name:"Henry",image:"public/assets/images/villian3.jpg",attack:5,accuracy:.5},two:{name:"Xenomorph",image:"public/assets/images/villian2.gif",attack:10,accuracy:.6},three:{name:"Medusa",image:"public/assets/images/villian3.gif",attack:4,accuracy:.56}},z=$(".instructions"),A=$("#instructions"),E=$(".welcome"),L=$("#back"),W=$("#play"),X=$(".character-screen"),q=$("#start"),B=$(".chosen-character"),D=$(".game-window"),F=$("#kick-off");A.on("click",e),L.on("click",a),W.on("click",t),q.on("click",n),$(".name").on("keyup",c),$(".person").on("click",o),F.on("click",i),$("#attack").on("click",d),$("#warcry").on("click",f),$("#defend").on("click",m),$("#yes").on("click",C),$("#no").on("click",p)});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC5qcyJdLCJuYW1lcyI6WyIkIiwiJGtpY2tPZmZCdG4iLCIkaW5zdHJ1Y3Rpb25zIiwicmVtb3ZlQ2xhc3MiLCIkd2VsY29tZSIsImhpZGVXaW5kb3cxIiwiYWRkQ2xhc3MiLCJoaWRlV2luZG93MiIsIiRjaGFyYWN0ZXJTY3JlZW4iLCJnb1RvQ2hvaWNlU2NyZWVuIiwiJGNob3NlbkNoYXJhY3RlciIsIiRnYW1lV2luZG93Iiwic3RhcnRUaGVHYW1lIiwiZGlzcGxheUhlYWx0aCIsImRpc3BsYXlSb3VuZCIsInBsYXllck5hbWUiLCJ0aGlzIiwidmFsIiwiZ2V0VGhlTmFtZSIsInBsYXllckNob3NlbiIsIm5hbWUiLCJ0ZXh0Iiwic2VsZWN0Q2hhcmFjdGVyIiwic2libGluZ3MiLCJpZCIsImF0dHIiLCJ2aWxsaWFuQ2hvc2VuIiwidmlsbGlhbnMiLCJpbWFnZSIsInNldEludGVydmFsIiwiaHRtbCIsInBsYXllckxpZmUiLCJ2aWxsaWFuTGlmZSIsInJvdW5kIiwiZGlzcGxheVNjb3JlIiwic2NvcmUiLCJhdHRhY2tWaWxsaWFuIiwidHVybiIsIk1hdGgiLCJhY2N1cmFjeSIsImF0dGFjayIsInJhbmRvbSIsInJvdW5kVGV4dCIsIndob3NlVHVybiIsImNoZWNrRm9yV2lubmVyIiwic2V0VGltZW91dCIsImF0dGFja1BsYXllciIsImRlZmVuZCIsIndhckNyeSIsImxvZyIsImNvbnNvbGUiLCJnYW1lT3ZlciIsImNzcyIsImNvbG9yIiwiZm9udC1zaXplIiwibmV4dFJvdW5kIiwicmVzZXREYXRhIiwiYmFja1RvTWVudSIsImNoYXJhY3RlcnMiLCJvbmUiLCJ0d28iLCJ0aHJlZSIsIiRpbnN0cnVjdGlvbnNCdG4iLCIkYmFja0J0biIsIiRwbGF5QnRuIiwiJHN0YXJ0QnRuIiwib24iLCJ0b1RoZUdhbWUiLCJuZXdHYW1lIl0sIm1hcHBpbmdzIjoiWUFBQUEsR0FBRSxXQXNFQSxRQUFNQyxLQUdKQyxFQUFjQyxZQUFZLFVBRDVCQyxFQUFTQyxTQUFU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LEVBQUFGLEVBQUEsaUJBc0JNOEQsRUFBbUI5RCxFQUFFLGlCQURyQkUsRUFBQUEsRUFBQUEsWUFDQTRELEVBQUFBLEVBQUFBLFNBQ0ExRCxFQUFhSixFQUFBLFNBQ2IrRCxFQUFOL0QsRUFBQSxxQkFDTWdFLEVBQWFoRSxFQUFBLFVBQ2JRLEVBQXFCUixFQUFBLHFCQUNyQmlFLEVBQWNqRSxFQUFBLGdCQUNkVSxFQUFBQSxFQUFBQSxZQTZLSjhDLEdBQUFBLEdBQUFBLFFBQUFBLEdBQ0RPLEVBQUFHLEdBQUEsUUFBQTNELEdBQ0R1RCxFQUFBQSxHQUFBQSxRQUFvQnJELEdBQ3BCc0QsRUFBU0csR0FBRyxRQUFTM0QsR0FDckJ5RCxFQUFBQSxTQUFBRSxHQUFZLFFBQVN6RCxHQUNyQndELEVBQUFBLFdBQWFDLEdBQUEsUUFBU0MsR0FDdEJuRSxFQUFXa0UsR0FBRyxRQUFTaEQsR0FDdkJsQixFQUFFLFdBQVdrRSxHQUFHLFFBQVM1QyxHQUN6QnJCLEVBQUFBLFdBQVlpRSxHQUFHLFFBQVN0RCxHQUN4QlosRUFBRSxXQUFXa0UsR0FBRyxRQUFTOUIsR0FDekJwQyxFQUFFLFFBQUFrRSxHQUFXQSxRQUFHRSxHQUNoQnBFLEVBQUUsT0FBQWtFLEdBQUYsUUFBZ0JUIiwiZmlsZSI6ImFwcC5qcyIsInNvdXJjZXNDb250ZW50IjpbIiQoKCkgPT4ge1xuICBsZXQgcGxheWVyTmFtZTtcbiAgbGV0IHBsYXllckNob3NlbjtcbiAgbGV0IHZpbGxpYW5DaG9zZW47XG4gIGxldCBwbGF5ZXJMaWZlID0gMjA7XG4gIGxldCB2aWxsaWFuTGlmZSA9IDIwO1xuICBsZXQgdHVybiA9IHRydWU7XG4gIGxldCByb3VuZFRleHQ7XG4gIGxldCByb3VuZCA9IDE7XG4gIGxldCBzY29yZSA9IDA7XG4gIC8vIGNvbnN0ICRoaWdoU2NvcmUgPSAkKCcuaGlnaC1zY29yZScpO1xuICAvLyBsZXQgaGlnaFNjb3JlID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2hpZ2hTY29yZScpIHx8IDA7XG4gIC8vICRoaWdoU2NvcmUudGV4dChoaWdoU2NvcmUpO1xuXG4gIGNvbnN0IGNoYXJhY3RlcnMgPSB7XG4gICAgb25lOiB7XG4gICAgICBuYW1lOiAnTmljaycsXG4gICAgICBpbWFnZTogJ3B1YmxpYy9hc3NldHMvaW1hZ2VzL3BsYXllcjEuZ2lmJyxcbiAgICAgIGF0dGFjazogNCxcbiAgICAgIHdhckNyeTogMixcbiAgICAgIGRlZmVuZDogNCxcbiAgICAgIGFjY3VyYWN5OiAwLjRcbiAgICB9LFxuICAgIHR3bzoge1xuICAgICAgbmFtZTogJ0VsbGVuJyxcbiAgICAgIGltYWdlOiAncHVibGljL2Fzc2V0cy9pbWFnZXMvcGxheWVyMi5naWYnLFxuICAgICAgYXR0YWNrOiAxLFxuICAgICAgd2FyQ3J5OiAyLFxuICAgICAgZGVmZW5kOiA1LFxuICAgICAgYWNjdXJhY3k6IDAuN1xuICAgIH0sXG4gICAgdGhyZWU6IHtcbiAgICAgIG5hbWU6ICdNdXRhbnQgTmljaycsXG4gICAgICBpbWFnZTogJ3B1YmxpYy9hc3NldHMvaW1hZ2VzL3BsYXllcjMuZ2lmJyxcbiAgICAgIGF0dGFjazogNixcbiAgICAgIHdhckNyeTogMSxcbiAgICAgIGRlZmVuZDogMixcbiAgICAgIGFjY3VyYWN5OiAwLjVcbiAgICB9XG4gIH07XG4gIGNvbnN0IHZpbGxpYW5zID0ge1xuICAgIG9uZToge1xuICAgICAgbmFtZTogJ0hlbnJ5JyxcbiAgICAgIGltYWdlOiAncHVibGljL2Fzc2V0cy9pbWFnZXMvdmlsbGlhbjMuanBnJyxcbiAgICAgIGF0dGFjazogNSxcbiAgICAgIGFjY3VyYWN5OiAwLjVcbiAgICB9LFxuICAgIHR3bzoge1xuICAgICAgbmFtZTogJ1hlbm9tb3JwaCcsXG4gICAgICBpbWFnZTogJ3B1YmxpYy9hc3NldHMvaW1hZ2VzL3ZpbGxpYW4yLmdpZicsXG4gICAgICBhdHRhY2s6IDEwLFxuICAgICAgYWNjdXJhY3k6IDAuNlxuICAgIH0sXG4gICAgdGhyZWU6IHtcbiAgICAgIG5hbWU6ICdNZWR1c2EnLFxuICAgICAgaW1hZ2U6ICdwdWJsaWMvYXNzZXRzL2ltYWdlcy92aWxsaWFuMy5naWYnLFxuICAgICAgYXR0YWNrOiA0LFxuICAgICAgYWNjdXJhY3k6IDAuNTZcbiAgICB9XG4gIH07XG5cbiAgY29uc3QgJGluc3RydWN0aW9ucyA9ICQoJy5pbnN0cnVjdGlvbnMnKTtcbiAgY29uc3QgJGluc3RydWN0aW9uc0J0biA9ICQoJyNpbnN0cnVjdGlvbnMnKTtcbiAgY29uc3QgJHdlbGNvbWUgPSAkKCcud2VsY29tZScpO1xuICBjb25zdCAkYmFja0J0biA9ICQoJyNiYWNrJyk7XG4gIGNvbnN0ICRwbGF5QnRuID0gJCgnI3BsYXknKTtcbiAgY29uc3QgJGNoYXJhY3RlclNjcmVlbiA9ICQoJy5jaGFyYWN0ZXItc2NyZWVuJyk7XG4gIGNvbnN0ICRzdGFydEJ0biA9ICQoJyNzdGFydCcpO1xuICBjb25zdCAkY2hvc2VuQ2hhcmFjdGVyID0gJCgnLmNob3Nlbi1jaGFyYWN0ZXInKTtcbiAgY29uc3QgJGdhbWVXaW5kb3cgPSAkKCcuZ2FtZS13aW5kb3cnKTtcbiAgY29uc3QgJGtpY2tPZmZCdG4gPSAkKCcja2ljay1vZmYnKTtcblxuICBmdW5jdGlvbiBoaWRlV2luZG93MSgpe1xuICAgICRpbnN0cnVjdGlvbnMucmVtb3ZlQ2xhc3MoJ2hpZGRlbicpO1xuICAgICR3ZWxjb21lLmFkZENsYXNzKCdoaWRkZW4nKTtcbiAgfVxuICBmdW5jdGlvbiBoaWRlV2luZG93Migpe1xuICAgICRpbnN0cnVjdGlvbnMuYWRkQ2xhc3MoJ2hpZGRlbicpO1xuICAgICR3ZWxjb21lLnJlbW92ZUNsYXNzKCdoaWRkZW4nKTtcbiAgfVxuICBmdW5jdGlvbiBnb1RvQ2hvaWNlU2NyZWVuKCl7XG4gICAgJHdlbGNvbWUuYWRkQ2xhc3MoJ2hpZGRlbicpO1xuICAgICRjaGFyYWN0ZXJTY3JlZW4ucmVtb3ZlQ2xhc3MoJ2hpZGRlbicpO1xuICB9XG4gIGZ1bmN0aW9uIHRvVGhlR2FtZSgpe1xuICAgICRjaGFyYWN0ZXJTY3JlZW4uYWRkQ2xhc3MoJ2hpZGRlbicpO1xuICAgICRjaG9zZW5DaGFyYWN0ZXIucmVtb3ZlQ2xhc3MoJ2hpZGRlbicpO1xuICB9XG4gIGZ1bmN0aW9uIHN0YXJ0VGhlR2FtZSgpe1xuICAgICRjaG9zZW5DaGFyYWN0ZXIuYWRkQ2xhc3MoJ2hpZGRlbicpO1xuICAgICRnYW1lV2luZG93LnJlbW92ZUNsYXNzKCdoaWRkZW4nKTtcbiAgICBkaXNwbGF5SGVhbHRoKCk7XG4gICAgZGlzcGxheVNjb3JlKCk7XG4gICAgZGlzcGxheVJvdW5kKCk7XG4gIH1cbiAgZnVuY3Rpb24gZ2V0VGhlTmFtZSgpe1xuICAgIHBsYXllck5hbWUgPSAkKHRoaXMpLnZhbCgpO1xuICAgIGlmIChwbGF5ZXJOYW1lLmxlbmd0aCA9PT0gMCl7XG4gICAgICBwbGF5ZXJOYW1lID0gcGxheWVyQ2hvc2VuLm5hbWU7XG4gICAgfVxuICAgICQoJyNuYW1lJykudGV4dChgSGVsbG8gJHtwbGF5ZXJOYW1lfSFgKTtcbiAgICAkKCcucGxheWVyMS1uYW1lJykudGV4dChwbGF5ZXJOYW1lKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHNlbGVjdENoYXJhY3Rlcigpe1xuICAgICQodGhpcykuYWRkQ2xhc3MoJ2FjdGl2ZScpLnNpYmxpbmdzKCkucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpO1xuICAgIGNvbnN0IGlkID0gJCh0aGlzKS5hdHRyKCdpZCcpO1xuICAgIGlmKGlkKXtcbiAgICAgICQoJyNzdGFydCcpLmF0dHIoJ2Rpc2FibGVkJywgZmFsc2UpO1xuICAgIH1cbiAgICBwbGF5ZXJDaG9zZW4gPSBjaGFyYWN0ZXJzW2lkXTtcbiAgICB2aWxsaWFuQ2hvc2VuID0gdmlsbGlhbnNbaWRdO1xuICAgICQoJy5jaG9zZW4tY2hhcmFjdGVyIGltZywgLnBsYXllcjEnKS5hdHRyKCdzcmMnLCBwbGF5ZXJDaG9zZW4uaW1hZ2UpO1xuICAgICQoJy52aWxsaWFuJykuYXR0cignc3JjJywgdmlsbGlhbkNob3Nlbi5pbWFnZSk7XG4gICAgJCgnLnZpbGxpYW4tbmFtZScpLnRleHQodmlsbGlhbkNob3Nlbi5uYW1lKTtcbiAgfVxuICBmdW5jdGlvbiBkaXNwbGF5SGVhbHRoKCl7XG4gICAgc2V0SW50ZXJ2YWwoKCkgPT4ge1xuICAgICAgJCgnI3BsYXllci1oZWFsdGgnKS5odG1sKHBsYXllckxpZmUpO1xuICAgICAgJCgnI3ZpbGxpYW4tc2NvcmUnKS5odG1sKHZpbGxpYW5MaWZlKTtcbiAgICAgICQoJ2gxJykudGV4dChgUm91bmQgJHtyb3VuZH1gKTtcbiAgICB9LCA1MDApO1xuICB9XG4gIGZ1bmN0aW9uIGRpc3BsYXlSb3VuZCgpe1xuICAgIHNldEludGVydmFsKCgpID0+IHtcbiAgICAgICQoJ2gxJykudGV4dChgUm91bmQgJHtyb3VuZH1gKTtcbiAgICB9LCA1MDApO1xuICB9XG4gIGZ1bmN0aW9uIGRpc3BsYXlTY29yZSgpe1xuICAgIHNldEludGVydmFsKCgpID0+IHtcbiAgICAgICQoJyNwbGF5ZXItc2NvcmUnKS5odG1sKHNjb3JlKTtcbiAgICB9LCA1MDApO1xuICB9XG5cbiAgZnVuY3Rpb24gYXR0YWNrVmlsbGlhbigpe1xuICAgIGlmKHR1cm4gPT09IHRydWUpe1xuICAgICAgaWYoTWF0aC5yYW5kb20oKSA8IHBsYXllckNob3Nlbi5hY2N1cmFjeSl7XG4gICAgICAgIHZpbGxpYW5MaWZlIC09IHBsYXllckNob3Nlbi5hdHRhY2s7XG4gICAgICAgIHNjb3JlICs9IDU7XG4gICAgICAgIHJvdW5kVGV4dCA9ICdZb3UgaGF2ZSBoaXQgaGltISc7XG4gICAgICB9IGVsc2V7XG4gICAgICAgIHJvdW5kVGV4dCA9ICdXaG9vb3BzISBBIG1pc3MuLi4nO1xuICAgICAgfVxuICAgICAgJCgnI2JhdHRsZS10ZXh0JykudGV4dChgJHtyb3VuZFRleHR9YCk7XG4gICAgICB0dXJuID0gZmFsc2U7XG4gICAgICB3aG9zZVR1cm4oKTtcbiAgICAgIGNoZWNrRm9yV2lubmVyKCk7XG4gICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgYXR0YWNrUGxheWVyKCk7XG4gICAgICB9LCAzMDAwKTtcbiAgICB9XG4gIH1cbiAgZnVuY3Rpb24gYXR0YWNrUGxheWVyKCl7XG4gICAgaWYodHVybiA9PT0gZmFsc2Upe1xuICAgICAgaWYoTWF0aC5yYW5kb20oKSA8IHZpbGxpYW5DaG9zZW4uYWNjdXJhY3kpe1xuICAgICAgICBwbGF5ZXJMaWZlIC09IHZpbGxpYW5DaG9zZW4uYXR0YWNrO1xuICAgICAgICByb3VuZFRleHQgPSAnQ3JhcCEgSGUgaGl0IHlvdSEnO1xuICAgICAgfSBlbHNle1xuICAgICAgICByb3VuZFRleHQgPSAnTHVja3kgdSEgVGhpcyB0aW1lIGl0IGlzIGEgbWlzcyBhbmQgeW91IGFyZSBzYWZlISc7XG4gICAgICB9XG4gICAgICAkKCcjYmF0dGxlLXRleHQnKS50ZXh0KGAke3JvdW5kVGV4dH1gKTtcbiAgICAgIGNoZWNrRm9yV2lubmVyKCk7XG4gICAgICB0dXJuID0gdHJ1ZTtcbiAgICAgIHdob3NlVHVybigpO1xuICAgIH1cbiAgfVxuICBmdW5jdGlvbiBkZWZlbmQoKXtcbiAgICB0dXJuID0gZmFsc2U7XG4gICAgd2hvc2VUdXJuKCk7XG4gICAgdmlsbGlhbkNob3Nlbi5hdHRhY2sgLT0gcGxheWVyQ2hvc2VuLmRlZmVuZDtcbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgIGF0dGFja1BsYXllcigpO1xuICAgICAgdmlsbGlhbkNob3Nlbi5hdHRhY2sgKz0gcGxheWVyQ2hvc2VuLmRlZmVuZDtcbiAgICB9LCAyMDAwKTtcbiAgfVxuICBmdW5jdGlvbiB3YXJDcnkoKXtcbiAgICB0dXJuID0gZmFsc2U7XG4gICAgd2hvc2VUdXJuKCk7XG4gICAgY29uc29sZS5sb2cocGxheWVyQ2hvc2VuLmF0dGFjayk7XG4gICAgcGxheWVyQ2hvc2VuLmF0dGFjayArPSBwbGF5ZXJDaG9zZW4ud2FyQ3J5O1xuICAgIGNvbnNvbGUubG9nKHBsYXllckNob3Nlbi5hdHRhY2spO1xuICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgYXR0YWNrUGxheWVyKCk7XG4gICAgfSwgMjAwMCk7XG4gICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICBhdHRhY2tWaWxsaWFuKCk7XG4gICAgICBwbGF5ZXJDaG9zZW4uYXR0YWNrIC09IHBsYXllckNob3Nlbi53YXJDcnk7XG4gICAgICBjb25zb2xlLmxvZyhwbGF5ZXJDaG9zZW4uYXR0YWNrKTtcbiAgICB9LCAzMDAwKTtcbiAgfVxuICBmdW5jdGlvbiBjaGVja0Zvcldpbm5lcigpe1xuICAgIGlmIChwbGF5ZXJMaWZlIDw9IDApe1xuICAgICAgZ2FtZU92ZXIoKTtcbiAgICAgIHR1cm4gPSB0cnVlO1xuICAgIH1cbiAgICBpZih2aWxsaWFuTGlmZSA8PSAwKXtcbiAgICAgICQoJyN3aW5uZXInKS50ZXh0KCdZb3Ugd29uIHRoaXMgcm91bmQhISEgVGEtZGEhIScpLmNzcyh7J2NvbG9yJzogJ3JlZCcsICdmb250LXNpemUnOiAnMzBweCd9KTtcbiAgICAgIHR1cm4gPSB0cnVlO1xuICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgIG5leHRSb3VuZCgpO1xuICAgICAgfSwgMjAwMCk7XG4gICAgfVxuICB9XG4gIGZ1bmN0aW9uIHdob3NlVHVybigpe1xuICAgIGlmICh0dXJuID09PSBmYWxzZSl7XG4gICAgICBjb25zb2xlLmxvZygnbm90IHlvdXIgdHVybicpO1xuICAgICAgJCgnLnBsYXllci1jb3JuZXIgaW1nJykucmVtb3ZlQ2xhc3MoJ2ltZy1hY3RpdmUnKTtcbiAgICB9XG4gICAgaWYgKHR1cm4gPT09IHRydWUpe1xuICAgICAgY29uc29sZS5sb2coJ3lvdXIgdHVybicpO1xuICAgICAgJCgnLnBsYXllci1jb3JuZXIgaW1nJykuYWRkQ2xhc3MoJ2ltZy1hY3RpdmUnKTtcbiAgICB9XG4gIH1cbiAgZnVuY3Rpb24gbmV4dFJvdW5kKCl7XG4gICAgY29uc29sZS5sb2coJ1JvdW5kIDIhJyk7XG4gICAgcm91bmQgKz0gMTtcbiAgICB2aWxsaWFuTGlmZSA9IDI1ICogcm91bmQ7XG4gICAgcGxheWVyTGlmZSA9IDIwICAqIHJvdW5kO1xuICAgIHJvdW5kVGV4dCA9ICcnO1xuICAgICQoJyN3aW5uZXInKS50ZXh0KCcnKTtcbiAgICAkKCcjYmF0dGxlLXRleHQnKS50ZXh0KGAke3JvdW5kVGV4dH1gKTtcbiAgfVxuICBmdW5jdGlvbiBnYW1lT3Zlcigpe1xuICAgICRnYW1lV2luZG93LmFkZENsYXNzKCdoaWRkZW4nKTtcbiAgICAkKCcuZ2FtZS1vdmVyJykucmVtb3ZlQ2xhc3MoJ2hpZGRlbicpO1xuICB9XG4gIGZ1bmN0aW9uIHJlc2V0RGF0YSgpe1xuICAgIHJvdW5kVGV4dCA9ICcnO1xuICAgIHBsYXllckxpZmUgPSAyMDtcbiAgICB2aWxsaWFuTGlmZSA9IDIwO1xuICAgIHJvdW5kID0gMTtcbiAgICBzY29yZSA9IDA7XG4gIH1cbiAgZnVuY3Rpb24gbmV3R2FtZSgpe1xuICAgICQoJy5nYW1lLW92ZXInKS5hZGRDbGFzcygnaGlkZGVuJyk7XG4gICAgcmVzZXREYXRhKCk7XG4gICAgc3RhcnRUaGVHYW1lKCk7XG4gIH1cbiAgZnVuY3Rpb24gYmFja1RvTWVudSgpe1xuICAgICQoJy5nYW1lLW92ZXInKS5hZGRDbGFzcygnaGlkZGVuJyk7XG4gICAgJCgnLndlbGNvbWUnKS5yZW1vdmVDbGFzcygnaGlkZGVuJyk7XG4gICAgcmVzZXREYXRhKCk7XG4gIH1cbiAgJGluc3RydWN0aW9uc0J0bi5vbignY2xpY2snLCBoaWRlV2luZG93MSk7XG4gICRiYWNrQnRuLm9uKCdjbGljaycsIGhpZGVXaW5kb3cyKTtcbiAgJHBsYXlCdG4ub24oJ2NsaWNrJywgZ29Ub0Nob2ljZVNjcmVlbik7XG4gICRzdGFydEJ0bi5vbignY2xpY2snLCB0b1RoZUdhbWUpO1xuICAkKCcubmFtZScpLm9uKCdrZXl1cCcsIGdldFRoZU5hbWUpO1xuICAkKCcucGVyc29uJykub24oJ2NsaWNrJywgc2VsZWN0Q2hhcmFjdGVyKTtcbiAgJGtpY2tPZmZCdG4ub24oJ2NsaWNrJywgc3RhcnRUaGVHYW1lKTtcbiAgJCgnI2F0dGFjaycpLm9uKCdjbGljaycsIGF0dGFja1ZpbGxpYW4pO1xuICAkKCcjd2FyY3J5Jykub24oJ2NsaWNrJywgd2FyQ3J5KTtcbiAgJCgnI2RlZmVuZCcpLm9uKCdjbGljaycsIGRlZmVuZCk7XG4gICQoJyN5ZXMnKS5vbignY2xpY2snLCBuZXdHYW1lKTtcbiAgJCgnI25vJykub24oJ2NsaWNrJywgYmFja1RvTWVudSk7XG59KTtcbiJdfQ==
