"use strict";$(function(){function a(){E.removeClass("hidden").addClass("animated fadeIn"),W.addClass("hidden")}function t(){E.addClass("hidden").removeClass("animated fadeIn"),W.removeClass("hidden").addClass("animated fadeIn")}function e(){W.addClass("hidden"),B.removeClass("hidden").addClass("animated fadeIn")}function n(){B.addClass("hidden"),K.removeClass("hidden").addClass("animated fadeIn")}function c(){K.addClass("hidden"),L.removeClass("hidden").addClass("animated fadeIn"),ta.text(j),d(),u(),r(),l()}function i(){j=N>j?N:j,ta.text(j)}function s(){w=$(this).val(),0===w.length&&alert("You must provide your name"),$(".player-name").text(w)}function o(){$(this).addClass("active").siblings().removeClass("active");var a=$(this).attr("id");a&&J.attr("disabled",!1),I=z[a],A=D[a],$(".chosen-character img, .player").attr("src",I.image),$(".villian").attr("src",A.image),$(".villian-name").text(A.name)}function d(){setInterval(function(){$("#player-health").html(T),$("#villian-health").html(M)},500)}function r(){setInterval(function(){$("#round-no").text("Round "+H)},500)}function l(){setInterval(function(){$("#current-attack").text(I.currentAttack)},500)}function u(){setInterval(function(){aa.html(N)},500)}function m(){!0===S&&(Math.random()<I.accuracy?(M-=I.currentAttack,N+=I.currentAttack,Y="You have hit him!",ea.attr("src","/public/assets/audio/punch.wav"),console.log(ea)):Y="Whooops! A miss...",I.currentAttack=I.attack,$("#battle-text").text(""+Y),S=!1,v(),g(),i(),setTimeout(function(){f()},3e3))}function f(){!1===S&&(Math.random()<A.accuracy?(T-=A.attack,Y="He hit you!"):Y="You are safe!",$("#battle-text").text(""+Y),g(),S=!0,v())}function h(){$("#battle-text").text(""),S=!1,v(),A.attack-=I.defend,setTimeout(function(){f(),A.attack+=I.defend},2e3)}function k(){$("#battle-text").text(""),S=!1,v(),I.currentAttack+=I.warCry,setTimeout(function(){f()},2e3)}function g(){T<=0&&y(),M<=0&&($("#winner").text("You won this round!!! Ta-da!!").css({color:"#C5D200","font-size":"28px"}),S=!0,setTimeout(function(){C()},2e3))}function v(){!1===S&&$(".player-section img").removeClass("img-active"),!0===S&&$(".player-section img").addClass("img-active")}function C(){H+=1,M=25*H,T=20*H,Y="",$("#winner").text(""),$("#battle-text").text(""+Y)}function y(){localStorage.setItem("highScore",j),L.addClass("hidden"),P.removeClass("hidden").addClass("animated fadeIn")}function p(){Y="",$("#battle-text").text(""+Y),T=20,M=20,H=1,N=0,I.currentAttack=I.attack,S=!0}function x(){P.addClass("hidden"),p(),c()}function b(){P.addClass("hidden"),W.removeClass("hidden").addClass("animated fadeIn"),p()}var w=void 0,I=void 0,A=void 0,T=20,M=20,S=!0,Y=void 0,H=1,N=0,j=localStorage.getItem("highScore")||0,z={one:{name:"Nick",image:"public/assets/images/player1.gif",attack:4,currentAttack:4,warCry:2,defend:4,accuracy:.4},two:{name:"Ellen",image:"public/assets/images/player2.gif",attack:1,currentAttack:1,warCry:5,defend:5,accuracy:.8},three:{name:"Mutant Nick",image:"public/assets/images/player3.gif",attack:6,currentAttack:6,warCry:1,defend:2,accuracy:.5}},D={one:{name:"Henry",image:"public/assets/images/villian3.jpg",attack:5,accuracy:.5},two:{name:"Xenomorph",image:"public/assets/images/villian2.gif",attack:20,accuracy:.8},three:{name:"Medusa",image:"public/assets/images/villian3.gif",attack:4,accuracy:.56}},E=$(".instructions"),R=$("#instructions"),W=$(".welcome"),X=$("#back"),q=$("#play"),B=$(".character-screen"),F=$(".character"),G=$(".name"),J=$("#start"),K=$(".chosen-character"),L=$(".game-window"),O=$("#kick-off"),P=$(".game-over"),Q=$("#attack"),U=$("#warcry"),V=$("#defend"),Z=$("#new-game"),_=$("#back-to-menu"),aa=$("#player-score"),ta=$(".high-score"),ea=$("#audio");R.on("click",a),X.on("click",t),q.on("click",e),J.on("click",n),G.on("keyup",s),F.on("click",o),O.on("click",c),Q.on("click",m),U.on("click",k),V.on("click",h),Z.on("click",x),_.on("click",b)});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC5qcyJdLCJuYW1lcyI6WyIkIiwiJGF1ZGlvIiwiJGluc3RydWN0aW9ucyIsInJlbW92ZUNsYXNzIiwiYWRkQ2xhc3MiLCIkd2VsY29tZSIsImhpZGVXaW5kb3cxIiwiaGlkZVdpbmRvdzIiLCIkY2hhcmFjdGVyU2NyZWVuIiwiZ29Ub0Nob2ljZVNjcmVlbiIsIiRjaG9zZW5DaGFyYWN0ZXIiLCIkZ2FtZVdpbmRvdyIsInN0YXJ0VGhlR2FtZSIsIiRoaWdoU2NvcmUiLCJkaXNwbGF5SGVhbHRoIiwiZGlzcGxheVNjb3JlIiwiZGlzcGxheUN1cnJlbnRBdHRhY2siLCJoaWdoU2NvcmUiLCJzY29yZSIsInVwZGF0ZUhpZ2hTY29yZSIsInBsYXllck5hbWUiLCJ0aGlzIiwidmFsIiwiZ2V0VGhlTmFtZSIsImFsZXJ0IiwidGV4dCIsInNlbGVjdENoYXJhY3RlciIsInNpYmxpbmdzIiwiaWQiLCIkc3RhcnRCdG4iLCJhdHRyIiwidmlsbGlhbkNob3NlbiIsInZpbGxpYW5zIiwicGxheWVyQ2hvc2VuIiwiaW1hZ2UiLCJzZXRJbnRlcnZhbCIsImh0bWwiLCJwbGF5ZXJMaWZlIiwidmlsbGlhbkxpZmUiLCJkaXNwbGF5Um91bmQiLCJyb3VuZCIsImN1cnJlbnRBdHRhY2siLCIkc2NvcmUiLCJhdHRhY2tWaWxsaWFuIiwidHVybiIsIk1hdGgiLCJhY2N1cmFjeSIsInJhbmRvbSIsInJvdW5kVGV4dCIsImNvbnNvbGUiLCJhdHRhY2siLCJ3aG9zZVR1cm4iLCJjaGVja0Zvcldpbm5lciIsInNldFRpbWVvdXQiLCJhdHRhY2tQbGF5ZXIiLCJkZWZlbmQiLCJ3YXJDcnkiLCJnYW1lT3ZlciIsImNzcyIsImNvbG9yIiwiZm9udC1zaXplIiwibmV4dFJvdW5kIiwibG9jYWxTdG9yYWdlIiwic2V0SXRlbSIsIiRnYW1lT3ZlclNjcmVlbiIsIm5ld0dhbWUiLCJyZXNldERhdGEiLCJiYWNrVG9NZW51IiwiZ2V0SXRlbSIsIm9uZSIsImNoYXJhY3RlcnMiLCJuYW1lIiwidHdvIiwidGhyZWUiLCIkaW5zdHJ1Y3Rpb25zQnRuIiwiJGJhY2tCdG4iLCIkcGxheUJ0biIsIiRjaGFyYWN0ZXIiLCIkbmFtZSIsIiRraWNrT2ZmQnRuIiwiJGF0dGFjayIsIiR3YXJDcnkiLCIkZGVmZW5kIiwiJG5ld0dhbWUiLCIkYmFja1RvTWVudSIsIm9uIiwidG9UaGVHYW1lIl0sIm1hcHBpbmdzIjoiWUFBQUEsR0FBRSxXQWtGQSxRQUFNQyxLQUdKQyxFQUFjQyxZQUFZLFVBQVVDLFNBQVMsbUJBRC9DQyxFQUFTQyxTQUFULFVBRUVELFFBQUFBLEtBQ0RILEVBQUFFLFNBQUEsVUFBQUQsWUFBQSxtQkFDREUsRUFBU0UsWUFBYSxVQUFBSCxTQUFBLG1CQUVwQkMsUUFBQUEsS0FDREEsRUFBQUQsU0FBQSxVQUNESSxFQUFTQyxZQUFrQixVQUFBTCxTQUFBLG1CQUV6QkksUUFBQUEsS0FDREEsRUFBQUosU0FBQSxVQUNETSxFQUFBUCxZQUFvQixVQUFBQyxTQUFBLG1CQUVsQk0sUUFBQUEsS0FDREEsRUFBQU4sU0FBQSxVQUNETyxFQUFTQyxZQUFjLFVBQUFSLFNBQUEsbUJBQ3JCTSxHQUFBQSxLQUFBQSxHQUNBQyxJQUNBRSxJQUNBQyxJQUNBQyxJQUVBQyxRQUFBQSxLQUNEQyxFQUFBQyxFQUFBRCxFQUFBQyxFQUFBRCxFQUNESixHQUFTTSxLQUFBQSxHQUVQTixRQUFBQSxLQUNETyxFQUFBcEIsRUFBQXFCLE1BQUFDLE1BQ29CLElBQXJCRixFQUFTRyxRQUNQSCxNQUFBQSw4QkFFRUksRUFBQUEsZ0JBQU1DLEtBQUFMLEdBR1QsUUFBQU0sS0FHQzFCLEVBQUVxQixNQUFNakIsU0FBUyxVQUFVdUIsV0FBV3hCLFlBQVksU0FEcEQsSUFBQXlCLEdBQVNGLEVBQUFBLE1BQUFBLEtBQVQsS0FDSUUsSUFDRkMsRUFBYUMsS0FBTUEsWUFBbkIsR0FFRUQsRUFBVUMsRUFBS0YsR0FDaEJHLEVBQUFDLEVBQUFKLEdBQ0RLLEVBQUFBLGtDQUFBSCxLQUFBLE1BQUFHLEVBQUFDLE9BQ0FILEVBQUFBLFlB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QUFBQSxRQUFBQSxHQUNEUyxFQUFBVSxHQUFBLFFBQUE5RSxHQUNEbUUsRUFBQUEsR0FBQUEsUUFBb0JqRSxHQUNwQmtFLEVBQVNVLEdBQUcsUUFBUzlFLEdBQ3JCcUUsRUFBQUEsR0FBU1MsUUFBRzlELEdBQ1pNLEVBQVV3RCxHQUFHLFFBQVNDLEdBQ3RCUixFQUFTTyxHQUFBLFFBQVM5RCxHQUNsQnNELEVBQUFBLEdBQVdRLFFBQUcxQyxHQUNkb0MsRUFBQUEsR0FBQUEsUUFBZXZCLEdBQ2Z3QixFQUFRSyxHQUFHLFFBQVMxQyxHQUNwQnNDLEVBQVFJLEdBQUcsUUFBUzdCLEdBQ3BCMEIsRUFBV0csR0FBQSxRQUFTOUIiLCJmaWxlIjoiYXBwLmpzIiwic291cmNlc0NvbnRlbnQiOlsiJCgoKSA9PiB7XG4gIGxldCBwbGF5ZXJOYW1lO1xuICBsZXQgcGxheWVyQ2hvc2VuO1xuICBsZXQgdmlsbGlhbkNob3NlbjtcbiAgbGV0IHBsYXllckxpZmUgPSAyMDtcbiAgbGV0IHZpbGxpYW5MaWZlID0gMjA7XG4gIGxldCB0dXJuID0gdHJ1ZTtcbiAgbGV0IHJvdW5kVGV4dDtcbiAgbGV0IHJvdW5kID0gMTtcbiAgbGV0IHNjb3JlID0gMDtcbiAgbGV0IGhpZ2hTY29yZSA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdoaWdoU2NvcmUnKSB8fCAwO1xuXG4gIGNvbnN0IGNoYXJhY3RlcnMgPSB7XG4gICAgb25lOiB7XG4gICAgICBuYW1lOiAnTmljaycsXG4gICAgICBpbWFnZTogJ3B1YmxpYy9hc3NldHMvaW1hZ2VzL3BsYXllcjEuZ2lmJyxcbiAgICAgIGF0dGFjazogNCxcbiAgICAgIGN1cnJlbnRBdHRhY2s6IDQsXG4gICAgICB3YXJDcnk6IDIsXG4gICAgICBkZWZlbmQ6IDQsXG4gICAgICBhY2N1cmFjeTogMC40XG4gICAgfSxcbiAgICB0d286IHtcbiAgICAgIG5hbWU6ICdFbGxlbicsXG4gICAgICBpbWFnZTogJ3B1YmxpYy9hc3NldHMvaW1hZ2VzL3BsYXllcjIuZ2lmJyxcbiAgICAgIGF0dGFjazogMSxcbiAgICAgIGN1cnJlbnRBdHRhY2s6IDEsXG4gICAgICB3YXJDcnk6IDUsXG4gICAgICBkZWZlbmQ6IDUsXG4gICAgICBhY2N1cmFjeTogMC44XG4gICAgfSxcbiAgICB0aHJlZToge1xuICAgICAgbmFtZTogJ011dGFudCBOaWNrJyxcbiAgICAgIGltYWdlOiAncHVibGljL2Fzc2V0cy9pbWFnZXMvcGxheWVyMy5naWYnLFxuICAgICAgYXR0YWNrOiA2LFxuICAgICAgY3VycmVudEF0dGFjazogNixcbiAgICAgIHdhckNyeTogMSxcbiAgICAgIGRlZmVuZDogMixcbiAgICAgIGFjY3VyYWN5OiAwLjVcbiAgICB9XG4gIH07XG4gIGNvbnN0IHZpbGxpYW5zID0ge1xuICAgIG9uZToge1xuICAgICAgbmFtZTogJ0hlbnJ5JyxcbiAgICAgIGltYWdlOiAncHVibGljL2Fzc2V0cy9pbWFnZXMvdmlsbGlhbjMuanBnJyxcbiAgICAgIGF0dGFjazogNSxcbiAgICAgIGFjY3VyYWN5OiAwLjVcbiAgICB9LFxuICAgIHR3bzoge1xuICAgICAgbmFtZTogJ1hlbm9tb3JwaCcsXG4gICAgICBpbWFnZTogJ3B1YmxpYy9hc3NldHMvaW1hZ2VzL3ZpbGxpYW4yLmdpZicsXG4gICAgICBhdHRhY2s6IDIwLFxuICAgICAgYWNjdXJhY3k6IDAuOFxuICAgIH0sXG4gICAgdGhyZWU6IHtcbiAgICAgIG5hbWU6ICdNZWR1c2EnLFxuICAgICAgaW1hZ2U6ICdwdWJsaWMvYXNzZXRzL2ltYWdlcy92aWxsaWFuMy5naWYnLFxuICAgICAgYXR0YWNrOiA0LFxuICAgICAgYWNjdXJhY3k6IDAuNTZcbiAgICB9XG4gIH07XG5cbiAgY29uc3QgJGluc3RydWN0aW9ucyA9ICQoJy5pbnN0cnVjdGlvbnMnKTtcbiAgY29uc3QgJGluc3RydWN0aW9uc0J0biA9ICQoJyNpbnN0cnVjdGlvbnMnKTtcbiAgY29uc3QgJHdlbGNvbWUgPSAkKCcud2VsY29tZScpO1xuICBjb25zdCAkYmFja0J0biA9ICQoJyNiYWNrJyk7XG4gIGNvbnN0ICRwbGF5QnRuID0gJCgnI3BsYXknKTtcbiAgY29uc3QgJGNoYXJhY3RlclNjcmVlbiA9ICQoJy5jaGFyYWN0ZXItc2NyZWVuJyk7XG4gIGNvbnN0ICRjaGFyYWN0ZXIgPSAkKCcuY2hhcmFjdGVyJyk7XG4gIGNvbnN0ICRuYW1lID0gJCgnLm5hbWUnKTtcbiAgY29uc3QgJHN0YXJ0QnRuID0gJCgnI3N0YXJ0Jyk7XG4gIGNvbnN0ICRjaG9zZW5DaGFyYWN0ZXIgPSAkKCcuY2hvc2VuLWNoYXJhY3RlcicpO1xuICBjb25zdCAkZ2FtZVdpbmRvdyA9ICQoJy5nYW1lLXdpbmRvdycpO1xuICBjb25zdCAka2lja09mZkJ0biA9ICQoJyNraWNrLW9mZicpO1xuICBjb25zdCAkZ2FtZU92ZXJTY3JlZW4gPSAkKCcuZ2FtZS1vdmVyJyk7XG4gIGNvbnN0ICRhdHRhY2sgPSAkKCcjYXR0YWNrJyk7XG4gIGNvbnN0ICR3YXJDcnkgPSAkKCcjd2FyY3J5Jyk7XG4gIGNvbnN0ICRkZWZlbmQgPSAkKCcjZGVmZW5kJyk7XG4gIGNvbnN0ICRuZXdHYW1lID0gJCgnI25ldy1nYW1lJyk7XG4gIGNvbnN0ICRiYWNrVG9NZW51ID0gJCgnI2JhY2stdG8tbWVudScpO1xuICBjb25zdCAkc2NvcmUgPSAkKCcjcGxheWVyLXNjb3JlJyk7XG4gIGNvbnN0ICRoaWdoU2NvcmUgPSAkKCcuaGlnaC1zY29yZScpO1xuICBjb25zdCAkYXVkaW8gPSAkKCcjYXVkaW8nKTtcblxuICBmdW5jdGlvbiBoaWRlV2luZG93MSgpe1xuICAgICRpbnN0cnVjdGlvbnMucmVtb3ZlQ2xhc3MoJ2hpZGRlbicpLmFkZENsYXNzKCdhbmltYXRlZCBmYWRlSW4nKTtcbiAgICAkd2VsY29tZS5hZGRDbGFzcygnaGlkZGVuJyk7XG4gIH1cbiAgZnVuY3Rpb24gaGlkZVdpbmRvdzIoKXtcbiAgICAkaW5zdHJ1Y3Rpb25zLmFkZENsYXNzKCdoaWRkZW4nKS5yZW1vdmVDbGFzcygnYW5pbWF0ZWQgZmFkZUluJyk7XG4gICAgJHdlbGNvbWUucmVtb3ZlQ2xhc3MoJ2hpZGRlbicpLmFkZENsYXNzKCdhbmltYXRlZCBmYWRlSW4nKTtcbiAgfVxuICBmdW5jdGlvbiBnb1RvQ2hvaWNlU2NyZWVuKCl7XG4gICAgJHdlbGNvbWUuYWRkQ2xhc3MoJ2hpZGRlbicpO1xuICAgICRjaGFyYWN0ZXJTY3JlZW4ucmVtb3ZlQ2xhc3MoJ2hpZGRlbicpLmFkZENsYXNzKCdhbmltYXRlZCBmYWRlSW4nKTtcbiAgfVxuICBmdW5jdGlvbiB0b1RoZUdhbWUoKXtcbiAgICAkY2hhcmFjdGVyU2NyZWVuLmFkZENsYXNzKCdoaWRkZW4nKTtcbiAgICAkY2hvc2VuQ2hhcmFjdGVyLnJlbW92ZUNsYXNzKCdoaWRkZW4nKS5hZGRDbGFzcygnYW5pbWF0ZWQgZmFkZUluJyk7XG4gIH1cbiAgZnVuY3Rpb24gc3RhcnRUaGVHYW1lKCl7XG4gICAgJGNob3NlbkNoYXJhY3Rlci5hZGRDbGFzcygnaGlkZGVuJyk7XG4gICAgJGdhbWVXaW5kb3cucmVtb3ZlQ2xhc3MoJ2hpZGRlbicpLmFkZENsYXNzKCdhbmltYXRlZCBmYWRlSW4nKTtcbiAgICAkaGlnaFNjb3JlLnRleHQoaGlnaFNjb3JlKTtcbiAgICBkaXNwbGF5SGVhbHRoKCk7XG4gICAgZGlzcGxheVNjb3JlKCk7XG4gICAgZGlzcGxheVJvdW5kKCk7XG4gICAgZGlzcGxheUN1cnJlbnRBdHRhY2soKTtcbiAgfVxuICBmdW5jdGlvbiB1cGRhdGVIaWdoU2NvcmUoKXtcbiAgICBoaWdoU2NvcmUgPSBzY29yZSA+IGhpZ2hTY29yZSA/IHNjb3JlIDogaGlnaFNjb3JlO1xuICAgICRoaWdoU2NvcmUudGV4dChoaWdoU2NvcmUpO1xuICB9XG4gIGZ1bmN0aW9uIGdldFRoZU5hbWUoKXtcbiAgICBwbGF5ZXJOYW1lID0gJCh0aGlzKS52YWwoKTtcbiAgICBpZiAocGxheWVyTmFtZS5sZW5ndGggPT09IDApe1xuICAgICAgYWxlcnQoJ1lvdSBtdXN0IHByb3ZpZGUgeW91ciBuYW1lJyk7XG4gICAgfVxuICAgICQoJy5wbGF5ZXItbmFtZScpLnRleHQocGxheWVyTmFtZSk7XG4gIH1cblxuICBmdW5jdGlvbiBzZWxlY3RDaGFyYWN0ZXIoKXtcbiAgICAkKHRoaXMpLmFkZENsYXNzKCdhY3RpdmUnKS5zaWJsaW5ncygpLnJlbW92ZUNsYXNzKCdhY3RpdmUnKTtcbiAgICBjb25zdCBpZCA9ICQodGhpcykuYXR0cignaWQnKTtcbiAgICBpZihpZCl7XG4gICAgICAkc3RhcnRCdG4uYXR0cignZGlzYWJsZWQnLCBmYWxzZSk7XG4gICAgfVxuICAgIHBsYXllckNob3NlbiA9IGNoYXJhY3RlcnNbaWRdO1xuICAgIHZpbGxpYW5DaG9zZW4gPSB2aWxsaWFuc1tpZF07XG4gICAgJCgnLmNob3Nlbi1jaGFyYWN0ZXIgaW1nLCAucGxheWVyJykuYXR0cignc3JjJywgcGxheWVyQ2hvc2VuLmltYWdlKTtcbiAgICAkKCcudmlsbGlhbicpLmF0dHIoJ3NyYycsIHZpbGxpYW5DaG9zZW4uaW1hZ2UpO1xuICAgICQoJy52aWxsaWFuLW5hbWUnKS50ZXh0KHZpbGxpYW5DaG9zZW4ubmFtZSk7XG4gIH1cbiAgZnVuY3Rpb24gZGlzcGxheUhlYWx0aCgpe1xuICAgIHNldEludGVydmFsKCgpID0+IHtcbiAgICAgICQoJyNwbGF5ZXItaGVhbHRoJykuaHRtbChwbGF5ZXJMaWZlKTtcbiAgICAgICQoJyN2aWxsaWFuLWhlYWx0aCcpLmh0bWwodmlsbGlhbkxpZmUpO1xuICAgIH0sIDUwMCk7XG4gIH1cbiAgZnVuY3Rpb24gZGlzcGxheVJvdW5kKCl7XG4gICAgc2V0SW50ZXJ2YWwoKCkgPT4ge1xuICAgICAgJCgnI3JvdW5kLW5vJykudGV4dChgUm91bmQgJHtyb3VuZH1gKTtcbiAgICB9LCA1MDApO1xuICB9XG4gIGZ1bmN0aW9uIGRpc3BsYXlDdXJyZW50QXR0YWNrKCl7XG4gICAgc2V0SW50ZXJ2YWwoKCkgPT4ge1xuICAgICAgJCgnI2N1cnJlbnQtYXR0YWNrJykudGV4dChwbGF5ZXJDaG9zZW4uY3VycmVudEF0dGFjayk7XG4gICAgfSwgNTAwKTtcbiAgfVxuICBmdW5jdGlvbiBkaXNwbGF5U2NvcmUoKXtcbiAgICBzZXRJbnRlcnZhbCgoKSA9PiB7XG4gICAgICAkc2NvcmUuaHRtbChzY29yZSk7XG4gICAgfSwgNTAwKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGF0dGFja1ZpbGxpYW4oKXtcbiAgICBpZih0dXJuID09PSB0cnVlKXtcbiAgICAgIGlmKE1hdGgucmFuZG9tKCkgPCBwbGF5ZXJDaG9zZW4uYWNjdXJhY3kpe1xuICAgICAgICB2aWxsaWFuTGlmZSAtPSBwbGF5ZXJDaG9zZW4uY3VycmVudEF0dGFjaztcbiAgICAgICAgc2NvcmUgKz0gcGxheWVyQ2hvc2VuLmN1cnJlbnRBdHRhY2s7XG4gICAgICAgIHJvdW5kVGV4dCA9ICdZb3UgaGF2ZSBoaXQgaGltISc7XG4gICAgICAgICRhdWRpby5hdHRyKCdzcmMnLCcvcHVibGljL2Fzc2V0cy9hdWRpby9wdW5jaC53YXYnKTtcbiAgICAgICAgY29uc29sZS5sb2coJGF1ZGlvKTtcbiAgICAgIH0gZWxzZXtcbiAgICAgICAgcm91bmRUZXh0ID0gJ1dob29vcHMhIEEgbWlzcy4uLic7XG4gICAgICB9XG4gICAgICBwbGF5ZXJDaG9zZW4uY3VycmVudEF0dGFjayA9IHBsYXllckNob3Nlbi5hdHRhY2s7XG4gICAgICAkKCcjYmF0dGxlLXRleHQnKS50ZXh0KGAke3JvdW5kVGV4dH1gKTtcbiAgICAgIHR1cm4gPSBmYWxzZTtcbiAgICAgIHdob3NlVHVybigpO1xuICAgICAgY2hlY2tGb3JXaW5uZXIoKTtcbiAgICAgIHVwZGF0ZUhpZ2hTY29yZSgpO1xuICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgIGF0dGFja1BsYXllcigpO1xuICAgICAgfSwgMzAwMCk7XG4gICAgfVxuICB9XG4gIGZ1bmN0aW9uIGF0dGFja1BsYXllcigpe1xuICAgIGlmKHR1cm4gPT09IGZhbHNlKXtcbiAgICAgIGlmKE1hdGgucmFuZG9tKCkgPCB2aWxsaWFuQ2hvc2VuLmFjY3VyYWN5KXtcbiAgICAgICAgcGxheWVyTGlmZSAtPSB2aWxsaWFuQ2hvc2VuLmF0dGFjaztcbiAgICAgICAgcm91bmRUZXh0ID0gJ0hlIGhpdCB5b3UhJztcbiAgICAgIH0gZWxzZXtcbiAgICAgICAgcm91bmRUZXh0ID0gJ1lvdSBhcmUgc2FmZSEnO1xuICAgICAgfVxuICAgICAgJCgnI2JhdHRsZS10ZXh0JykudGV4dChgJHtyb3VuZFRleHR9YCk7XG4gICAgICBjaGVja0Zvcldpbm5lcigpO1xuICAgICAgdHVybiA9IHRydWU7XG4gICAgICB3aG9zZVR1cm4oKTtcbiAgICB9XG4gIH1cbiAgZnVuY3Rpb24gZGVmZW5kKCl7XG4gICAgJCgnI2JhdHRsZS10ZXh0JykudGV4dCgnJyk7XG4gICAgdHVybiA9IGZhbHNlO1xuICAgIHdob3NlVHVybigpO1xuICAgIHZpbGxpYW5DaG9zZW4uYXR0YWNrIC09IHBsYXllckNob3Nlbi5kZWZlbmQ7XG4gICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICBhdHRhY2tQbGF5ZXIoKTtcbiAgICAgIHZpbGxpYW5DaG9zZW4uYXR0YWNrICs9IHBsYXllckNob3Nlbi5kZWZlbmQ7XG4gICAgfSwgMjAwMCk7XG4gIH1cbiAgZnVuY3Rpb24gd2FyQ3J5KCl7XG4gICAgJCgnI2JhdHRsZS10ZXh0JykudGV4dCgnJyk7XG4gICAgdHVybiA9IGZhbHNlO1xuICAgIHdob3NlVHVybigpO1xuICAgIHBsYXllckNob3Nlbi5jdXJyZW50QXR0YWNrICs9IHBsYXllckNob3Nlbi53YXJDcnk7XG4gICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICBhdHRhY2tQbGF5ZXIoKTtcbiAgICB9LCAyMDAwKTtcbiAgfVxuICBmdW5jdGlvbiBjaGVja0Zvcldpbm5lcigpe1xuICAgIGlmIChwbGF5ZXJMaWZlIDw9IDApe1xuICAgICAgZ2FtZU92ZXIoKTtcbiAgICB9XG4gICAgaWYodmlsbGlhbkxpZmUgPD0gMCl7XG4gICAgICAkKCcjd2lubmVyJykudGV4dCgnWW91IHdvbiB0aGlzIHJvdW5kISEhIFRhLWRhISEnKS5jc3Moeydjb2xvcic6ICcjQzVEMjAwJywgJ2ZvbnQtc2l6ZSc6ICcyOHB4J30pO1xuICAgICAgdHVybiA9IHRydWU7XG4gICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgbmV4dFJvdW5kKCk7XG4gICAgICB9LCAyMDAwKTtcbiAgICB9XG4gIH1cbiAgZnVuY3Rpb24gd2hvc2VUdXJuKCl7XG4gICAgaWYgKHR1cm4gPT09IGZhbHNlKXtcbiAgICAgICQoJy5wbGF5ZXItc2VjdGlvbiBpbWcnKS5yZW1vdmVDbGFzcygnaW1nLWFjdGl2ZScpO1xuICAgIH1cbiAgICBpZiAodHVybiA9PT0gdHJ1ZSl7XG4gICAgICAkKCcucGxheWVyLXNlY3Rpb24gaW1nJykuYWRkQ2xhc3MoJ2ltZy1hY3RpdmUnKTtcbiAgICB9XG4gIH1cbiAgZnVuY3Rpb24gbmV4dFJvdW5kKCl7XG4gICAgcm91bmQgKz0gMTtcbiAgICB2aWxsaWFuTGlmZSA9IDI1ICogcm91bmQ7XG4gICAgcGxheWVyTGlmZSA9IDIwICAqIHJvdW5kO1xuICAgIHJvdW5kVGV4dCA9ICcnO1xuICAgICQoJyN3aW5uZXInKS50ZXh0KCcnKTtcbiAgICAkKCcjYmF0dGxlLXRleHQnKS50ZXh0KGAke3JvdW5kVGV4dH1gKTtcbiAgfVxuICBmdW5jdGlvbiBnYW1lT3Zlcigpe1xuICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdoaWdoU2NvcmUnLCBoaWdoU2NvcmUpO1xuICAgICRnYW1lV2luZG93LmFkZENsYXNzKCdoaWRkZW4nKTtcbiAgICAkZ2FtZU92ZXJTY3JlZW4ucmVtb3ZlQ2xhc3MoJ2hpZGRlbicpLmFkZENsYXNzKCdhbmltYXRlZCBmYWRlSW4nKTtcbiAgfVxuICBmdW5jdGlvbiByZXNldERhdGEoKXtcbiAgICByb3VuZFRleHQgPSAnJztcbiAgICAkKCcjYmF0dGxlLXRleHQnKS50ZXh0KGAke3JvdW5kVGV4dH1gKTtcbiAgICBwbGF5ZXJMaWZlID0gMjA7XG4gICAgdmlsbGlhbkxpZmUgPSAyMDtcbiAgICByb3VuZCA9IDE7XG4gICAgc2NvcmUgPSAwO1xuICAgIHBsYXllckNob3Nlbi5jdXJyZW50QXR0YWNrID0gcGxheWVyQ2hvc2VuLmF0dGFjaztcbiAgICB0dXJuID0gdHJ1ZTtcbiAgfVxuICBmdW5jdGlvbiBuZXdHYW1lKCl7XG4gICAgJGdhbWVPdmVyU2NyZWVuLmFkZENsYXNzKCdoaWRkZW4nKTtcbiAgICByZXNldERhdGEoKTtcbiAgICBzdGFydFRoZUdhbWUoKTtcbiAgfVxuICBmdW5jdGlvbiBiYWNrVG9NZW51KCl7XG4gICAgJGdhbWVPdmVyU2NyZWVuLmFkZENsYXNzKCdoaWRkZW4nKTtcbiAgICAkd2VsY29tZS5yZW1vdmVDbGFzcygnaGlkZGVuJykuYWRkQ2xhc3MoJ2FuaW1hdGVkIGZhZGVJbicpO1xuICAgIHJlc2V0RGF0YSgpO1xuICB9XG4gICRpbnN0cnVjdGlvbnNCdG4ub24oJ2NsaWNrJywgaGlkZVdpbmRvdzEpO1xuICAkYmFja0J0bi5vbignY2xpY2snLCBoaWRlV2luZG93Mik7XG4gICRwbGF5QnRuLm9uKCdjbGljaycsIGdvVG9DaG9pY2VTY3JlZW4pO1xuICAkc3RhcnRCdG4ub24oJ2NsaWNrJywgdG9UaGVHYW1lKTtcbiAgJG5hbWUub24oJ2tleXVwJywgZ2V0VGhlTmFtZSk7XG4gICRjaGFyYWN0ZXIub24oJ2NsaWNrJywgc2VsZWN0Q2hhcmFjdGVyKTtcbiAgJGtpY2tPZmZCdG4ub24oJ2NsaWNrJywgc3RhcnRUaGVHYW1lKTtcbiAgJGF0dGFjay5vbignY2xpY2snLCBhdHRhY2tWaWxsaWFuKTtcbiAgJHdhckNyeS5vbignY2xpY2snLCB3YXJDcnkpO1xuICAkZGVmZW5kLm9uKCdjbGljaycsIGRlZmVuZCk7XG4gICRuZXdHYW1lLm9uKCdjbGljaycsIG5ld0dhbWUpO1xuICAkYmFja1RvTWVudS5vbignY2xpY2snLCBiYWNrVG9NZW51KTtcbn0pO1xuIl19
